{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"ScolCoin Chain Documentation","text":"<p>Welcome to the ScolCoin Chain documentation site!</p> <p>Please note that both the ScolCoin Chain software and this documentation site will improve over time and is still a work-in-progress. Be sure to engage with our community channels to stay updated.</p> <p>Have fun trading and see you on chain!</p>"},{"location":"index.html#what-is-scolcoin-chain","title":"What is ScolCoin Chain?","text":"<p>ScolCoin Chain is an innovative solution to bring programmability and interoperability to ScolCoin Chain. ScolCoin Chain relies on a system of PoA consensus that can support short block time and lower fees. The most bonded validator candidates of staking will become validators and produce blocks. The double-sign detection and other slashing logic guarantee security, stability, and chain finality.</p> <p>Please read the FAQ to get started.</p>"},{"location":"index.html#what-can-i-do-with-scolcoin-chain","title":"What can I do with ScolCoin Chain?","text":"<p>The purpose of the new blockchain and DEX is to create an alternative marketplace for issuing and exchanging digital assets in a decentralized manner.</p> <p>You can:</p> <ul> <li>Send and receive SCOL</li> <li>Issue new tokens to digitalize assets, and use ScolCoin Chain as underlying exchange/transfer network for the assets</li> </ul> <p>For developers, you can also:</p> <p>ScolCoin Chain, SCOL boasts smart contract functionality and compatibility with the Ethereum Virtual Machine (EVM). The design goal here was to leave the high throughput of ScolCoin Chain intact while introducing smart contracts into its ecosystem.</p> <p>Because SCOL is EVM-compatible, it launched with support for the rich universe of Ethereum tools and DApps. In theory, this makes it easy for developers to port their projects over from Ethereum. For users, it means that applications like MetaMask can be easily configured to work with TC. Seriously \u2013 it\u2019s just a matter of tweaking a couple of settings. Check out Use MetaMask for ScolCoin Chain to get started.</p> <p>You can:</p> <ul> <li>Send and receive SCOL</li> <li>Explore the transaction history and blocks on the chain, via SCOL SCAN, API and node RPC interfaces.</li> </ul> <p>Developers can also:</p> <ul> <li>Issue new tokens to digitalize assets</li> <li>Run a full node to listen to and broadcast live updates on transactions, blocks, and consensus activities</li> <li>Develop wallets and tools to help users use Dapps</li> </ul>"},{"location":"index.html#get-started","title":"Get Started","text":"<p>Want to try it ScolCoin Chain? Just give a peek at the first few of pages of the getting started guide. You could also have a read through the FAQ.</p> <p>Want to develop on ScolCoin Chain? First, read through the FAQ and learn about tokens here.</p>"},{"location":"index.html#asset-management","title":"Asset Management","text":""},{"location":"index.html#src20-asset","title":"SRC20 Asset","text":"<p>A token protocol on SCOL which is compatible with ERC20. It extends ERC20 and contains more interfaces, such as <code>getOwner</code> and <code>decimals</code>. Read the full proposal here: https://github.com/githubusername/githubrepo</p> <ul> <li>Issue SRC20</li> <li>Wallet</li> </ul>"},{"location":"index.html#scol-and-other-coins-mainnet-switch","title":"SCOL (and Other Coins) MainNet Switch","text":"<p>ScolCoin (SCOL) was an ERC20 token on the Ethereum network. After the launch of ScolCoin Chain, ScolCoin (SCOL) is being converted into native SCOL tokens on the main network via the exchange platform at scolcoin.com, a pragmatic and efficient way to perform the initial token swap.</p> <p>ScolCoin Chain is ready for other projects to migrate their tokens to take advantage of performant transactions with more liquidity options and native marketplace features. More information about how projects can set themselves up for this (via scolcoin.com or partners) will come soon.</p>"},{"location":"index.html#technology-details","title":"Technology Details","text":"<p>Continue reading below if you are interested in what is happening under the hood!</p> <ul> <li>ScolCoin Chain as a Block Chain: about consensus, software stack, network layout and roles.</li> <li>Run a ScolCoin Chain full node: how to run a full node and become part of the p2p network of ScolCoin Chain.</li> </ul>"},{"location":"index.html#acknowledgement","title":"Acknowledgement","text":"<p>Thanks to the community, our partners and supporters.</p>"},{"location":"CONTRIBUTING.html","title":"How to Contribute to ScolCoin Chain Documentations Project","text":"<p>Your contributions to the ScolCoin Chain will help build a fast and secure decentralized digital asset exchange.</p> <p>We want to make it as easy as possible to contribute changes that help the ScolCoin Chain grow and thrive. There are a few guidelines that we ask contributors to follow so that we can merge your changes quickly.</p>"},{"location":"CONTRIBUTING.html#getting-started","title":"Getting Started","text":"<ul> <li>Make sure you have a GitHub account.</li> <li>Create a GitHub issue for your contribution, assuming one does not already exist.</li> <li>Clearly describe the issue including steps to reproduce if it is a bug.</li> <li>Fork the repository on GitHub.</li> </ul>"},{"location":"CONTRIBUTING.html#minor-changes","title":"Minor Changes","text":""},{"location":"CONTRIBUTING.html#documentation","title":"Documentation","text":"<p>For small changes to comments and documentation, it is not always necessary to create a new GitHub issue. In this case, it is appropriate to start the first line of a commit with 'doc' instead of an issue number.</p>"},{"location":"CONTRIBUTING.html#finding-things-to-work-on","title":"Finding things to work on","text":"<p>The first place to start is always looking over the current GitHub issues for the project you are interested in contributing to. Issues marked with [help wanted][help-wanted] are usually pretty self-contained and a good place to get started.</p> <p>Of course, feel free to create a new issue if you think something needs to be added or fixed.</p>"},{"location":"CONTRIBUTING.html#making-changes","title":"Making Changes","text":"<ul> <li>Create a topic branch from where you want to base your work.</li> <li>This is usually the master branch.</li> <li>Please avoid working directly on the <code>master</code> branch.</li> <li>Make sure you have added the necessary tests for your changes and make sure all tests pass.</li> </ul>"},{"location":"account.html","title":"Account and Balance","text":"<p>Each account contains cryptographic authentication info. It is created by a user of the blockchain. It also includes public key, address, and account number/sequence number for replay protection. Whenever a new address receives an asset, the corresponding transaction would create an <code>Account</code> for that address, which contains balances across all assets that are owned on this address.</p> <p>The balance (the amount of tokens) of each asset is composed of 3 different parts:</p> <ul> <li>Available: the amount of tokens that can be transferred, and spent to swap (buy) other assets</li> <li>Locked: the amount of tokens that has been used in any outstanding orders. Once the order terminates (either filled, canceled or expired), the locked amount will decrease.</li> <li>Frozen: the amount of tokens that has been frozen via <code>Freeze</code> transactions.</li> </ul> <p>You can query the account info with the following command on mainnet:</p> <pre><code>./eth-cli account &lt;your-address&gt; --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --indent --trust-node\n</code></pre> <p>Example output:</p> <p>Please note that the amount is boosted by e^8 for the decimal part.</p> <pre><code>{\"type\":\"scolchain/Account\",\"value\":{\"base\":{\"address\":\"tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5\",\"coins\":[{\"denom\":\"000-0E1\",\"amount\":\"10530\"},{\"denom\":\"SCOL\",\"amount\":\"247349863800\"},{\"denom\":\"BTC.B-918\",\"amount\":\"113218800\"},{\"denom\":\"COSMOS-587\",\"amount\":\"50000101983748977\"},{\"denom\":\"EDU-DD0\",\"amount\":\"139885964\"},{\"denom\":\"MFH-9B5\",\"amount\":\"1258976083286\"},{\"denom\":\"NASC-137\",\"amount\":\"0\"},{\"denom\":\"PPC-00A\",\"amount\":\"205150260\"},{\"denom\":\"TGT-9FC\",\"amount\":\"33251102828\"},{\"denom\":\"UCX-CC8\",\"amount\":\"1398859649\"},{\"denom\":\"USDT.B-B7C\",\"amount\":\"140456966268\"},{\"denom\":\"YLC-D8B\",\"amount\":\"210572645\"},{\"denom\":\"ZZZ-21E\",\"amount\":\"13988596\"}],\"public_key\":{\"type\":\"tendermint/PubKeySecp256k1\",\"value\":\"AhOb3ZXecsIqwqKw+HhTscyi6K35xYpKaJx10yYwE0Qa\"},\"account_number\":\"406226\",\"sequence\":\"29\"},\"name\":\"\",\"frozen\":null,\"locked\":[{\"denom\":\"KOGE48-35D\",\"amount\":\"10000000000\"}]}}\n</code></pre> <p>From the output you can see that this account <code>account_number</code> is 406226 and its <code>sequence</code> is 29. This is the important information about this account.</p>"},{"location":"account.html#create-account","title":"Create Account","text":"<p>There are two ways of creating an account on ScolCoin Chain: creating a key in a web wallet and creating a key via <code>eth-cli</code>. Please make sure you backup your mnemonic.</p>"},{"location":"account.html#web-wallet","title":"Web Wallet","text":"<ul> <li>You can create a key via web wallet</li> </ul> <p>Follow the instructions and set your password (password is used to unlock the keystore file that you will get here):</p> <p></p> <p>Then click <code>Download Keystore File</code> and you will get a keystore file and be directed to mnemonic page. Make sure to back up mnemonic here as it will be used to restore your key.</p> <p></p> <ul> <li>You can restore your key here</li> </ul> <p>Choose <code>Mnenomic Phrase</code>, paste the mnemonic you get above and set your session password:</p> <p></p> <p>Your wallet will be unlocked and you can get your address here (for this example it is <code>tscol14m2gcdjq7aqkdtu2m9qrqrl8eevzpqfj9xc0uu</code>):</p> <p></p>"},{"location":"account.html#account-management-with-eth-cli","title":"Account Management With eth-cli","text":"<p>You should get <code>mnemonic</code> if you follow the instructions above. You can restore you key via <code>eth-cli</code> or <code>eth-cli</code>.</p> <ul> <li>Restore your key</li> </ul> <pre><code>$ ./eth-cli keys add test --recover\nEnter a passphrase for your key:\nRepeat the passphrase:\n&gt; Enter your recovery seed phrase:\nmore advice achieve mass clap nose bike bird busy section rigid model doll exchange guard theme catalog junior patrol valley depart decade convince master\nNAME:   TYPE:   ADDRESS:                        PUBKEY:\ntest    local   tscol14m2gcdjq7aqkdtu2m9qrqrl8eevzpqfj9xc0uu    scolp1addwnpepqt7nf2dwgfxv6kmzgwhzlp556yhdfeakfdejc6lp8xcddsv83kq552m63s9\n</code></pre> <ul> <li>Create a new key</li> </ul> <p>You can also create a new key and you will get a new mnemonic with <code>eth-cli</code> or <code>eth-cli</code>. <pre><code>$ ./eth-cli keys add new_key\nEnter a passphrase for your key:\nRepeat the passphrase:\nNAME:   TYPE:   ADDRESS:                        PUBKEY:\nnew_key local   tscol1c5dxrdn9xuw0njwcyevzyjrza550z5au8v0hyz    scolp1addwnpepqwdsud63f5rq2wkgrezlvzdauf4x7wp3defzvhrzkwdzl7p0n6uk666ghpa\n**Important** write this seed phrase in a safe place.\nIt is the only way to recover your account if you ever forget your password.\n\nnapkin degree boring custom differ smart bundle ball length lyrics auto forest jeans awake entry vocal there repeat rule churn picnic promote screen skull\n</code></pre></p>"},{"location":"account.html#query-account-balance","title":"Query Account Balance","text":"<p>Please note that the amount is boosted by e^8 for the decimal part.</p> <p>Example on mainnet:</p> <p><pre><code>$  ./eth-cli account bnc1wwgakqy32m7vdnlf00pctf9hnaak37eh7wkmqa --trust-node --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443\n</code></pre> Example on testnet:</p> <pre><code>$  ./eth-cli account bnc1wwgakqy32m7vdnlf00pctf9hnaak37eh7wkmqa --trust-node --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80\n{\n\"type\":\"scolchain/Account\",\n   \"value\":{\n\"base\":{\n\"address\":\"bnc1wwgakqy32m7vdnlf00pctf9hnaak37eh7wkmqa\",\n         \"coins\":[\n{\n\"denom\":\"AAA-254\",\n               \"amount\":\"19500000000000000\"\n}\n],\n         \"public_key\":{\n\"type\":\"tendermint/PubKeySecp256k1\",\n            \"value\":\"A1V88I61gCbF2V1RqdCxb0UN/8g95mNUlJGH5htNNC70\"\n},\n         \"account_number\":\"0\",\n         \"sequence\":\"337\"\n},\n      \"name\":\"node0\",\n      \"frozen\":null,\n      \"locked\":null\n   }\n}\n</code></pre>"},{"location":"account.html#get-testnet-scol","title":"Get Testnet SCOL","text":"<p>You can get test SCOL by following this guide.</p>"},{"location":"acknowledgement.html","title":"Acknowledgements","text":"<p>ScolCoin Chain has been through several iterations and evolutions, each time building upon work contributed by members of the blockchain community. We would like to acknowledge the outstanding work that we have been able to achieve during development. Let's build the future together!</p>"},{"location":"acknowledgement.html#bitcoin-and-ethereum","title":"Bitcoin and Ethereum","text":"<p>There is no doubt that these two projects and their communities provided us from day one with countless creativity. They are the root and ground-zero of thought and keep providing us with brilliant utilities and ideas.</p>"},{"location":"acknowledgement.html#scol-dexathon","title":"SCOL Dexathon","text":"<p>The SCOL Dexathon concluded in September 2018, receiving prize winning submissions from teams that sent in some really impressive projects. Our internal work on ScolCoin Chain was taking place in parallel to this and we are delighted to say that many of the projects helped to improve the final product.</p>"},{"location":"acknowledgement.html#tendermint-and-cosmos","title":"Tendermint and Cosmos","text":"<p>Our current implementation is built on forks of Tendermint and Cosmos SDK. We make use of a revised edition of Tendermint consensus and leverage its p2p networking logic, and Cosmos SDK features such as \"bank\" which is used for basic token transactions. Some of the changes have been contributed back to the projects.</p> <p>Projects like ScolCoin Chain and SCOL DEX are often built as forks of Bitcoin or as smart contracts on platforms like Ethereum. With a foundation of clean, well-structured code from Cosmos SDK, we were able to build on a codebase that we saw as a better alternative. Many thanks to the Cosmos developers and its community for their work (and for being really helpful in our issues and pull requests!)</p>"},{"location":"acknowledgement.html#juan-leni-zondax","title":"Juan Leni, ZondaX","text":"<p>Thanks to Juan Leni for his work on the open-source Cosmos Ledger app, which we were able to use as a base for the ScolCoin Chain Ledger app.</p>"},{"location":"anti-frontrun.html","title":"Anti Front-Running","text":"<p>Front-running means someone can get prior knowledge of transactions from other beneficial owners via technology or market advantage, so that they can influence the price beforehand and result in economic gain, which usually brings loss or cost to others. It is a daunting question asked to both centralized and other decentralized exchanges (DEX). Especially on some DEX, front-running actually happens quite often, e.g. via gas or timestamp manipulations, or slow matching.</p> <p>There are several design points in SCOL DEX that make front-running very difficult to execute.</p>"},{"location":"anti-frontrun.html#fast-matching","title":"Fast Matching","text":"<p>SCOL DEX matches orders in every block (with very fast block times). Fast matching leaves very little room for front-runner to react before the orders get executed properly. This is one of the fundamental parts of making front-running difficult, especially for normal market participants.</p>"},{"location":"anti-frontrun.html#decentralized-transparent-match-engine","title":"Decentralized, Transparent Match Engine","text":"<p>It is very difficult to argue that the exchange itself is not front-running if it has a centralized matching engine. SCOL DEX have decentralized matching engines running on every block producer and full node. This way everyone can replay the order match manually with the transactions in the latest block with the current order book and can see the order matching in real-time if they run a full node.</p> <p>This makes wash trading easily observable!</p>"},{"location":"anti-frontrun.html#periodic-auction-matching","title":"Periodic Auction Matching","text":"<p>Periodic auction matching per block lowers the importance of fast orders, i.e. fast orders do not benefit from high frequency trading behaviors even when being several hundreds of milliseconds faster (which is \"really long time\" for traditional exchanges). Fast orders do not bring any advantage.</p> <p>Periodic auction also adds a non-deterministic layer where no one can exactly know the next execution price unless he/she can exactly know all 3 things listed below:</p> <ol> <li>the matching logic</li> <li>the current order book and trade price from the last match</li> <li>all incoming orders for the next block</li> </ol> <p>1) and 2) may be visible to participants, especially for validators and others who closely watch the blockchain status, such as fast sync trading bots or full nodes. But knowing 3) is very hard for normal market participant. Even if they run powerful <code>accelerated node</code>, they still cannot know all the incoming orders for the next block. Without this knowledge, even when someone can send orders faster, they cannot do effective front-running.</p> <p>So with the above, the usual traders and even trading bots cannot do much to front-run others.</p> <p>You might point out, that the validators have a chance to get information of 3) when they are \"proposers\" for the next block, i.e. they would \"propose\" what transactions to add for the next block. But the ScolCoin Chain consensus model adds some additional randomness to make it more difficult:</p> <p>Due to the fast matching, the bad validator have to prepare everything with earlier information in order to front-run the price. However, he cannot be too fast, because he cannot know the execution price of the last block until the last block is concluded, and the last execution price has direct impact on the execution price according to the match logic. Even more, any validator ahead of the bad validator's proposer turn can run into an issue and increase the consensus round, which would ask for re-arrangement on the proposing sequence. This makes it very hard to pre-determine the exact proposal sequence, making it so hard that the validator cannot be 100% sure when they can delay any other transactions and add their own transactions to the block earlier. Besides all of this, the bad validator cannot hold other transactions for too long: it either makes the bad behavior very observable on chain, or other validators would include the transactions anyway via P2P communication.</p> <p>As a result, it is extremely hard to front-run anyone even while being a validator.</p>"},{"location":"anti-frontrun.html#potential-improvement","title":"Potential Improvement","text":"<p>With the above description, you can clearly see that chance of front-running others on SCOL DEX is much lower than on centralized exchanges and most of decentralized ones. However, you may still argue that for a very powerful and sophisticated validator, there is still a slim chance to front-run client orders (if they can do every difficult step very fast).</p> <p>In the future, deterministic randomness may be applied in selecting the next proposer among validators, and the match of orders proposed to block can be postponed into the next 2 block. These two enhancements can greatly destroy the prediction accuracy of trading price, which would push the chance of front-running to 0. The cost of this is some latency in matching.</p>"},{"location":"atomic-swap.html","title":"Atomic swap","text":""},{"location":"atomic-swap.html#introduction","title":"Introduction","text":"<p>As explained in BEP3, Hash Timer Locked Contract(HSCOL) has been used for Atomic Swap and cross payment channels between different blockchains. BEP3 defines native transactions to support HSCOL on ScolCoin Chain and also proposes the standard infrastructure and procedure to use HSCOL for inter-chain atomic swap to easily create and use pegged token. During the swap process, the related fund will be locked to a purely-code-controlled escrow account. A purely-code-controlled escrow account is a kind of account which is derived from a hard-coded string in shree chain protocol. This kind of account doesn't have its own private key and it's only controlled by code of the protocol. The code for calculating escrow account is the same that is used in cosmos-sdk: <pre><code>AtomicSwapCoinsAccAddr = sdk.AccAddress(crypto.AddressHash([]byte(\"ScolCoin ChainAtomicSwapCoins\")))\n</code></pre> The account for mainnet is: scol1wxeplyw7x8aahy93w96yhwm7xcq3ke4f8ge93u and the account for testnet is: tscol1wxeplyw7x8aahy93w96yhwm7xcq3ke4ffasp3d. Once the swap is claimed or refunded, the fund will be transferred from the purely-code-controlled escrow account to client accounts.</p>"},{"location":"atomic-swap.html#commands","title":"Commands","text":""},{"location":"atomic-swap.html#hash-timer-locked-transfer","title":"Hash Timer Locked Transfer","text":"<p>Hash Timer Locked Transfer (HTLT) is a new transaction type on ScolCoin Chain, to serve as HSCOL in the first step of Atomic Swap,</p>"},{"location":"atomic-swap.html#parameters","title":"Parameters","text":"Name Type Description Optional From Address Sender address, where the asset is from No recipient-addr Address Receiver address, where the asset is to, if the proper condition meets. No recipient-other-chain bytes a byte array, maximum 32 bytes, in any proper encoding. leave it empty for single chain swap Yes sender-other-chain bytes a byte array, maximum 32 bytes, in any proper encoding. leave it empty for single chain swap Yes RandomNumberHash 32 bytes hash of a random number and timestamp, based on SHA256. If left out, a random value will be generated True Timestamp int64 Supposed to be the time of sending transaction, counted by second. It should be identical to the one in swap contract. If left out, current timestamp will be used. No OutAmount Coins similar to the Coins in the original Transfer defined in BEP2, assets to swap out No ExpectedIncome string Expected income from swap counter party, example: \"100:SCOL\" or \"100:SCOL,10000:BTCB-1DE\" The amount needs to be bumped by e^8 No HeightSpan int64 number of blocks to wait before the asset may be returned to From if not claimed via Random. The number must be larger than or equal to 360 (&gt;2 minutes), and smaller than 518400 (&lt; 48 hours) No CrossChain bool Specify if the HTLT is for cross chain atomic swap True, the default value is False"},{"location":"atomic-swap.html#outputs","title":"Outputs","text":"Name Type Description Random number 32 bytes Timestamp int64 Random number hash 32 bytes Swap ID 32 bytes"},{"location":"atomic-swap.html#examples","title":"Examples","text":"<ol> <li> <p>Swap between BEP2 tokens</p> </li> <li> <p>On testnet:</p> </li> </ol> <p>Command line <pre><code>./eth-cli token HTLT --recipient-addr &lt;recipient-addr&gt; --amount 100:SCOL --expected-income &lt;expectedIncome&gt; --height-span &lt;heightSpan&gt; --from &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"// 32 bytes random number\nconst timestamp = Math.floor(Date.now()/1000)// take the current timestamp\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp)\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}]\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400// height span\nconst res = client.swap.HTLT(from, recipient, \"\", \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, false)\n</code></pre></p> <p>Example output:</p> <p>Please take a note of returned <code>swapID</code>:</p> <pre><code>Random number: 927c1ac33100bdbb001de19c626a05a7c3c11304fc825f5eabb22e741507711b\nTimestamp: 1568792486\nRandom number hash: 5768702259ee55983378d7b8207890c666648264524b9dada551386f832ba6b1\nPassword to sign with 'guest':\nCommitted at block 39984169 (\ntx hash: B5A3DD92A40E98745BBE9F608944FE5511B81071B34E9947A754A04A5F378A85,\nresponse: {\n    Code:0\n    Data:[77 137 139 200 85 141 170 77 129 116 134 215 169 59 119 178 200 47 206 194 18 58 191 74 30 183 210 82 18 55 236 205]\n    Log:Msg 0: swapID: 4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\n    Info: GasWanted:0 GasUsed:0\n    ...\n)\n</code></pre> <p>Besides, the <code>Data</code> field in the committed result is the byte array of <code>swapID</code>:</p> <pre><code>Data:[77 137 139 200 85 141 170 77 129 116 134 215 169 59 119 178 200 47 206 194 18 58 191 74 30 183 210 82 18 55 236 205]\n\nswapID: 4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\n</code></pre> <ol> <li> <p>Swap from ScolCoin Chain to Ethereum</p> </li> <li> <p>Clients send HTLT on ScolCoin Chain on testnet:</p> </li> </ol> <p>Command line: <pre><code>./eth-cli token HTLT --from &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges  --height-span &lt;heightSpan&gt; --amount &lt;amount&gt; --expected-income &lt;expectedIncome&gt; --recipient-addr &lt;deputy-bep2-addr&gt;  --recipient-other-chain &lt;client ethereum address&gt;  --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst recipientOtherChain=\"0x37B8516a0F88E65D677229b402ec6C1e0E333004\"//client ethereum address\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"// 32 bytes random number\nconst timestamp = Math.floor(Date.now()/1000)// take the current timestamp\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp)\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}] // swap out token amount\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400 // height span\nconst res = client.swap.HTLT(from, recipient, recipientOtherChain, \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\n</code></pre></p> <ol> <li>Swap from Ethereum to ScolCoin Chain</li> </ol> <p>Note: Once cross-chain is true, --recipient-other-chain must not be empty</p> <ul> <li>Deputy send HTLT on ScolCoin Chain on testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token HTLT --from  &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges --height-span  &lt;heightSpan&gt;  --amount &lt;amount&gt; --expected-income &lt;expectedIncome&gt; --recipient-other-chain &lt;deputy ethereum address&gt; --sender-other-chain &lt;client ethereum address&gt; --recipient-addr &lt;client bep2 address&gt; --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst recipientOtherChain=\"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"//client ethereum address\nconst senderOtherChain=\"0x37B8516a0F88E65D677229b402ec6C1e0E333004\" //client ethereum address\nconst randomNumberHash = \"6632eda86c4f19190c8a986e188526eee865e1ce2758ba59c8bf45e20ffa3bb5\" //deputy get this value from the event log of swap contract\nconst timestamp = 1571383800 //deputy get this value from the event log of swap contract\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}] // swap out token amount\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400 // height span\nconst res = client.swap.HTLT(from, recipient, recipientOtherChain, senderOtherChain, randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\n</code></pre></p>"},{"location":"atomic-swap.html#deposit-htlt","title":"Deposit HTLT","text":"<p>Deposit Hash Timer Locked Transfer is to lock new BEP2 asset to an existed HTLT which is for single chain atomic swap.</p>"},{"location":"atomic-swap.html#parameters_1","title":"Parameters","text":"Name Type Description Optional From Address Sender address, where the assets are from No SwapID 32 bytes ID of previously created swap, hex encoding No Amount Coins The swapped out amount BEP2 tokens, example: \"100:SCOL\" or \"100:SCOL,10000:BTCB-1DE\" No"},{"location":"atomic-swap.html#examples_1","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token deposit --swap-id &lt;swapID&gt;  --amount 10000:TEST-599 --from &lt;from-key&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst amount = [{\ndenom: \"TEST-599\",\namount: 10000\n}]\nconst res = client.swap.depositHTLT(from, swapID, amount)\n</code></pre></p> <p>Example output</p> <pre><code>Committed at block 39984686 (tx hash: AA118F7CFCB3FFF86EF5EED8D2B9ADEAC5D9F242497910DAA232BDE5F6A84C1E, response: {Code:0 Data:[] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Tags:[{Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 110 107 120 57 57 52 113 118 113 109 113 103 107 53 55 118 103 117 113 104 54 122 106 108 97 99 113 122 120 100 107 117 101 53 122 106 121 120] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[97 99 116 105 111 110] Value:[100 101 112 111 115 105 116 72 84 76 84] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\n</code></pre> <p>After the deposit, you may observe that the balance of sender is decreased. The amount in deposit transaction must be positive. Besides, you can query the swap by <code>swapID</code> and the <code>in_amount</code> must equal to the amount that you balance decreased.</p>"},{"location":"atomic-swap.html#claim-htlt","title":"Claim HTLT","text":"<p>Claim Hash Timer Locked Transfer is to claim the locked asset by showing the random number value that matches the hash. Each HTLT locked asset is guaranteed to be release once.</p>"},{"location":"atomic-swap.html#parameters_2","title":"Parameters","text":"Name Type Description Optional From Address Sender address No SwapID 32 bytes ID of previously created swap, hex encoding No RandomNumber 32 bytes The random number to unlock the locked hash, 32 bytes, hex encoding No"},{"location":"atomic-swap.html#examples_2","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token claim --swap-id  &lt;swapID&gt; --random-number &lt;random-number&gt; --from &lt;from-key&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\" // the random number generated in htlt\nconst res = client.swap.claimHTLT(from, swapID, randomNumber)\n</code></pre></p> <p>Example output:</p> <pre><code>Committed at block 39984971 (tx hash: 15B8625E0247DE54700D3C5C110BE0CE279D33CC13A73845F3E0305758A40902, response: {Code:0 Data:[] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Tags:[{Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 110 107 120 57 57 52 113 118 113 109 113 103 107 53 55 118 103 117 113 104 54 122 106 108 97 99 113 122 120 100 107 117 101 53 122 106 121 120] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 103 57 114 122 99 48 101 50 106 102 56 101 102 51 113 112 57 97 120 56 104 48 112 109 112 109 118 106 122 119 109 116 113 52 106 120 102 114] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[97 99 116 105 111 110] Value:[99 108 97 105 109 72 84 76 84] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\n</code></pre>"},{"location":"atomic-swap.html#refund-htlt","title":"Refund HTLT","text":"<p>Refund Hash Timer Locked Transfer is to refund the locked asset after timelock is expired.</p>"},{"location":"atomic-swap.html#parameters_3","title":"Parameters","text":"Name Type Description Optional From Address Sender address No SwapID 32 bytes ID of previously created swap, hex encoding No"},{"location":"atomic-swap.html#examples_3","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token refund --swap-id &lt;swapID&gt; --from &lt;from-key&gt;  --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst res = client.swap.refundHTLT(from, swapID, randomNumber)\n</code></pre></p> <p>Common error:</p> <ul> <li>Already complete <pre><code>ERROR: {\"codespace\":8,\"code\":12,\"abci_code\":524300,\"message\":\"Expected swap status is Open, actually it is Completed\"}\n</code></pre></li> <li>Not expired <pre><code>ERROR: {\"codespace\":8,\"code\":8,\"abci_code\":524296,\"message\":\"Current block height is 40003412, the expire height (40013236) is still not reached\"}\n</code></pre></li> </ul>"},{"location":"atomic-swap.html#query-atomic-swap","title":"Query Atomic Swap","text":"<p>Query atomic swap allows you to search swap information by <code>swapID</code></p>"},{"location":"atomic-swap.html#parameters_4","title":"Parameters","text":"Name Type Description Optional SwapID 32 bytes ID of previously created swap, hex encoding No"},{"location":"atomic-swap.html#examples_4","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swap --swap-id &lt;swapID&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> Expected output <pre><code>{\n\"from\": \"tscol1g9rzc0e2jf8ef3qp9ax8h0pmpmvjzwmtq4jxfr\",\n\"to\": \"tscol1nkx994qvqmqgk57vguqh6zjlacqzxdkue5zjyx\",\n\"out_amount\": [\n{\n\"denom\": \"SCOL\",\n\"amount\": \"100\"\n}\n],\n\"in_amount\": [\n{\n\"denom\": \"TEST-599\",\n\"amount\": \"10000\"\n}\n],\n\"expected_income\": \"10000:TEST-599\",\n\"recipient_other_chain\": \"\",\n\"random_number_hash\": \"5768702259ee55983378d7b8207890c666648264524b9dada551386f832ba6b1\",\n\"random_number\": \"927c1ac33100bdbb001de19c626a05a7c3c11304fc825f5eabb22e741507711b\",\n\"timestamp\": \"1568792486\",\n\"cross_chain\": false,\n\"expire_height\": \"39994169\",\n\"index\": \"53\",\n\"closed_time\": \"1568792927\",\n\"status\": \"Completed\"\n}\n</code></pre></li> </ul>"},{"location":"atomic-swap.html#query-atomic-swap-id-by-recipient","title":"Query Atomic Swap ID By Recipient","text":"<p>Query atomic swap ID allows you to search swap history of an recipient. As this is a heavy query interface, some public nodes might close this query interface.</p>"},{"location":"atomic-swap.html#parameters_5","title":"Parameters","text":"Name Type Description Optional recipient-addr Address Swap recipient address No"},{"location":"atomic-swap.html#examples_5","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swapIDs-by-recipient  --recipient-addr &lt;address&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></li> </ul> <p>Example output: <pre><code>[\n  \"4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\",\n  \"e7cc2e2eb025cc4617ff0bb84fcffc973d7ba34f15dbc51383fe3543ff143e9c\"\n]\n</code></pre></p>"},{"location":"atomic-swap.html#query-atomic-swap-id-by-creator","title":"Query Atomic Swap ID By Creator","text":"<p>Query atomic swap ID allows you to search swap history of an initiator. As this is a heavy query interface, some public nodes might close this query interface.</p>"},{"location":"atomic-swap.html#parameters_6","title":"Parameters","text":"Name Type Description Optional creator-addr Address Swap creator address No"},{"location":"atomic-swap.html#examples_6","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swapIDs-by-creator  --creator-addr &lt;address&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></li> </ul> <p>Example output: <pre><code>[\n  \"7341d4ea0519af90d98f60fee45fdc7e385621875ea982bc8caf1fd7a49af8c3\",\n  \"290664c1e8123966d8f9050fdc9d93e94b0e51b36e2e2a6978e492d3796423f1\",\n  \"b260dad3cf63e558fe102a050afbe52d5dd2e30c7db76da33d02ce5f85d07fcf\",\n  \"2b532bf9171c4d33d80fc4a8d6603581a86345b41552337482224d8476fcf5f7\",\n  \"20d22bbfa579520f0ba79cd176fb2b06aa8dbe5b0a6ba8c9b761129f6a42a94c\"\n]\n</code></pre></p>"},{"location":"atomic-swap.html#fees","title":"Fees","text":"Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related HTLT N/A 0.000375 SCOL Y depositHTLT N/A 0.000375 SCOL Y claimHTLT N/A 0.000375 SCOL Y refundHTLT N/A 0.000375 SCOL Y"},{"location":"atomic-swap.html#workflows","title":"Workflows","text":""},{"location":"atomic-swap.html#preparations","title":"Preparations","text":"<ol> <li>Deploy smart-contract which supports Atomic Peg Swap (APS), there is  already one example for Ethereum</li> <li>Deploy <code>deputy</code> process for handling swap activities by token owners, there is an existing open-source solution here: https://github.com/githubusername/githubrepo/bep3-deputy</li> <li>Issue and transfer enough tokens</li> </ol>"},{"location":"atomic-swap.html#testnet-deployment","title":"Testnet Deployment","text":"<ul> <li>ERC20 contract has been deployed here: https://ropsten.etherscan.io/address/0xd93395b2771914e1679155f3ea58c41d89d96098</li> <li>Token Symbol: PPC</li> <li>SmartContract has been deployed here:  https://ropsten.etherscan.io/address/0x12dcbf79be178479870a473a99d91f535ed960ad</li> <li>Its corresponding address on testnet is: <code>tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr</code>on ScolCoin Chain and <code>0xD93395B2771914E1679155F3EA58C41d89D96098</code> on Ethereum testnet</li> </ul>"},{"location":"atomic-swap.html#swap-tokens-from-ethereum-to-scolcoin-chain","title":"Swap Tokens from Ethereum to ScolCoin Chain","text":""},{"location":"atomic-swap.html#1-approve-swap-transaction","title":"1.  Approve Swap Transaction","text":"<p>Go to this page and approve some amount of tokens.</p> <ul> <li>Function: Approve</li> <li>Parameters:<ul> <li>_spender: address of the smartcontract, which is <code>0x12DCBf79BE178479870A473A99d91f535ed960AD</code></li> <li>_value: approved amount, should be bumped by e^10</li> </ul> </li> </ul> <p>Note: Please approve more than 1 token.  In the following example, 100 PPC token was approved:</p> <p>Example of approve 100 PPC on ropsten testnet</p>"},{"location":"atomic-swap.html#2-call-htlt-function-from-ethereum","title":"2. Call <code>HTLT</code> function From Ethereum","text":"<p>Go to smartcontract and call <code>HTLT</code> function</p> <ul> <li>Function: htlt</li> <li>Parameters:<ul> <li>_randomNumberHash: SHA256(randomNumber||timestamp), randomNumber is 32-length random byte array</li> <li>_timestamp: it should be about 10 mins span around current timestamp</li> <li>_heightSpan: it's a customized filed for deputy operator. it should be more than 200 for this deputy.</li> <li>_recipientAddr: deputy address on Ethereum, it's <code>0x1C002969Fe201975eD8F054916b071672326858e</code> for this one</li> <li>_bep2SenderAddr: omit this field with <code>0x0</code></li> <li>_bep2RecipientAddr: Decode your testnet address from bech32 encoded to hex, for example: 0xc41f2a85e1d3629637de1222017dce46c6c8e4b9</li> <li>_outAmount:  approved amount, should be bumped by e^10</li> <li>_bep2Amount: _outAmount * exchange rate, the default rate is 1</li> </ul> </li> </ul> <p>Example of <code>htlt</code> transaction</p>"},{"location":"atomic-swap.html#3-deputy-call-htlt-on-scolcoin-chain","title":"3. Deputy Call HTLT on ScolCoin Chain","text":"<p>Then, Deputy will send <code>HTLT</code> transaction here</p>"},{"location":"atomic-swap.html#4-claim-htlt-on-scolcoin-chain","title":"4. Claim HTLT on ScolCoin Chain","text":"<ul> <li>Get the <code>swapID</code> on ScolCoin Chain</li> </ul> <pre><code>./eth-cli token query-swapIDs-by-recipient  --recipient-addr tscol1cs0j4p0p6d3fvd77zg3qzlwwgmrv3e9e63423w --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n[\n  \"12aacc3bdc2cef97e8e45cc9b409796df57904a4e9c76863ad8420ff75f13128\"\n]\n</code></pre> <p>You can also get swapID by calculateSwapID in javascript-sdk. It requires three parameters:</p> Name Type Description Example randomNumberHash string randomNumberHash in client HTLT transaction on Ethereum 5a3728a8f4ecb8b4cb0b983a9441b7d69f95229c4aa531e6e3827d7c19beac82 sender string deputy bep2 address tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr senderOtherChain string client ethereum address 0x133d144f52705ceb3f5801b63b9ebccf4102f5ed <ul> <li>Query the swap by <code>swapID</code></li> </ul> <pre><code>{\n  \"from\": \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\",\n  \"to\": \"tscol1cs0j4p0p6d3fvd77zg3qzlwwgmrv3e9e63423w\",\n  \"out_amount\": [\n    {\n      \"denom\": \"PPC-00A\",\n      \"amount\": \"9999999000\"\n    }\n  ],\n  \"in_amount\": null,\n  \"expected_income\": \"\",\n  \"recipient_other_chain\": \"0x1C002969Fe201975eD8F054916b071672326858e\",\n  \"random_number_hash\": \"5a3728a8f4ecb8b4cb0b983a9441b7d69f95229c4aa531e6e3827d7c19beac82\",\n  \"random_number\": \"\",\n  \"timestamp\": \"1569497984\",\n  \"cross_chain\": true,\n  \"expire_height\": \"41380567\",\n  \"index\": \"1947\",\n  \"closed_time\": \"\",\n  \"status\": \"Open\"\n}\n</code></pre> <ul> <li> <p>Verify parameters in the swap:</p> <ul> <li><code>random_number_hash</code> must equal to the randomNumberHash in client HTLT transaction on ethereum</li> <li><code>to</code> must equals to client wallet address</li> <li><code>timestamp</code> must equal to the timestamp in client HTLT transaction on ethereum</li> <li><code>out_amount</code> should be reasonable. Please note that the decimals of bep2 tokens is 8, the out_amount should be something around 10000000000:PPC, deputy will deduct some fees.</li> <li><code>expire_height</code> must not be passed and should be enough for send claim transaction</li> </ul> </li> <li> <p>Send claim transaction on ScolCoin Chain</p> </li> </ul> <pre><code>./eth-cli token claim --swap-id  12aacc3bdc2cef97e8e45cc9b409796df57904a4e9c76863ad8420ff75f13128  --random-number &lt;random-number&gt; --from &lt;from-key&gt;  --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>Example of <code>claim</code> tx on testnet</p>"},{"location":"atomic-swap.html#5-deputy-claim-erc20-token","title":"5. Deputy Claim ERC20 Token","text":"<p>Deputy will claim ERC20 tokens afterwards with claim transaction</p>"},{"location":"atomic-swap.html#6-demo-for-client-app-swap-erc20-to-bep2","title":"6. Demo for Client APP: swap erc20 to bep2","text":"<p>This is a javascript implementation for client app to swap PPC to PPC-00A with deputy.</p> <pre><code>  const erc20ContractAddr = \"0xd93395b2771914e1679155f3ea58c41d89d96098\"\nconst swapContractAddr = \"0x12DCBf79BE178479870A473A99d91f535ed960AD\"\n\nconst deputyEthWalletAddr = \"0x1C002969Fe201975eD8F054916b071672326858e\"\nconst deputySCOLWalletAddr = \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\"\n\nconst clientEthWalletAddr = \"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"\nconst clientEthWalletKey = new Buffer(\"89A0F0E0732ACAA7AD37C9E6D7A9798ECCE6940C63FF0290A58B1C1C1697486A\", \"hex\")\n\nconst clientBnbWalletAddr = \"tscol17vwyu8npjj5pywh3keq2lm7d4v76n434pwd8av\"\nconst clientBnbWalletMnemonic = \"lawsuit margin siege phrase fabric matrix like picnic day thrive correct velvet stool type broom upon flee fee ten senior install wrestle soap sick\"\n\nconst web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/1c5b38a27f92410cb5feb13b6efb2e14\"))\nconst scolClient = new BncClient(\"https://testnet-dex.scolcoin.com\")\nawait scolClient.initChain()\nscolClient.setPrivateKey(crypto.getPrivateKeyFromMnemonic(clientBnbWalletMnemonic))\nscolClient.useDefaultSigningDelegate()\nscolClient.useDefaultBroadcastDelegate()\nconst scolRPC = new rpcClient(\"https://seed-pre-s3.scolcoin.com\", \"testnet\")\n\nconst erc20Contract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_evilUser\",\"type\":\"address\"}],\"name\":\"addBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isPauser\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_maker\",\"type\":\"address\"}],\"name\":\"getBlackListStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renouncePauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"addPauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"issue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"redeem\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isBlackListed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_clearedUser\",\"type\":\"address\"}],\"name\":\"removeBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_blackListedUser\",\"type\":\"address\"}],\"name\":\"destroyBlackFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_initialSupply\",\"type\":\"uint256\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_symbol\",\"type\":\"string\"},{\"name\":\"_decimals\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Issue\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Redeem\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_blackListedUser\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_balance\",\"type\":\"uint256\"}],\"name\":\"DestroyedBlackFunds\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"AddedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"RemovedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserRemoved\",\"type\":\"event\"}],erc20ContractAddr)\nconst swapContract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"ERC20ContractAddr\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"isSwapExist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refund\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_swapSender\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"}],\"name\":\"calSwapID\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"claim\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_heightSpan\",\"type\":\"uint256\"},{\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"},{\"name\":\"_bep2RecipientAddr\",\"type\":\"bytes20\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"htlt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"claimable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refundable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"queryOpenSwap\",\"outputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_sender\",\"type\":\"address\"},{\"name\":\"_recipient\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_erc20Contract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"_bep2Addr\",\"type\":\"bytes20\"},{\"indexed\":false,\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"HTLT\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"}],\"name\":\"Refunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"Claimed\",\"type\":\"event\"}], swapContractAddr)\n\n//--------------------------------------------\n//Step1 approve erc20 to swap contract address\n//--------------------------------------------\nconst approveData = erc20Contract.methods.increaseAllowance(swapContractAddr, 10000000000).encodeABI()\nlet nonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\nlet gasPrice = await web3.eth.getGasPrice()\nlet gasLimit = 3000000\nlet rawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: erc20ContractAddr,\nvalue: '0x00',\ndata: approveData\n}\nvar ethereumjs = require('ethereumjs-tx')\nvar signTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nvar serializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n//----------------------------------------------------------------------------\n//Step2 call swap contract to send htlt transaction on Ethereum\n//----------------------------------------------------------------------------\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"\nconst timestamp = Math.floor(Date.now()/1000)\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp).toString(\"hex\")\nconst heightSpan = 1000\nconst hexEncodingClientSCOLaddr = '0x'+crypto.decodeAddress(clientBnbWalletAddr).toString(\"hex\")\nconst amount = 10000000000 // 10000000000:PPC\uff0c decimal is 10\nconst expectedIncome = 99999000 //\"99999000:PPC-00A\", decimal is 8, deputy will deduct swap fee, the swap fee is 1000:PPC-00A\n\nconst htltData = swapContract.methods.htlt(\"0x\"+randomNumberHash, timestamp, heightSpan, deputyEthWalletAddr, \"0x0\", hexEncodingClientSCOLaddr, amount, expectedIncome).encodeABI()\nnonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\ngasPrice = await web3.eth.getGasPrice()\ngasLimit = 3000000\nrawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: swapContractAddr,\nvalue: '0x00',\ndata: htltData\n}\nethereumjs = require('ethereumjs-tx')\nsignTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nserializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n\n//----------------------------------------------------------------------------\n//Step3 query swap created by deputy on ScolCoin Chain and verify swap parameters\n//----------------------------------------------------------------------------\nconst swapID = calculateSwapID(randomNumberHash.replace(\"0x\", \"\"), deputySCOLWalletAddr, clientEthWalletAddr).toString()\nconsole.log(swapID)\nlet atomicSwapList = await scolClient.getSwapByRecipient(clientBnbWalletAddr,1000, 0)\nwhile (atomicSwapList.result.atomicSwaps[0].swapId != swapID) {\nconsole.log(\"Waiting for the atomic swap created by deputy\")\nawait wait(5000)\natomicSwapList = await scolClient.getSwapByRecipient(clientBnbWalletAddr,1000, 0)\n}\nconst atomicSwap = await scolClient.getSwapByID(swapID)\nconsole.log(atomicSwap)\nconst status = await scolRPC.status()\nexpect(atomicSwap.result.toAddr).toBe(clientBnbWalletAddr)\nexpect(atomicSwap.result.randomNumberHash).toBe(randomNumberHash.replace(\"0x\", \"\"))\nexpect(atomicSwap.result.timestamp).toBe(timestamp)\nexpect(atomicSwap.result.outAmount).toBe(\"99999000:PPC-00A\")\nexpect(Number(atomicSwap.result.expireHeight)).toBeGreaterThan(Number(status.sync_info.latest_block_height)+100)\n\n//----------------------------------------------------------------------------\n//Step4 claim on ScolCoin Chain\n//----------------------------------------------------------------------------\nconst res = await scolClient.swap.claimHTLT(clientBnbWalletAddr, swapID, randomNumber)\nconsole.log(res)\n\n//----------------------------------------------------------------------------\n//If step3 or step4 are failed and the expire height on Ethereum is passed, try to call refund method on Ethereum\n//----------------------------------------------------------------------------\n</code></pre>"},{"location":"atomic-swap.html#swap-tokens-from-scolcoin-chain-to-ethereum","title":"Swap Tokens from ScolCoin Chain to Ethereum","text":""},{"location":"atomic-swap.html#1-send-htlt-transaction-from-scolcoin-chain","title":"1. Send <code>HTLT</code> Transaction from ScolCoin Chain","text":"<p>Please read this section to generate a valid <code>HTLT</code> transaction. Please write down the <code>randomNumber</code> and <code>randomNumberHash</code>.</p> <pre><code>./eth-cli token HTLT --from atomic --recipient-addr tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr  --chain-id SCOL-Chain-Ganges  --height-span 10000 --amount  9900000000:PPC-00A  --expected-income 9900000000:PPC  --recipient-other-chain 0x133D144F52705cEb3f5801B63b9EBcCF4102f5Ed  --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\nRandom number: 4811959406ea3e69721d944d308880ec41323b7f89e51a78df3693348779315e\nTimestamp: 1569578936\nRandom number hash: b03f256c9efdb97b9815faa1417e1da4cca7672e0bb26e4e7d9bfc82d0f1f15e\nCommitted at block 634510 (\n    tx hash: 9DEF124E12DE123BA1CC75AA6E68F20CC48EBBE9D7693CE4D0416267C6C0F159,\n    response: {\n        Code:0 Data:[229 50 241 60 76 91 112 146 93 68 100 222 83 84 180 133 181 151 241 174 93 125 132 82 245 198 5 66 0 123 32 113]\n        Log:Msg 0: swapID: f85dd907df0a5897927b949c0f9e2563d453ba698ff9941fed1ce91f8057afc2\n        ...\n)\n</code></pre> <p>Note: the swap amount must be positive.</p> <p>Please write down the <code>random number</code>, <code>random number hash</code>, <code>swapID</code> and <code>timestamp</code> for next steps.</p> <p>Example is here</p> <p>Then, you can query the the swap by <code>SwapID</code>:</p> <pre><code>./eth-cli token query-swap --swap-id f85dd907df0a5897927b949c0f9e2563d453ba698ff9941fed1ce91f8057afc2 --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>You can use this <code>swapID</code> for refund if the deputy doesn't send htlt transaction on ethereum with proper parameters.</p>"},{"location":"atomic-swap.html#2-deputy-approve-tokens","title":"2.  Deputy Approve Tokens","text":"<p>You should see that Deputy has approve enough amount of tokens for atomic swap.</p>"},{"location":"atomic-swap.html#3-deputy-send-htlt-on-ethereum","title":"3. Deputy Send HTLT on Ethereum","text":"<p>You should see that Deputy has sent the <code>htlt</code> transaction afterwards</p> <p>To get the <code>swapID</code> on Ethereum, you can check this page 0xd3bacf63906af5459ead39f27cae189e2f3e76fda34523714a4c61d76c79ee4e is the <code>swapID</code> on Ethereum.</p>"},{"location":"atomic-swap.html#4-claim-erc20-tokens-on-ethereum","title":"4. Claim ERC20 Tokens on Ethereum","text":"<p>You should see that Deputy has already approved enough tokens and</p> <p>In its event log, you should see the <code>swapID</code>. Before calling <code>claim</code> function on ethereum, clients should verify the parameters in the <code>HTLT</code> event.</p> <ul> <li><code>_randomNumberHash</code> must equal to the randomNumberHash in client HTLT transaction on ScolCoin Chain</li> <li><code>_recipientAddr</code> must equal to client ethereum wallet address</li> <li><code>_timestamp</code> must equal to the timestamp in client HTLT transaction on ScolCoin Chain</li> <li><code>_outAmount</code> should be reasonable. Please note that the decimals erc20 contract and deputy will deduct some fees.</li> <li><code>_expireHeight</code> must not be passed and should be enough for send claim transaction</li> </ul> <p>Then, you can call the <code>claim</code> function:</p> <ul> <li>Function: claim</li> <li>Parameters:<ul> <li>_swapID: this has been obtained from event, you can also calculate it from <code>calSwapID</code> function in the contract. calSwapID(randomNumberHash, {deputy ethereum address}, {hex encoding client shree address})</li> <li>_randomNumber: reveal your randomNumber</li> </ul> </li> </ul> <p>Example is here</p>"},{"location":"atomic-swap.html#5-deputy-claim-on-scolcoin-chain","title":"5. Deputy Claim on ScolCoin Chain","text":"<p><code>Claim HTLT</code> transaction from Deputy is sent afterwards:</p>"},{"location":"atomic-swap.html#6-demo-for-client-app-swap-bep2-to-erc20","title":"6. Demo for Client APP: swap bep2 to erc20","text":"<p>This is a javascript implementation of client app to swap  PPC-00A to PPC with deputy.</p> <pre><code>  const erc20ContractAddr = \"0xd93395b2771914e1679155f3ea58c41d89d96098\"\nconst swapContractAddr = \"0x12DCBf79BE178479870A473A99d91f535ed960AD\"\n\nconst deputyEthWalletAddr = \"0x1C002969Fe201975eD8F054916b071672326858e\"\nconst deputySCOLWalletAddr = \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\"\n\nconst clientEthWalletAddr = \"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"\nconst clientEthWalletKey = new Buffer(\"89A0F0E0732ACAA7AD37C9E6D7A9798ECCE6940C63FF0290A58B1C1C1697486A\", \"hex\")\n\nconst clientBnbWalletAddr = \"tscol17vwyu8npjj5pywh3keq2lm7d4v76n434pwd8av\"\nconst clientBnbWalletMnemonic = \"lawsuit margin siege phrase fabric matrix like picnic day thrive correct velvet stool type broom upon flee fee ten senior install wrestle soap sick\"\n\nconst web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/1c5b38a27f92410cb5feb13b6efb2e14\"))\nconst scolClient = new BncClient(\"https://testnet-dex.scolcoin.com\")\nawait scolClient.initChain()\nscolClient.setPrivateKey(crypto.getPrivateKeyFromMnemonic(clientBnbWalletMnemonic))\nscolClient.useDefaultSigningDelegate()\nscolClient.useDefaultBroadcastDelegate()\nconst scolRPC = new rpcClient(\"https://seed-pre-s3.scolcoin.com\", \"testnet\")\n\nconst erc20Contract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_evilUser\",\"type\":\"address\"}],\"name\":\"addBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isPauser\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_maker\",\"type\":\"address\"}],\"name\":\"getBlackListStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renouncePauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"addPauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"issue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"redeem\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isBlackListed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_clearedUser\",\"type\":\"address\"}],\"name\":\"removeBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_blackListedUser\",\"type\":\"address\"}],\"name\":\"destroyBlackFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_initialSupply\",\"type\":\"uint256\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_symbol\",\"type\":\"string\"},{\"name\":\"_decimals\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Issue\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Redeem\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_blackListedUser\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_balance\",\"type\":\"uint256\"}],\"name\":\"DestroyedBlackFunds\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"AddedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"RemovedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserRemoved\",\"type\":\"event\"}],erc20ContractAddr)\nconst swapContract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"ERC20ContractAddr\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"isSwapExist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refund\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_swapSender\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"}],\"name\":\"calSwapID\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"claim\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_heightSpan\",\"type\":\"uint256\"},{\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"},{\"name\":\"_bep2RecipientAddr\",\"type\":\"bytes20\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"htlt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"claimable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refundable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"queryOpenSwap\",\"outputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_sender\",\"type\":\"address\"},{\"name\":\"_recipient\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_erc20Contract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"_bep2Addr\",\"type\":\"bytes20\"},{\"indexed\":false,\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"HTLT\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"}],\"name\":\"Refunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"Claimed\",\"type\":\"event\"}], swapContractAddr)\n\n//--------------------------------------------\n//Step1 send htlt on ScolCoin Chain\n//--------------------------------------------\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"\nconst timestamp = Math.floor(Date.now()/1000)\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp).toString(\"hex\")\nconst heightSpan = 10000\nconst amount = [{\ndenom: \"PPC-00A\",\namount: 100000000\n}]\nconst expectedIncome = \"9999990000:PPC\" //\"9999990000:PPC\", decimal is 10, deputy will deduct swap fee, the swap fee is 10000:PPC\n\nscolClient.swap.HTLT(clientBnbWalletAddr, deputySCOLWalletAddr, clientEthWalletAddr, \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\nawait wait(1000)\n\n//----------------------------------------------------------------------------\n//Step2 query swap created by deputy on Ethereum and verify swap parameters\n//----------------------------------------------------------------------------\nconst hexEncodingClientSCOLaddr = '0x'+crypto.decodeAddress(clientBnbWalletAddr).toString(\"hex\")\nconst swapID = await swapContract.methods.calSwapID(\"0x\"+randomNumberHash, deputyEthWalletAddr, hexEncodingClientSCOLaddr).call()\nconsole.log(swapID)\n\nlet openSwap = await swapContract.methods.queryOpenSwap(swapID).call()\nwhile (openSwap._randomNumberHash == '0x0000000000000000000000000000000000000000000000000000000000000000') {\nconsole.log(\"Waiting for the atomic swap created by deputy\")\nawait wait(5000)\nopenSwap = await swapContract.methods.queryOpenSwap(swapID).call()\n}\nlet ethBlock = await web3.eth.getBlock('latest')\nlet ethLatestHeight = ethBlock.number\nexpect(openSwap._randomNumberHash).toBe(\"0x\"+randomNumberHash)\nexpect(Number(openSwap._timestamp)).toBe(timestamp)\nexpect(Number(openSwap._outAmount)).toBe(9999990000)\nexpect(openSwap._recipient).toBe(clientEthWalletAddr)\nexpect(Number(openSwap._expireHeight)).toBeGreaterThan(Number(ethLatestHeight)+20)\n\n//----------------------------------------------------------------------------\n//Step3 claim on Ethereum\n//----------------------------------------------------------------------------\nconst claimData = swapContract.methods.claim(swapID, \"0x\"+randomNumber).encodeABI()\nlet nonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\nlet gasPrice = await web3.eth.getGasPrice()\nlet gasLimit = 3000000\nlet rawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: swapContractAddr,\nvalue: '0x00',\ndata: claimData\n}\nvar ethereumjs = require('ethereumjs-tx')\nvar signTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nvar serializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n\n//----------------------------------------------------------------------------\n//If step2 or step3 are failed and the expire height on ScolCoin Chain is passed, try to send refundHTLT transaction on ScolCoin Chain\n//----------------------------------------------------------------------------\n</code></pre>"},{"location":"atomic-swap.html#swap-between-several-bep2-tokens","title":"Swap between Several BEP2 tokens","text":""},{"location":"atomic-swap.html#swap-between-several-bep2-tokens-fails","title":"Swap between Several BEP2 tokens fails","text":""},{"location":"blockchain.html","title":"The ScolCoin Chain Blockchain","text":"<p>The purpose of the new blockchain and DEX is to create an alternative marketplace for issuing and exchanging digital assets in a decentralized manner.</p>"},{"location":"blockchain.html#consensus-details","title":"Consensus Details","text":"<p>ScolCoin Chain is a peer-to-peer distributed system, connecting together multiple clients that reach consensus on their views of the \"state of the world\". ScolCoin Chain uses Tendermint BFT consensus and has a dedicated <code>application layer</code> that runs upon it. A simplified overview of the application's architecture might look something like this:</p> <pre><code>+------------+-----------+\n| RPC API    | Web API   |\n+------------------------+---------+\n| Asset Management | Match Engine  |\n+----------------------------------+\n| Account Management | Governance  |---------&gt; crypto and blockchain governance\n+----------------------------------+\n| State Caching and Persisence     +-+\n+----------------------------------+ |\n| Consensus Protocol               | |\n+----------------------------------+ |-----&gt; revised Tendermint\n| P2P Protocol                     | |\n+----------------------------------+ |\n| Networking    |  Database        +-+\n+----------------------------------+\n</code></pre> <p>For more information, please have a look at the Tendermint spec.</p>"},{"location":"blockchain.html#node-roles","title":"Node Roles","text":""},{"location":"blockchain.html#what-is-a-validator-node","title":"What is a Validator Node?","text":"<p>Validators are a group/IT infrastructure that take the responsibility to maintain the SCOL Chain/DEX data and validate all the transactions. They join the consensus procedure and vote to produce blocks. The fees are collected and distributed among all validators. You can consider Validator as \"miner\" in Bitcoin and Ethereum and similar concepts exist in dPoS blockchain as EOS or dBFT in NEO. The initial validators are selected from trusted members of the SCOL community, and will eventually expand to more members as the SCOL blockchain and ecosystem matures, this responsibility will be distributed. The decentralized governance procedure will be introduced and executed. More qualified organization/individual can become Validators.</p>"},{"location":"blockchain.html#what-is-a-witness-node","title":"What is a Witness Node?","text":"<p>Witness nodes represent the majority of nodes in a ScolCoin Chain deployment. Although they do not join the consensus process and produce blocks, they take care of:</p> <ul> <li>The witness consensus process.</li> <li>They serve as data replicas and help to propagate the chain state around the network.</li> <li>They receive transactions and broadcast them to all other nodes including Validator nodes.</li> </ul>"},{"location":"blockchain.html#what-is-an-accelerated-node","title":"What is an Accelerated Node?","text":"<p>Please check here.</p> <p>For testnet, there are 2 accelerated nodes setup as below. API users should try to use them directly.</p> <ul> <li><code>testnet-dex-atlantic.scolcoin.com</code></li> <li><code>testnet-dex-asiapacific.scolcoin.com</code></li> </ul> <p>For mainnet, there are more accelerated nodes.</p> <ul> <li><code>dex-atlantic.scolcoin.com</code></li> <li><code>dex-asiapacific.scolcoin.com</code></li> <li><code>dex-european.scolcoin.com</code></li> </ul>"},{"location":"blockchain.html#blocking","title":"Blocking","text":"<p>ScolCoin Chain uses a similar block structure as Tendermint proposes, with a size limit of 1 megabyte. It is expected a block will be produced on a-few-of-seconds level among validators, and can include from 0 up to several thousands of transactions.</p>"},{"location":"blockchain.html#blockchain-state","title":"Blockchain State","text":"<p>Blockchain state stores the below information:</p> <ul> <li>account and balances</li> <li>fees</li> <li>token information</li> <li>trading pairs</li> <li>tick size and lot size</li> <li>governance information</li> </ul> <p>please note the transactions are not stored as chain state, because they are stored in blocks, while trades are not stored as state either, because they can be reproduced via balances and transactions.</p>"},{"location":"blockchain.html#cryptographic-design","title":"Cryptographic Design","text":""},{"location":"blockchain.html#account-and-address","title":"Account and Address","text":"<p>For normal users, all the keys and addresses can be generated via SCOL Web Wallet.</p> <p>This default wallet would use a similar way to generate keys as Bitcoin, i.e. use 256 bits entropy to generate a 24-word mnemonic based on BIP39, and then use the mnemonic and an empty passphrase to generate a seed; finally use the seed to generate a master key, and derive the private key using BIP32/BIP44 with HD prefix as <code>\"44'/714'/\"</code>, which is reserved at SLIP 44.</p> <p>714 comes from SCOL's birthday, July 14th. :)</p>"},{"location":"blockchain.html#keys","title":"Keys","text":"<p>ScolCoin Chain uses the same elliptic curve cryptography as the current Bitcoin implementation, i.e. <code>secp256k1</code>. Its private key is 32 bytes while public key is 33 bytes.</p>"},{"location":"blockchain.html#address","title":"Address","text":"<p>Addresses on ScolCoin Chain are 20 bytes and may be expressed as: <pre><code>Address = RIPEMD160(SHA256(compressed public key))\n</code></pre></p> <p>Typically, an address is encoded in the bech32 format which includes a checksum and human-readable prefix (HRP). However, it doesn't use the <code>SegWit</code> address format (because we do not have <code>SegWit</code> function anyway, so no <code>witness program version</code> etc.).</p> <p>A ScolCoin Chain address is therefore more similar to a Bitcoin Cash address, which does not include a SegWit program script.</p> <p>Address format pseudo-code: <pre><code>Address_Bech32 = HRP + '1' + bech32.encode(convert8BitsTo5Bits(RIPEMD160(SHA256(compressed public key))))\n</code></pre></p> <p>For ScolCoin Chain address, the prefix is <code>scol</code> for production network, and <code>tscol</code> for testnet.</p>"},{"location":"blockchain.html#signature","title":"Signature","text":"<p>ScolCoin Chain uses an ECDSA signature on curve secp256k1 against a <code>SHA256</code> hash of the byte array of a JSON-encoded canonical representation of the transaction. For more information, please see this page.</p>"},{"location":"changelog.html","title":"CHANGELOG","text":""},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-mainnet-api-2021-06-04","title":"Upcoming Changes in ScolCoin Chain Mainnet API - 2021-06-04","text":""},{"location":"changelog.html#http-api","title":"HTTP API","text":""},{"location":"changelog.html#apiv1transactions","title":"/api/v1/transactions","text":"<p>Changes</p> <p>The following changes will take effect.</p> <ul> <li><code>address</code> related <code>Mutli Send Transfer</code> transaction history will also be included;</li> <li>If this address is the receiver of any <code>HTL_TRANSFER</code> , the related transactions history will also be included</li> <li><code>asset</code> parameter can be used to search for <code>quote asset</code> of NEW_ORDER, CANCEL_ORDER,MINI_TOKEN_LIST,LISTING transactions</li> <li><code>asset</code> parameter can be used to search for <code>quote asset</code> or <code>base asset</code> of dex listing SUBMIT_PROPOSAL transactions</li> <li>DEPOSIT_HTL HTL_TRANSFER, SIDE_DEPOSIT, TIME_LOCK, TIME_RELOCK, TRANSFER can relate to multiple assets, you can search by any of them.</li> </ul>"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-mainnet-api-v072","title":"Upcoming Changes in ScolCoin Chain Mainnet API v0.7.2","text":""},{"location":"changelog.html#node-rpc","title":"Node RPC","text":"<p>Extra paths are available for querying information about <code>BEP8</code> tokens and trading pairs.</p> <p>New Query Path</p> <ul> <li><code>/mini-tokens/info</code></li> <li><code>/mini-tokens/list</code></li> <li><code>/dex-mini/pairs</code></li> </ul>"},{"location":"changelog.html#http-api_1","title":"HTTP API","text":""},{"location":"changelog.html#apiv1depth","title":"/api/v1/depth","text":"<p>Changes</p> <p>Add pending_match flag in response to indicate that current block has not run matching process for the new orders incoming in this block. In detail, if there are new orders created in current block, but the matching process has not run for the block, then pending_math=true. As a result, there could be orders with cross prices - price of ask is lower than price of bid. Client can ignore the response with pending_match=true and query the depth API until pending_match=false.</p> <p>GET Summary: Get the order book.</p> <p>Description: Gets the order book depth data for a given pair symbol.</p> <p>The given limit must be one of the allowed limits below.</p> <p>Destination: Validator node.</p> <p>Rate Limit: 10 requests per IP per second.</p> <p>URL for testnet: https://dex.scolcoin.com/api/v1/depth?symbol=xxx-000_SCOL</p> <p>Parameters</p> Name Located in Description Required Schema symbol query Market pair symbol, e.g. NNB-0AD_SCOL Yes string limit query The limit of results. Allowed limits: [5, 10, 20, 50, 100, 500, 1000] No integer <p>Responses</p>"},{"location":"changelog.html#marketdepth","title":"MarketDepth","text":"Name Type Description Example asks [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] bids [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] pending_match boolean If new orders inserted in current block and the matching process has not started in the block, return true."},{"location":"changelog.html#marketdepth_1","title":"MarketDepth","text":"Name Type Description Example asks [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] bids [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] pending_match boolean If new orders inserted in current block and the matching process has not started in the block, return true."},{"location":"changelog.html#apiv1minitokens","title":"/api/v1/mini/tokens","text":"<p>Changes</p> <p>Gets a list of available mini tokens.</p>"},{"location":"changelog.html#minitokens","title":"MiniTokens","text":"Name Type Description Example name string ScolCoin Chain Mini Token symbol string BTC-000 original_symbol string BTC total_supply string (fixed8) In decimal form, e.g. 1.00000000 0.00000000 token_type integer Type of the mini token owner string (address) Address mintable boolean mintable token_uri string URI for token description"},{"location":"changelog.html#apiv1minimarkets","title":"/api/v1/mini/markets:","text":"<p>Changes</p> <p>Gets a list of available mini tokens trading pairs.</p>"},{"location":"changelog.html#market","title":"Market","text":"Name Type Description Example base_asset_symbol string (currency) symbol of base asset SCOL quote_asset_symbol string (currency) symbol of quote asset ABC-5CA list_price string (fixed8) In decimal form 1.00000000 tick_size string (fixed8) Minimium price change in decimal form 0.00000001 lot_size string (fixed8) Minimium trading quantity in decimal form 1.00000000"},{"location":"changelog.html#apiv1minikline","title":"/api/v1/mini/kline","text":"<p>Changes</p> <p>Get mini-token candlestick bars. Interval allowed value: [1h, 2h, 4h, 6h, 8h, 12h, 1d, 3d, 1w, 1M]</p>"},{"location":"changelog.html#candlestick","title":"Candlestick","text":"Name Type Description Example close number closing price closeTime long time of closing trade high number the highest price low number the lowest price numberOfTrades integer total trades open number open price openTime long time of open trade quoteAssetVolume number the total trading volume in quote asset volume number the total trading volume"},{"location":"changelog.html#apiv1miniordersclosed","title":"/api/v1/mini/orders/closed","text":"<p>Changes</p> <p>Get closed orders of mini-token pairs.</p>"},{"location":"changelog.html#orderlist","title":"OrderList","text":"Name Type Description Example order [ Order ] list of orders total long"},{"location":"changelog.html#apiv1miniordersopen","title":"/api/v1/mini/orders/open","text":"<p>Changes</p> <p>Get open orders of mini-token pairs.</p>"},{"location":"changelog.html#orderlist_1","title":"OrderList","text":"Name Type Description Example order [ Order ] list of orders total long"},{"location":"changelog.html#apiv1miniticker24hr","title":"/api/v1/mini/ticker/24hr","text":"<p>Changes</p> <p>Get a market ticker of mini-token pairs.</p>"},{"location":"changelog.html#tickerstatistics","title":"TickerStatistics","text":"Name Type Description Example askPrice string sell price askQuantity string sell quantity bidPrice string buy price bidQuantity string buy quantity closeTime long time of closing count long total trade count firstId string ID of first trade highPrice string highest price lastId string ID of last trade lastPrice string last price lastQuantity string last quantity lowPrice string lowest price openPrice string open price openTime long open time prevClosePrice string last close price priceChange string change of price priceChangePercent string change of price in percentage quoteVolume string trading volume in quote asset symbol string trading symbol volume string trading volume weightedAvgPrice string weighted average price"},{"location":"changelog.html#apiv1minitrades","title":"/api/v1/mini/trades","text":"<p>Changes</p> <p>Get market trades of mini-token pairs.</p>"},{"location":"changelog.html#tradepage","title":"TradePage","text":"Name Type Description Example total long total number of trades trade [ Trade ]"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-testnet-api-v070","title":"Upcoming Changes in ScolCoin Chain Testnet API v0.7.0","text":""},{"location":"changelog.html#node-rpc_1","title":"Node RPC","text":"<p>Extra paths are available for querying information about <code>BEP8</code> tokens and trading pairs.</p> <p>New Query Path</p> <ul> <li><code>/mini-tokens/info</code></li> <li><code>/mini-tokens/list</code></li> <li><code>/dex-mini/pairs</code></li> </ul>"},{"location":"changelog.html#http-api_2","title":"HTTP API","text":""},{"location":"changelog.html#apiv1depth_1","title":"/api/v1/depth","text":"<p>Changes</p> <p>Add pending_match flag in response to indicate that current block has not run matching process for the new orders incoming in this block. In detail, if there are new orders created in current block, but the matching process has not run for the block, then pending_math=true. As a result, there could be orders with cross prices - price of ask is lower than price of bid. Client can ignore the response with pending_match=true and query the depth API until pending_match=false.</p> <p>GET Summary: Get the order book.</p> <p>Description: Gets the order book depth data for a given pair symbol.</p> <p>The given limit must be one of the allowed limits below.</p> <p>Destination: Validator node.</p> <p>Rate Limit: 10 requests per IP per second.</p> <p>URL for testnet: https://testnet-dex.scolcoin.com/api/v1/depth?symbol=xxx-000_SCOL</p> <p>Parameters</p> Name Located in Description Required Schema symbol query Market pair symbol, e.g. NNB-0AD_SCOL Yes string limit query The limit of results. Allowed limits: [5, 10, 20, 50, 100, 500, 1000] No integer <p>Responses</p>"},{"location":"changelog.html#marketdepth_2","title":"MarketDepth","text":"Name Type Description Example asks [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] bids [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] pending_match boolean If new orders inserted in current block and the matching process has not started in the block, return true."},{"location":"changelog.html#marketdepth_3","title":"MarketDepth","text":"Name Type Description Example asks [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] bids [ string (fixed8) ] Price and qty in decimal form, e.g. 1.00000000 [\"1.00000000\",\"800.00000000\"] pending_match boolean If new orders inserted in current block and the matching process has not started in the block, return true."},{"location":"changelog.html#apiv1minitokens_1","title":"/api/v1/mini/tokens","text":"<p>Changes</p> <p>Gets a list of available mini tokens.</p>"},{"location":"changelog.html#minitokens_1","title":"MiniTokens","text":"Name Type Description Example name string ScolCoin Chain Mini Token symbol string BTC-000 original_symbol string BTC total_supply string (fixed8) In decimal form, e.g. 1.00000000 0.00000000 token_type integer Type of the mini token owner string (address) Address mintable boolean mintable token_uri string URI for token description"},{"location":"changelog.html#apiv1minimarkets_1","title":"/api/v1/mini/markets:","text":"<p>Changes</p> <p>Gets a list of available mini tokens trading pairs.</p>"},{"location":"changelog.html#market_1","title":"Market","text":"Name Type Description Example base_asset_symbol string (currency) symbol of base asset SCOL quote_asset_symbol string (currency) symbol of quote asset ABC-5CA list_price string (fixed8) In decimal form 1.00000000 tick_size string (fixed8) Minimium price change in decimal form 0.00000001 lot_size string (fixed8) Minimium trading quantity in decimal form 1.00000000"},{"location":"changelog.html#apiv1minikline_1","title":"/api/v1/mini/kline","text":"<p>Changes</p> <p>Get mini-token candlestick bars. Interval allowed value: [1h, 2h, 4h, 6h, 8h, 12h, 1d, 3d, 1w, 1M]</p>"},{"location":"changelog.html#candlestick_1","title":"Candlestick","text":"Name Type Description Example close number closing price closeTime long time of closing trade high number the highest price low number the lowest price numberOfTrades integer total trades open number open price openTime long time of open trade quoteAssetVolume number the total trading volume in quote asset volume number the total trading volume"},{"location":"changelog.html#apiv1miniordersclosed_1","title":"/api/v1/mini/orders/closed","text":"<p>Changes</p> <p>Get closed orders of mini-token pairs.</p>"},{"location":"changelog.html#orderlist_2","title":"OrderList","text":"Name Type Description Example order [ Order ] list of orders total long"},{"location":"changelog.html#apiv1miniordersopen_1","title":"/api/v1/mini/orders/open","text":"<p>Changes</p> <p>Get open orders of mini-token pairs.</p>"},{"location":"changelog.html#orderlist_3","title":"OrderList","text":"Name Type Description Example order [ Order ] list of orders total long"},{"location":"changelog.html#apiv1miniticker24hr_1","title":"/api/v1/mini/ticker/24hr","text":"<p>Changes</p> <p>Get a market ticker of mini-token pairs.</p>"},{"location":"changelog.html#tickerstatistics_1","title":"TickerStatistics","text":"Name Type Description Example askPrice string sell price askQuantity string sell quantity bidPrice string buy price bidQuantity string buy quantity closeTime long time of closing count long total trade count firstId string ID of first trade highPrice string highest price lastId string ID of last trade lastPrice string last price lastQuantity string last quantity lowPrice string lowest price openPrice string open price openTime long open time prevClosePrice string last close price priceChange string change of price priceChangePercent string change of price in percentage quoteVolume string trading volume in quote asset symbol string trading symbol volume string trading volume weightedAvgPrice string weighted average price"},{"location":"changelog.html#apiv1minitrades_1","title":"/api/v1/mini/trades","text":"<p>Changes</p> <p>Get market trades of mini-token pairs.</p>"},{"location":"changelog.html#tradepage_1","title":"TradePage","text":"Name Type Description Example total long total number of trades trade [ Trade ]"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-api-v064","title":"Upcoming Changes in ScolCoin Chain API v0.6.4","text":""},{"location":"changelog.html#http-api_3","title":"HTTP API","text":""},{"location":"changelog.html#add-error-message-for-newly-created-address","title":"Add Error Message for Newly Created Address","text":"<p>You will get <code>{\"code\":404,\"message\":\"account not found\"}</code> for newly created account:</p> <p>Example <pre><code>https://testnet-dex-asiapacific.scolcoin.com/api/v1/account/tscol10qpmrlsr4mq65xwgjd39xypkkpw3wm9c5e58xm\n</code></pre> Return: <pre><code>{\ncode: 404,\nmessage: \"account not found\"\n}\n</code></pre></p>"},{"location":"changelog.html#apiv1trades","title":"/api/v1/trades","text":"<p>Changes</p> <p>Add <code>buyerSource</code> and <code>sellerSource</code> in the response Trade data structure. The Source Id reference can be found inhttps://github.com/githubusername/githubrepo/BEPs/blob/master/BEP10.md.</p>"},{"location":"changelog.html#trade","title":"Trade","text":"Name Type Description Example baseAsset string base asset symbol blockHeight long block height buyFee string trading fee for the buyer address on the block of this trade buyerId string id of buyer buyerOrderId string order id for buyer buySingleFee string trading fee for the buyer address on this single trade SCOL:0.00000172; buyerSource long tx source of buy order 1 price string trade price quantity string trade quantity quoteAsset string quote asset symbol sellFee string trading fee for the seller address on the block of this trade sellerId string seller ID sellerOrderId string seller order ID sellSingleFee string trading fee for the seller address on this single trade SCOL:0.00000216; sellerSource long tx source of sell order 1 symbol string asset symbol tickType string enum [Unknown,SellTaker,BuyTaker,BuySurplus,SellSurplus,Neutral] time long trade time tradeId string trade ID"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-api-v063","title":"Upcoming Changes in ScolCoin Chain API v0.6.3","text":""},{"location":"changelog.html#http-api_4","title":"HTTP API","text":""},{"location":"changelog.html#apiv1atomic-swaps","title":"/api/v1/atomic-swaps","text":""},{"location":"changelog.html#apiv1atomic-swapsid","title":"/api/v1/atomic-swaps/{id}","text":"<p>Changes</p> <p>The API is used to query atomic-swaps by id or by address. In the <code>AtomicSwap</code> data structure: * A new field <code>blockTimestamp</code> is added to indicate the block time in millisecond * The original <code>timestamp</code> is changed to indicate the timestamp for randomNumberHash calculation. Its unit is second. * <code>createTime</code> and <code>updateTime</code> are removed from <code>AtomicSwap</code>.</p>"},{"location":"changelog.html#atomicswap","title":"AtomicSwap","text":"Name Type Description Example blockTimestamp long Timestamp of block in which the swap is initiated. The unit is millisecond. closedTime long crossChain integer expectedIncome string expireHeight long fromAddr string inAmount string outAmount string randomNumber string randomNumberHash string recipientOtherChain string status integer swapId string timestamp long The timestamp for randomNumberHash calculation, randomNumberHash=sha256(randomNumber, timestamp). The unit is second. toAddr string"},{"location":"changelog.html#websocket","title":"WebSocket","text":"<p>As described in https://docs.scolcoin.com/api-reference/dex-api/ws-streams.html#6-book-depth-streams, you can now customize the returned level from orderbook. The default level is 20 and you can extend the level to 100, 500, or 1000 with compression enabled.</p> <ul> <li>Example on mainnet: <pre><code>var  marketDepth = new WebSocket(\"wss://dex-atlantic.scolcoin.com/api/ws/NEXO-A84_SCOL@marketDepth100\");\n</code></pre></li> <li>Example on testnet: <pre><code>var  marketDepth = new WebSocket(\"wss://testnet-dex.scolcoin.com/api/ws/ALT-3B6_SCOL@marketDepth100\");\n</code></pre></li> </ul>"},{"location":"changelog.html#node-rpc_2","title":"Node RPC","text":"<p>Due to changes of underling Tendermint library, <code>ResponseCheckTx</code>, <code>ResponseDeliverTx</code>, <code>ResponseBeginBlock</code>, and <code>ResponseEndBlock</code> now include <code>Events</code> instead of <code>Tags</code>. Each <code>Event</code> contains a type and a list of attributes (list of key-value pairs) allowing for inclusion of multiple distinct events in each response.</p>"},{"location":"changelog.html#events","title":"Events","text":"<p>Some methods (<code>CheckTx, BeginBlock, DeliverTx, EndBlock</code>) include an <code>Events</code> field in their <code>Response*</code>. Each event contains a type and a list of attributes, which are key-value pairs denoting something about what happened during the method's execution.</p> <p>Events can be used to index transactions and blocks according to what happened during their execution. Note that the set of events returned for a block from <code>BeginBlock</code> and <code>EndBlock</code> are merged. In case both methods return the same tag, only the value defined in <code>EndBlock</code> is used.</p> <p>Each event has a <code>type</code> which is meant to categorize the event for a particular <code>Response*</code> or tx. A <code>Response*</code> or tx may contain multiple events with duplicate <code>type</code> values, where each distinct entry is meant to categorize attributes for a particular event. Every key and value in an event's attributes must be UTF-8 encoded strings along with the event type itself.</p> <p>Example:</p> <pre><code> abci.ResponseDeliverTx{\n// ...\nEvents: []abci.Event{\n{\nType: \"validator.provisions\",\nAttributes: cmn.KVPairs{\ncmn.KVPair{Key: []byte(\"address\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"amount\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"balance\"), Value: []byte(\"...\")},\n},\n},\n{\nType: \"validator.provisions\",\nAttributes: cmn.KVPairs{\ncmn.KVPair{Key: []byte(\"address\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"amount\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"balance\"), Value: []byte(\"...\")},\n},\n},\n{\nType: \"validator.slashed\",\nAttributes: cmn.KVPairs{\ncmn.KVPair{Key: []byte(\"address\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"amount\"), Value: []byte(\"...\")},\ncmn.KVPair{Key: []byte(\"reason\"), Value: []byte(\"...\")},\n},\n},\n// ...\n},\n}\n</code></pre> <ul> <li>ResponseCheckTx</li> </ul> <pre><code>type ResponseCheckTx struct {\n  Code                 uint32   `protobuf:\"varint,1,opt,name=code,proto3\" json:\"code,omitempty\"`\n  Data                 []byte   `protobuf:\"bytes,2,opt,name=data,proto3\" json:\"data,omitempty\"`\n  Log                  string   `protobuf:\"bytes,3,opt,name=log,proto3\" json:\"log,omitempty\"`\n  Info                 string   `protobuf:\"bytes,4,opt,name=info,proto3\" json:\"info,omitempty\"`\n  GasWanted            int64    `protobuf:\"varint,5,opt,name=gas_wanted,json=gasWanted,proto3\" json:\"gas_wanted,omitempty\"`\n  GasUsed              int64    `protobuf:\"varint,6,opt,name=gas_used,json=gasUsed,proto3\" json:\"gas_used,omitempty\"`\n  Events               []Event  `protobuf:\"bytes,7,rep,name=events,proto3\" json:\"events,omitempty\"`\n  Codespace            string   `protobuf:\"bytes,8,opt,name=codespace,proto3\" json:\"codespace,omitempty\"`\n  XXX_NoUnkeyedLiteral struct{} `json:\"-\"`\n  XXX_unrecognized     []byte   `json:\"-\"`\n  XXX_sizecache        int32    `json:\"-\"`\n}\n</code></pre> <ul> <li>ResponseDeliverTx</li> </ul> <pre><code>type ResponseDeliverTx struct {\n  Code                 uint32   `protobuf:\"varint,1,opt,name=code,proto3\" json:\"code,omitempty\"`\n  Data                 []byte   `protobuf:\"bytes,2,opt,name=data,proto3\" json:\"data,omitempty\"`\n  Log                  string   `protobuf:\"bytes,3,opt,name=log,proto3\" json:\"log,omitempty\"`\n  Info                 string   `protobuf:\"bytes,4,opt,name=info,proto3\" json:\"info,omitempty\"`\n  GasWanted            int64    `protobuf:\"varint,5,opt,name=gas_wanted,json=gasWanted,proto3\" json:\"gas_wanted,omitempty\"`\n  GasUsed              int64    `protobuf:\"varint,6,opt,name=gas_used,json=gasUsed,proto3\" json:\"gas_used,omitempty\"`\n  Events               []Event  `protobuf:\"bytes,7,rep,name=events,proto3\" json:\"events,omitempty\"`\n  Codespace            string   `protobuf:\"bytes,8,opt,name=codespace,proto3\" json:\"codespace,omitempty\"`\n  XXX_NoUnkeyedLiteral struct{} `json:\"-\"`\n  XXX_unrecognized     []byte   `json:\"-\"`\n  XXX_sizecache        int32    `json:\"-\"`\n}\n</code></pre> <ul> <li>ResponseBeginBlock</li> </ul> <pre><code>type ResponseBeginBlock struct {\n  Events               []Event  `protobuf:\"bytes,1,rep,name=events,proto3\" json:\"events,omitempty\"`\n  XXX_NoUnkeyedLiteral struct{} `json:\"-\"`\n  XXX_unrecognized     []byte   `json:\"-\"`\n  XXX_sizecache        int32    `json:\"-\"`\n}\n</code></pre> <ul> <li>ResponseEndBlock <pre><code>type ResponseEndBlock struct {\n  ValidatorUpdates      []ValidatorUpdate `protobuf:\"bytes,1,rep,name=validator_updates,json=validatorUpdates,proto3\" json:\"validator_updates\"`\n  ConsensusParamUpdates *ConsensusParams  `protobuf:\"bytes,2,opt,name=consensus_param_updates,json=consensusParamUpdates,proto3\" json:\"consensus_param_updates,omitempty\"`\n  Events                []Event           `protobuf:\"bytes,3,rep,name=events,proto3\" json:\"events,omitempty\"`\n  XXX_NoUnkeyedLiteral  struct{}          `json:\"-\"`\n  XXX_unrecognized      []byte            `json:\"-\"`\n  XXX_sizecache         int32             `json:\"-\"`\n}\n</code></pre></li> </ul>"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-api-v062","title":"Upcoming Changes in ScolCoin Chain API v0.6.2","text":""},{"location":"changelog.html#http-api_5","title":"HTTP API","text":""},{"location":"changelog.html#apiv2transactions-in-blockblockheight","title":"/api/v2/transactions-in-block/{blockHeight}","text":"<p>Changes</p> <p>This endpoint is used for getting all transactions in the block. Multi-send and multi-coin transactions are flattened as sub-transactions.</p>"},{"location":"changelog.html#txv2","title":"TxV2","text":"Name Type Description Example blockHeight long code integer 0 data string fromAddr string memo string orderId string Optional. Available when the transaction type is NEW_ORDER proposalId string Optional. Available when the transaction type is PROPOSAL sequence long source long subTransactions [ SubTx ] Optional. Available when the transaction has sub-transactions, such as multi-send transaction or a transaction have multiple assets swapId string Optional. Available when the transaction type is one of HTL_TRANSFER, CLAIM_HTL, REFUND_HTL, DEPOSIT_HTL timeStamp dateTime toAddr string txAsset string txFee string txHash string txType string value string"},{"location":"changelog.html#apiv1timelocksaccount_addr","title":"/api/v1/timelocks/{account_addr}","text":"<p>Changes</p> <p>This new function is for getting the whole timelock history of an address.</p>"},{"location":"changelog.html#timelocks","title":"TimeLocks","text":"Name Type Description Example id long The record id of the timelock transaction description string The description of the timelock transaction amount [  ] locktime string The available unlock time"},{"location":"changelog.html#apiv1timelockaccount_addridrecordid","title":"/api/v1/timelock/{account_addr}?(id={recordid})","text":"<p>Changes</p> <p>This new function is for getting the timelock history of an address by id.</p>"},{"location":"changelog.html#timelocks_1","title":"TimeLocks","text":"Name Type Description Example id long The record id of the timelock transaction description string The description of the timelock transaction amount [  ] locktime string The available unlock time"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-api-v061","title":"Upcoming Changes in ScolCoin Chain API v0.6.1","text":""},{"location":"changelog.html#http-api_6","title":"HTTP API","text":"<p>As you know, There are some accelerate nodes which provides some advanced API services for the public. Here is a list of all the HTTP API information it provides on mainnet: https://docs.scolcoin.com/api-reference/dex-api/paths.html</p> <p>In the latest update of HTTP API for testnet, there are the following changes:</p>"},{"location":"changelog.html#apiv1accountaddress","title":"/api/v1/account/{address}","text":"<p>Changes In the <code>Account</code> data structure, a new field <code>flags</code> is added to indicate the constrains for this address.</p> <ul> <li><code>flags</code> is used to indicate which script needs to be executed.</li> </ul>"},{"location":"changelog.html#account","title":"Account","text":"Name Type Description Example account_number integer address string (address) balances [ Balance ] public_key [ integer ] Public key bytes flags integer indicate additional check for this account sequence long sequence is for preventing replay attack"},{"location":"changelog.html#upcoming-changes-in-scolcoin-chain-api-v060","title":"Upcoming Changes in ScolCoin Chain API v0.6.0","text":""},{"location":"changelog.html#http-api_7","title":"HTTP API","text":"<p>As you know, There are some accelerate nodes which provides some advanced API services for the public. Here is a list of all the HTTP API information it provides on mainnet: https://docs.scolcoin.com/api-reference/dex-api/paths.html</p> <p>In the latest update of HTTP API for testnet, there are the following changes:</p>"},{"location":"changelog.html#apiv1trades_1","title":"/api/v1/trades","text":"<p>Changes</p> <p>In the <code>Trade</code> data structure, a new field <code>Ticker Type</code> is added. The enumerate values are: \"Unknown\", \"SellTaker\",\"BuyTaker\",\"BuySurplus\",\"SellSurplus\",\"Neutral\". When there is a maker and taker, <code>SellTaker</code> and  <code>BuyTaker</code> are used to indicate the side. When both sides are taker,  <code>BuySurplus</code>, <code>SellSurplus</code> and <code>Neutral</code> are used to indicate market pressure.<code>Unknown</code> mean the type is not possible to define.</p> <ul> <li><code>buySingleFee</code> is used to show trading fee for the buyer address on this single trade.</li> <li><code>sellSingleFee</code>is used to show  trading fee for the seller address on this single trade.</li> </ul> <p>GET</p> <p>Summary: Get market trades.</p> <p>Description: Gets a list of historical trades.</p> <p>Query Window: Default query window is latest 7 days; The maximum start - end query window is 3 months.</p> <p>Rate Limit: 5 requests per IP per second.</p> <p>Parameters</p> Name Located in Description Required Schema address query the buyer/seller address No string buyerOrderId query buyer order id No string end query end time in Milliseconds No long height query block height No long limit query default 500; max 1000. No integer offset query start with 0; default 0. No integer quoteAsset query quote asset No string sellerOrderId query seller order id No string side query order side. 1 for buy and 2 for sell. No integer start query start time in Milliseconds No long symbol query symbol No string total query total number required, 0 for not required and 1 for required; default not required, return total=-1 in response No integer <p>Responses</p> Code Description Schema 200 OK TradePage 400 Bad Request Error 404 Not Found default Generic error response Error"},{"location":"changelog.html#tradepage_2","title":"TradePage","text":"Name Type Description Example total long trade [ Trade ]"},{"location":"changelog.html#trade_1","title":"Trade","text":"Name Type Description Example baseAsset string base asset blockHeight long block height buyFee string trading fee for the buyer address on the block of this trade buyerId string id of buyer buyerOrderId string order id for buyer buySingleFee string trading fee for the buyer address on this single trade price string trade price quantity string trade quantity quoteAsset string quote asset sellFee string trading fee for the seller address on the block of this trade sellerId string seller ID sellerOrderId string seller order ID sellSingleFee string trading fee for the seller address on this single trade symbol string asset symbol tickType string enum [Unknown,SellTaker,BuyTaker,BuySurplus,SellSurplus,Neutral] time long trade time tradeId string trade ID"},{"location":"changelog.html#websocket_1","title":"Websocket","text":""},{"location":"changelog.html#trades","title":"Trades","text":"<p>Changes</p> <p>In received Payload of <code>trades</code>, a new filed <code>tt</code> is added. Its enumerate values are: * 0: Unknown * 1: SellTaker * 2: BuyTaker * 3: BuySurplus * 4: SellSurplus * 5: Neutral</p> <p>Received Payload:</p> <pre><code>{\n\"stream\": \"trades\",\n\"data\": [{\n\"e\": \"trade\",       // Event type\n\"E\": 123456789,     // Event height\n\"s\": \"SCOL_BTC\",     // Symbol\n\"t\": \"12345\",       // Trade ID\n\"p\": \"0.001\",       // Price\n\"q\": \"100\",         // Quantity\n\"b\": \"88\",          // Buyer order ID\n\"a\": \"50\",          // Seller order ID\n\"T\": 123456785,     // Trade time\n\"sa\": \"scol1me5u083m2spzt8pw8vunprnctc8syy64hegrcp\", // SellerAddress\n\"ba\": \"scol1kdr00ydr8xj3ydcd3a8ej2xxn8lkuja7mdunr5\" // BuyerAddress\n\"tt\": 1   //tiekertype\n},\n{\n\"e\": \"trade\",       // Event type\n\"E\": 123456795,     // Event time\n\"s\": \"SCOL_BTC\",     // Symbol\n\"t\": \"12348\",       // Trade ID\n\"p\": \"0.001\",       // Price\n\"q\": \"100\",         // Quantity\n\"b\": \"88\",          // Buyer order ID\n\"a\": \"52\",          // Seller order ID\n\"T\": 123456795,     // Trade time\n\"sa\": \"scol1me5u083m2spzt8pw8vunprnctc8syy64hegrcp\", // SellerAddress\n\"ba\": \"scol1kdr00ydr8xj3ydcd3a8ej2xxn8lkuja7mdunr5\" // BuyerAddress\n\"tt\": 0    //tiekertype\n}]\n}\n</code></pre>"},{"location":"changelog.html#extra-data-from-your-fullnode","title":"Extra data from your fullnode","text":"<p>All those extra info can also be found in exported data from your fullnode.</p> <p>Changes</p> <p>In <code>trade</code> data structure, there are five new fields: <code>SSrc</code>,<code>BSrc</code>,<code>SSingleFee</code>, <code>BSingleFee</code> and <code>TickerType</code>.</p> <ul> <li><code>SSrc</code>: Source code of Sell order transaction</li> <li><code>BSrc</code>: Source code of Buy order transaction</li> <li><code>SSingleFee</code>: fee of matched sell order</li> <li><code>BSingleFee</code>: fee of matched buy order</li> <li><code>TickerType</code>: ticker type</li> </ul> <p>In <code>Order</code> data structure, there is a new field: <code>singlefee</code>. This is used to show the fee of this order.</p> <p>For example:</p> <pre><code>\"Height\":3154,\n\"Timestamp\":1560927932877738000,\n\"NumOfMsgs\":4,\n\"Trades\":{\n\"NumOfMsgs\":1,\n\"Trades\":[\n{\n\"Id\":\"3154-0\",\n\"Symbol\":\"NNB-811_SCOL\",\n\"Price\":1200000000,\n\"Qty\":1200000000,\n\"Sid\":\"8FEC97AB9B3F52A30B860CFBB8E41B72E9EB02C1-11\",\n\"Bid\":\"01C93F3512BCAA7E1DDD490B69B85E53A76C79B9-2\",\n\"Sfee\":\"SCOL:5760000\",\n\"Bfee\":\"SCOL:5760000\",\n\"SSrc\":0,\n\"BSrc\":0,\n\"SSingleFee\":\"\",\n\"BSingleFee\":\"\",\n\"TickType\":0,\n\"SAddr\":\"scol13lkf02um8af2xzuxpnam3eqmwt57kqkp3hcvyp\",\n\"BAddr\":\"scol1q8yn7dgjhj48u8wafy9knwz72wnkc7dehf39ch\"\n}\n]\n},\n\"Orders\":{\n\"NumOfMsgs\":3,\n\"Orders\":[\n{\n\"Symbol\":\"NNB-811_SCOL\",\n\"Status\":0,\n\"OrderId\":\"01C93F3512BCAA7E1DDD490B69B85E53A76C79B9-2\",\n\"TradeId\":\"\",\n\"Owner\":\"scol1q8yn7dgjhj48u8wafy9knwz72wnkc7dehf39ch\",\n\"Side\":1,\n\"OrderType\":2,\n\"Price\":1300000000,\n\"Qty\":1300000000,\n\"LastExecutedPrice\":0,\n\"LastExecutedQty\":0,\n\"CumQty\":1200000000,\n\"Fee\":\"\",\n\"OrderCreationTime\":1560927932877738000,\n\"TransactionTime\":1560927932877738000,\n\"TimeInForce\":1,\n\"CurrentExecutionType\":0,\n\"TxHash\":\"A120FAA19A3448119E7F32B986540B21A5927616C73F95ACD1626FB54A74A865\"\n},\n{\n\"Symbol\":\"NNB-811_SCOL\",\n\"Status\":5,\n\"OrderId\":\"01C93F3512BCAA7E1DDD490B69B85E53A76C79B9-2\",\n\"TradeId\":\"3154-0\",\n\"Owner\":\"scol1q8yn7dgjhj48u8wafy9knwz72wnkc7dehf39ch\",\n\"Side\":1,\n\"OrderType\":2,\n\"Price\":1300000000,\n\"Qty\":1300000000,\n\"LastExecutedPrice\":1200000000,\n\"LastExecutedQty\":1200000000,\n\"CumQty\":1200000000,\n\"Fee\":\"SCOL:5760000\",\n\"OrderCreationTime\":1560927932877738000,\n\"TransactionTime\":1560927932877738000,\n\"TimeInForce\":1,\n\"CurrentExecutionType\":0,\n\"TxHash\":\"A120FAA19A3448119E7F32B986540B21A5927616C73F95ACD1626FB54A74A865\"\n},\n{\n\"Symbol\":\"NNB-811_SCOL\",\n\"Status\":6,\n\"OrderId\":\"8FEC97AB9B3F52A30B860CFBB8E41B72E9EB02C1-11\",\n\"TradeId\":\"3154-0\",\n\"Owner\":\"scol13lkf02um8af2xzuxpnam3eqmwt57kqkp3hcvyp\",\n\"Side\":2,\n\"OrderType\":2,\n\"Price\":1200000000,\n\"Qty\":1200000000,\n\"LastExecutedPrice\":1200000000,\n\"LastExecutedQty\":1200000000,\n\"CumQty\":1200000000,\n\"Fee\":\"SCOL:5760000\",\n\"OrderCreationTime\":1560927931834863000,\n\"TransactionTime\":1560927932877738000,\n\"TimeInForce\":1,\n\"CurrentExecutionType\":0,\n\"TxHash\":\"617565ECA6464E1B7435819A8154BCF5FC773FE1C5982A833DBEEDBE78E660C6\"\n}\n]\n},\n\"Proposals\":{\n\"NumOfMsgs\":0,\n\"Proposals\":null\n},\n\"StakeUpdates\":{\n\"NumOfMsgs\":0,\n\"CompletedUnbondingDelegations\":null\n}\n}\n</code></pre>"},{"location":"changelog.html#upcoming-changes-in-v062","title":"Upcoming Changes in v0.6.2","text":""},{"location":"changelog.html#tendermint-changes","title":"Tendermint Changes","text":""},{"location":"changelog.html#1-better-handle-index-database","title":"1. Better Handle Index database","text":"<p>Now Tendermint will recover index data from restart or crash. You can see the latest indexed height from status: <pre><code>{\n\"jsonrpc\": \"2.0\",\n\"id\": \"\",\n\"result\": {\n...\n\"sync_info\": {\n      \"latest_block_hash\": \"F51538DA498299F4C57AC8162AAFA0254CE08286\",\n      \"latest_app_hash\": \"0000000000000000\",\n      \"latest_block_height\": \"18\",\n      \"latest_block_time\": \"2018-09-17T11:42:19.149920551Z\",\n      \"catching_up\": false,\n      \"index_height\": \"18\"\n    },\n...\n}\n</code></pre></p>"},{"location":"changelog.html#2-more-configuration-in-config-file","title":"2. More configuration in config file","text":"<p>A new field is added: <code>skip_tx_from_persistent</code> under mempool part. If you set this to be True, your node will not broadcast transactions to its persistent peers.</p>"},{"location":"changelog.html#3-change-of-monitoring-metrics","title":"3. Change of Monitoring Metrics","text":"<ul> <li>Add the following metrics:</li> <li>IndexHegiht\uff1aThis metric will show the latest indexed height.</li> <li>Height: This metric will show the latest  height of the blockchain</li> <li>BlockIntervalSeconds: This metric will show the Time between this and the last block</li> <li>NumTxs: This metric will show the total  number of transactions in the current block</li> <li>BlockSizeBytes: This metric will show the size of the block</li> <li>TotalTxs: This metric will show the total  number of transactions in history</li> <li>CommittedHeight: This metric will show the latest block height</li> <li>PermanentPeerSetSize: This metric will show the number of peers considered as good</li> <li>PermanentPeers: This metric will show the details of peers considered as good</li> <li>DecayPeerSetSize:  This metric will show the number of peers considered as bad</li> <li>Remove metrics of ReceivedTx, PeerSendBytesTotal, PeerReceiveBytesTotal</li> </ul>"},{"location":"encoding.html","title":"ScolCoin Chain Transaction Encoding Specification","text":"<p>ScolCoin Chain transactions are protocol-based data types and can only be submitted in a compatible encoded frame.</p> <p>The fundamental encoding logic is from Tendermint Amino, which derives from and is \"largely compatible with\" Google protocol-buffer's Proto3.</p> <p>However the client sides only needs to stick to the specifications outlined below for the most frequently used transactions.</p>"},{"location":"encoding.html#encoding-output","title":"Encoding Output","text":"<p>ScolCoin Chain (Amino) encoding logic may encode a data structure into two output formats: Binary and JSON.</p>"},{"location":"encoding.html#json-marshal","title":"JSON Marshal","text":"<p>Amino supports JSON encoding natively, which is the same as other usual json marshalers. Except that it can add one more <code>type</code> info for registered type, as shown below.</p> <pre><code>{\n\"type\": \"&lt;amino type name&gt;\",\n\"value\": &lt;JSON&gt;\n}\n</code></pre>"},{"location":"encoding.html#binary-marshal","title":"Binary Marshal","text":"<p>Please note the below binary encoding logic is subjected to future changes. Please watch out for the community news.</p> <p>Binary encoding is a variant of Google's protobuf. The bytes are laid out in the below sequence:</p> <ol> <li>a varint encoded integer - it contains the length of the encoded bytes for the object, which is displayed as <code>SIZE-OF-ENCODED</code> in the below structs. Please note that it contains the length of encoded bytes and also the type prefix (below), but not itself, e.g. if the encoded msg is 20 bytes, then the length would be 20 + 4 = 24, while 4 is used for the type prefix bytes.</li> <li>an object type prefix of 4-8 bytes - For different type of objects, there will be different type prefixes, and they are displayed as in the specific objects below (data structures).</li> <li>a binary encoded object - the encoding is mostly the same as protocol buffer encoding mechanism, except the embedded fields of complex type:<ul> <li>to encode data field of some specific types, an object type prefix for the field will be added ahead of the real encoding.</li> </ul> </li> <li>repeated (array) Encoding - it is the same as google protocol buffer, while encoding of the object/struct may contain the type prefix as shown below.</li> </ol>"},{"location":"encoding.html#scolcoin-chain-transaction-encoding","title":"ScolCoin Chain Transaction Encoding","text":"<p>Below are the data types that can be sent to ScolCoin Chain as requests, and their encoding layout. To simplify the presentation, we will use a variant of Google protocol buffer proto3 language to illustrate how the data fields are organized. Except the all-capitalized fields, other fields will use the default <code>proto3</code> encoding logic.</p>"},{"location":"encoding.html#standard-transaction","title":"Standard Transaction","text":"<p>Transactions are each wrapped in the below \"Standard Transaction\": structure:</p> <pre><code>// please note the field name is the JSON name.\nmessage StdTx {\nuint64 SIZE-OF-ENCODED // varint encoded length of the structure after encoding, please note this includes both the below type prefix (4 bytes) and the all encoding bytes\n0xF0625DEE // hardcoded, object type prefix in 4 bytes\nrepeated Msg msgs // array of size 1, containing the transaction message, which are one of the transaction types below. please check the above \"Array Encoding\"\nrepeated StdSignature signatures // array of size 1, containing the standard signature structure of the transaction sender\nstring memo // a short sentence of remark for the transaction. Please only `Transfer` transaction allows 'memo' input, and other transactions with non-empty `Memo` will be rejected.\nint64 source // an identifier for tools triggerring this transaction, set to zero if unwilling to disclose.\nbytes data // byte array, reserved for future use\n}\n</code></pre>"},{"location":"encoding.html#stdsignbytes","title":"StdSignBytes","text":"<pre><code>type StdSignDoc struct {\nAccountNumber int64             `json:\"account_number\"`\nChainID       string            `json:\"chain_id\"`\nMemo          string            `json:\"memo\"`\nMsgs          []json.RawMessage `json:\"msgs\"`\nSequence      int64             `json:\"sequence\"`\nSource        int64             `json:\"source\"`\nData          []byte            `json:\"data\"`\n}\n</code></pre>"},{"location":"encoding.html#canonical-bytes-for-signing","title":"Canonical Bytes for Signing","text":"<p>A transaction signature is not formed from the Amino-encoded transaction bytes themselves. Rather, a canonical representation of the transaction is generated in JSON format for signing.</p> <p>This would allow for clients to sign a transaction off-chain, for example, with a hardware HSM device like a Ledger, or within a micro-service in an algorithmic trading system. An external system will not have to understand Amino encoding to be able to approve of the transaction's content and produce the signed JSON string.</p> <p>The canonical bytes for signing are generated from the StdSignBytes method. It produces a JSON string similar to the format below (formatted for clarity):</p> <pre><code>{\n\"sequence\" : \"64\",\n\"account_number\" : \"12\",\n\"data\" : null,\n\"chain_id\" : \"chain-scol\",\n\"memo\" : \"smiley\",\n\"msgs\" : [\n{\n\"inputs\" : [\n{\n\"coins\" : [\n{\n\"denom\" : \"SCOL\",\n\"amount\" : \"200000000\"\n}\n],\n\"address\" : \"bnc1hgm0p7khfk85zpz5v0j8wnej3a90w7098fpxyh\"\n}\n],\n\"outputs\" : [\n{\n\"address\" : \"bnc1cku54wwn66w2rkgs3h6v5zxrwtzyew8chcl720\",\n\"coins\" : [\n{\n\"denom\" : \"SCOL\",\n\"amount\" : \"200000000\"\n}\n]\n}\n]\n}\n],\n\"source\" : \"1\"\n}\n</code></pre> <p>This JSON string, with all whitespace removed and keys sorted in alphabetical order, is signed with the private key of the sender. This signature is then attached to the <code>StdTx</code> structure described in the above section. Please note that the transaction broadcasted to the blockchain is not JSON - the JSON is merely used as a canonical representation to generate the signature.</p> <p>The next section describes how the generated signature is attached to a transaction.</p>"},{"location":"encoding.html#standard-signature","title":"Standard Signature","text":"<p>The sender's signature is stored in the <code>Standard Transaction</code> data via a <code>Standard Signature</code>, as shown below. This structure is included in the <code>StdTx</code> (see above).</p> <p>Please note that <code>StdSignature</code> itself doesn't have type prefix, while the <code>PubKey</code> does.</p> <pre><code>message StdSignature {\nuint64 SIZE-OF-ENCODED // varint encoded length of the structure after encoding\n// please note there is no type prefix for StdSignature\nmessage PubKey {\n0xEB5AE987 // hardcoded, object type prefix in 4 bytes\nuint64 SIZE-OF-ENCODED // varint encoded length of the bytes below\nbytes // no name or field id, just encode the bytes\n}\nPubKey pub_key // public key bytes of the signer address\nbytes signature // signature bytes, please check the chain access section for signature generation\nint64 account_number // another identifier of signer, which can be read from chain by account REST API or RPC\nint64 sequence // sequence number for the next transaction of the client, which can be read from the chain by account REST API or RPC. Please check the chain access section for details.\n}\n</code></pre>"},{"location":"encoding.html#message-types","title":"Message Types","text":"<p>Messages represent the individual operations possible on ScolCoin Chain, and these can be inserted into the <code>StdTx.msgs</code> field. Message types are otherwise known as \"transaction types\", and these terms are used interchangebly in this document and in our technical documentation. So far every <code>StdTx</code> transaction \"container\" can only contain one \"message\".</p>"},{"location":"encoding.html#transfer","title":"Transfer","text":"<p>Transfer is the transaction used for transferring funds to different addresses.</p> <pre><code>// please note the field name is the JSON name.\nmessage Send {\n0x2A2C87FA   // hardcoded, object type prefix in 4 bytes\nmessage Token {\nstring denom\nint64 amount\n}\nmessage Input {\nbytes address\nrepeated Token coins\n}\nmessage Output {\nbytes address\nrepeated Token coins\n}\nrepeated Input inputs\nrepeated Output outputs\n}\n</code></pre>"},{"location":"encoding.html#neworder","title":"NewOrder","text":"<p>NewOrder transaction will create a new order to buy or sell tokens on SCOL DEX.</p> <pre><code>// please note the field name is the JSON name.\nmessage NewOrder {\n0xCE6DC043 // hardcoded, object type prefix in 4 bytes\nbytes sender // order originating address\nstring id // order id, please check the Order ID section below for details.\nstring symbol // symbol for trading pair in full name of the token\nint64 ordertype // only accept 2 for now, meaning limit order\nint64 side // 1 for buy and 2 fory sell\nint64 price // price of the order, which is the real price multiplied by 1e8 (10^8) and rounded to integer\nint64 quantity // quantity of the order, which is the real quantity multiplied by 1e8 (10^8) and rounded to integer\nint64 timeinforce // 1 for Good Till Expire(GTE) order and 3 for Immediate Or Cancel (IOC)\n}\n</code></pre>"},{"location":"encoding.html#order-id","title":"Order ID","text":"<p>Order ID is unique across the world. It is generated by sender and acknowledged by SCOL DEX. The current implementation is composed from 3 parts:</p> <ol> <li>Sender address in HEX format, without human-readable prefix</li> <li>A dash sign: <code>-</code></li> <li>Sequence number</li> </ol> <p>E.g. <code>40C2979694BBC961023D1D27BE6FC4D21A9FEBE6-5</code></p>"},{"location":"encoding.html#cancel","title":"Cancel","text":"<p>Cancel transactions (cancel the outstanding/unfilled) orders from the SCOL DEX. After cancel success, the locked quantity on the orders will return back to the originating address balance and become free to use, i.e. transfer or send new orders.</p> <pre><code>// please note the field name is the JSON name.\nmessage CancelOrder {\n0x166E681B // hardcoded, object type prefix in 4 bytes\nbytes sender // order originating address\nstring symbol // symbol for trading pair in full name of the token\nstring refid // order id of the order to cancel\n}\n</code></pre>"},{"location":"encoding.html#freeze","title":"Freeze","text":"<p>Freeze transaction will move the amount of the tokens into a <code>frozen</code> state, in which they cannot be used for transfers or sending new orders.</p> <pre><code>// please note the field name is the JSON name.\nmessage TokenFreeze {\n0xE774B32D // hardcoded, object type prefix in 4 bytes\nbytes from // owner address\nstring symbol // token symbol, in full name with \"-\" suffix\nint64 amount // amount of tokens to freeze\n}\n</code></pre>"},{"location":"encoding.html#unfreeze","title":"Unfreeze","text":"<p>Unfreeze will reversely turn the amount of <code>frozen</code> tokens back to free state.</p> <pre><code>// please note the field name is the JSON name.\nmessage TokenUnfreeze {\n0x6515FF0D // hardcoded, object type prefix in 4 bytes\nbytes from // owner address\nstring symbol // token symbol, in full name with \"-\" suffix\nint64 amount // amount of tokens to unfreeze\n}\n</code></pre>"},{"location":"encoding.html#vote","title":"Vote","text":"<p>Vote transactions for proposals.</p> <pre><code>// please note the field name is the JSON name.\nmessage Vote {\n0xA1CADD36 // hardcoded, object type prefix in 4 bytes\nint64 proposal_id // ID of the proposal\nbytes voter // address of the voter\nuint64 option // option from OptionSet chosen by the voter\n}\n</code></pre> <p>Below are options for <code>option</code>: <pre><code>OptionYes           = 0x01  // yes\nOptionAbstain       = 0x02  // abstain\nOptionNo            = 0x03  // no\nOptionNoWithVeto    = 0x04  // no with veto\n</code></pre></p>"},{"location":"encoding.html#issue","title":"Issue","text":"<p>Issue (create) new asset on ScolCoin Chain. <pre><code>message IssueTokenValue  {\n0x17EFAB80 // hardcoded, object type prefix in 4 bytes\nbytes  from  // issuer's address\nstring name // token name\nstring symbol // token symbol\nstring total_supply // total supply\nbool mintable // is mintable\n}\n</code></pre></p>"},{"location":"encoding.html#mint","title":"Mint","text":"<p>Mint is used to increase the total supply of a token. <pre><code>message Mint {\n0x467E0829 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring symbol string // token symbol\nint64 amount // increase amount\n}\n</code></pre></p>"},{"location":"encoding.html#burn","title":"Burn","text":"<p>Burn is used to decrease the total supply of a token. <pre><code>message TokenBurn {\n0x7ED2D2A0 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring symbol string // token symbol\nint64 amount // increase amount\n}\n</code></pre></p>"},{"location":"encoding.html#list","title":"List","text":"<p>List is used to add a new trading pair. <pre><code>message DexList{\n0xB41DE13F // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 proposal_id // id of corresponding proposal\nstring base_asset_symbol // token symbol of base asset\nstring quote_asset_symbol // token symbol of quote asset\nint64 init_price // init price of the new token\n}\n</code></pre></p>"},{"location":"encoding.html#submit-proposal","title":"Submit Proposal","text":"<p>Submit proposal is used to create a proposal for validators about adding trading pairs <pre><code>message Submit{\n0xB42D614E // hardcoded, object type prefix in 4 bytes\nstring title // Title of the proposal\nstring description // Description of the proposal\nbyte proposal_type // Type of proposal. Initial set {PlainTextProposal, SoftwareUpgradeProposal,ListTradingPair, FixedFeeParams}\nbytes proposer // Address of the proposer\nmessage Coin {\nstring denom\nint64 amount\n}\nint64 VotingPeriod // Length of the voting period (s)\n}\n</code></pre></p>"},{"location":"encoding.html#deposit","title":"Deposit","text":"<p>Deposit is used to increase the total deposit of a proposal. <pre><code>message Deposit{\n0xA18A56E5 // hardcoded, object type prefix in 4 bytes\nint64 ProposalID // ID of the proposal\nbytes Depositer // Address of the depositer\nmessage Coin {\nstring denom\nint64 amount\n}\n}\n</code></pre></p>"},{"location":"encoding.html#set-account-flags","title":"Set Account Flags","text":"<p>You can set the flag value of your account. <pre><code>message SetAccountFlags{\n0xBEA6E301 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 flag // account flag\n}\n</code></pre></p>"},{"location":"encoding.html#time-lock","title":"Time-lock","text":"<p>You can only lock tokens on your own account for a certain period of time. <pre><code>message Timerelock{\n0x07921531 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring description // Description of the lock\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nint64 lock_time // lock time\n}\n</code></pre></p>"},{"location":"encoding.html#time-unlock","title":"Time-unlock","text":"<p>You can  unlock tokens on your own account after a certain period of time. <pre><code>message Timeunlock{\n0xC4050C6C   // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 id // lock time id\n}\n</code></pre></p>"},{"location":"encoding.html#time-relock","title":"Time-relock","text":"<p>You can  relock tokens on your own account after a certain period of time. <pre><code>message Timerelock{\n0x504711DA // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 Id // lock time id\nstring description // Description of the lock\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nint64 lock_time // lock time\n}\n</code></pre></p>"},{"location":"encoding.html#htlt","title":"HTLT","text":"<p>Hash Timer Locked Transfer (HTLT) is a new transaction type on ScolCoin Chain, to serve as HSCOL in the first step of Atomic Swap</p> <pre><code>message HTLT{\n0xB33F9A24 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes to // receiver's address\nstring recipient_other_chain\nstring sender_other_chain\nbytes random_number_hash\nint64  timestamp\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nstring expected_income\nint64 height_span\nbool cross_chain\n}\n</code></pre>"},{"location":"encoding.html#deposit-htlt","title":"Deposit HTLT","text":"<p>Deposit Hash Timer Locked Transfer is to lock new BEP2 asset to an existed HTLT which is for single chain atomic swap.</p> <pre><code>message DepositHTLT{\n0x63986496 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nbytes swap_id\n}\n</code></pre>"},{"location":"encoding.html#claim-htlt","title":"Claim HTLT","text":"<p>Claim Hash Timer Locked Transfer is to claim the locked asset by showing the random number value that matches the hash. Each HTLT locked asset is guaranteed to be release once.</p> <pre><code>message ClaimHTLTMsg{\n0xC1665300 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes swap_id\nbytes random_number\n}\n</code></pre>"},{"location":"encoding.html#refund-htlt","title":"Refund HTLT","text":"<p>Refund Hash Timer Locked Transfer is to refund the locked asset after timelock is expired. <pre><code>message RefundHTLTMsg{\n0x3454A27C // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes swap_id\n</code></pre></p>"},{"location":"fullnodeissue.html","title":"Common Issues When Running a Full Node","text":""},{"location":"fullnodeissue.html#how-to-monitor-your-full-node-syncing-process","title":"How to monitor your full node syncing process?","text":"<ul> <li>You can check the current height of full node by visiting <code>localhost:26657/status</code></li> <li>You can check the log info in your log under your $BNCHOME. Monitor the output with: <pre><code>tail -f $BNCHOME/bnc.log\n</code></pre></li> </ul>"},{"location":"fullnodeissue.html#common-issues","title":"Common Issues","text":"<p>If you start running a full node from scratch, you are likely to encounter the following issues:</p>"},{"location":"fullnodeissue.html#apphash-confliction","title":"AppHash Confliction","text":"<ul> <li> <p>Error Log <pre><code>panic: Tendermint state.AppHash does not match AppHash after replay. Got XXXXXXX, expected 251DF08F2BA7824F0875D33992CF03EA35106DDD34B3A9FE4EFA0B73CDD2FE14\n</code></pre> This error is caused by a consensus issue and thus scolchaind will panic.</p> </li> <li> <p>Solution</p> </li> </ul> <p>To solve this issue, make sure that you have downloaded the correct <code>genesis file</code>, <code>config.toml</code> and <code>app.toml</code>. If you replaced the genesis file, then you need to do a node reset. To reset node: <pre><code>rm $BNCHOME/data\n\nrm $BNCHOME/config/priv_validator_key.json\n</code></pre> Then, start again.</p>"},{"location":"fullnodeissue.html#peer-connection-error","title":"Peer connection error","text":"<ul> <li>Error log: <pre><code>E[2019-04-17|23:52:24.069] Connection failed @ recvRoutine (reading byte) module=p2p peer=[aea74b16d28d06cbfbb1179c177e8cd71315cce4@54.64.99.130:27146](http://aea74b16d28d06cbfbb1179c177e8cd71315cce4@54.64.99.130:27146)conn=MConn{[52.199.237.19:27146](http://52.199.237.19:27146)} err=EOF\nE[2019-04-17|23:52:24.070] Stopping peer for error module=p2p peer=&amp;quot;Peer{MConn{[52.199.237.19:27146](http://52.199.237.19:27146)} aea74b16d28d06cbfbb1179c177e8cd71315cce4 out}&amp;quot; err=EOF\n</code></pre></li> </ul> <p>This error is caused by the handshake failing between two peers.</p> <ul> <li>Solution</li> </ul> <p>To solve this problem, you need to make sure node_key.json is under <code>$BNCHOME/config</code> and nodes will try to re-connect automatically, so this issue should not persist.</p>"},{"location":"fullnodeissue.html#connection-timeout","title":"Connection Timeout","text":"<ul> <li> <p>Error log <pre><code>Dialing failed module=pex addr=2c1fa9c1698961da38d8cd50da9fe8b4bc433c50@34.202.245.91:26856 err=&amp;quot;dial tcp 34.202.245.91:26856: i/o timeout&amp;quot; attempts=3\n</code></pre></p> </li> <li> <p>Solution</p> </li> </ul> <p>Check your internet connection and make sure it is stable.</p>"},{"location":"fullnodeissue.html#out-of-memory","title":"Out of memory","text":"<ul> <li> <p>Error Log <pre><code>fatal error: out of memory\n</code></pre></p> </li> <li> <p>Solution</p> </li> </ul> <p>Your machine must have more than <code>8 GB of memory</code>, otherwise, it will not handle DB restoration during state sync.</p>"},{"location":"fullnodeissue.html#no-priv_validator_statejson-after-reset","title":"No priv_validator_state.json after reset","text":"<ul> <li>Error log <pre><code>open /Users/.scolchaind/data/priv_validator_state.json: no such file or directory\n</code></pre></li> <li>Solution</li> </ul> <p>Delete both <code>priv_validator_state.json</code> &amp; <code>node_key.json</code> file and <code>data</code> folder if you want to reset your full node.</p>"},{"location":"fullnodeissue.html#scolchaind-crashes-because-of-too-many-open-files","title":"<code>scolchaind</code> crashes because of <code>too many open files</code>","text":"<p>The default number of files Linux can open (per-process) is <code>1024</code>. <code>scolchaind</code> is likely to open more than <code>1024</code> files. This causes the process to crash.</p> <p>A quick fix is to run <code>ulimit -n 65535</code> (increase the number of open files allowed) and then restart the process with: <pre><code>scolchaind start\n</code></pre></p> <p>Verify the number of open files: <pre><code>ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 3829\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 3829\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre> Please note that open files are different now.</p>"},{"location":"fullnodeissue.html#forget-to-upgrade","title":"Forget to Upgrade","text":"<p>The ScolCoin Chain has a hardfork upgrade and if you failed to upgrade your fullnode to the latest version, <code>scolchaind</code> process will stop and even if you restart with the latest version, the following error will appear: <pre><code>panic: Tendermint state.AppHash does not match AppHash after replay. Got , expected 393887B67F69B19CAB5C48FB87B4966018ABA893FB3FFD241C0A94D2C8668DD2\ngoroutine 1 [running]:\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.checkAppHash(0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, 0x20, ...)\n/Users/huangsuyu/go/src/github.com/shree/node/vendor/github.com/tendermint/tendermint/consensus/replay.go:464 +0x213\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.(*Handshaker).ReplayBlocks(0xc000b37980, 0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, ...)\n</code></pre></p> <p>To recover from the <code>state</code> conflict error, you need to:</p> <ul> <li> <p>Backup your home directory,  (default is ~/.scolchaind)</p> </li> <li> <p>Download the tool: state-recover</p> </li> <li> <p>Get the height of upgrade, this height will be announced in the upgrade announcement on the forum.  For example, if it's announced as 5000 in the forum and run the following command will make your full node recover to the last block before the upgrade, and that is 4999 : <pre><code>./state_recover 4999 &lt;your_home_path&gt;\n</code></pre></p> </li> <li> <p>Restart with the latest version of <code>scolchaind</code></p> </li> </ul> <pre><code>scolchaind start &amp;\n</code></pre>"},{"location":"fullnodeissue.html#scolchaind-is-not-properly-killed","title":"<code>scolchaind</code> is not properly killed","text":"<p>If you started your <code>scolchaind</code> process after it was not properly killed. You will see the following error: <pre><code>panic: ERROR:\nCodespace: 5\nCode: 9\nMessage: \"Initial ProposalID already set\"\n</code></pre> To recover, please reset your node and restart: <pre><code>scolchaind unsafe-reset-all --home&lt;your-home-dir&gt;\n</code></pre></p>"},{"location":"fullnodeissue.html#cannot-start-scolchaind","title":"Cannot start <code>scolchaind</code>","text":"<p>If you do not download the binaries completely, you will see the following message: <pre><code>./scolchaind: line 1: version: command not found ./scolchaind: line 2: oid: command not found /Library/Developer/CommandLineTools/usr/bin/size: 45160816 No such file or directory\n</code></pre></p> <p>Since all the binaries are stored in <code>git lfs</code>, you will see this error is the binary is not complete. Please use this script to download the binaries or use <code>git lfs clone</code>.</p>"},{"location":"fullnodeissue.html#cannot-query-a-specific-block","title":"Cannot query a specific block","text":"<p>Once you have your own node running, you can start querying from it. But sometimes you may not be ablt to get the information you want. For example: <pre><code>curl 'localhost:27147/block?height=10'\n</code></pre></p> <p>The reason is because your node is using <code>statesync</code> to catch up. In this way, it will not store all the history blocks before the snapshot height it got. You can only query blocks after that snapshot height.</p> <p>To enable query history blocks, you need to use <code>fast-sync</code></p>"},{"location":"get-extra-data-from-fullnode.html","title":"Get Extra Data From Your Full Node","text":"<p>This document is intended for developers who are interested in transactions, order books, account changes, fee charges in every block and would like to build their own downstream services of the full node. Please refer to Running Full Node, if you still haven't deployed a full node.</p>"},{"location":"get-extra-data-from-fullnode.html#publish-different-messages-to-local-files","title":"Publish Different Messages to Local Files","text":"<p>You can set the <code>publishLocal</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. The full node will append the messages each block published to <code>{fullnode home}/marketdata/marketdata.json</code> (each line is a json object for a topic and height), and you can consume them in your own apps. The messages types are explained below.</p> <p>Note: only block messages after this option get turned on can be saved. This function won't make up messages for already saved blocks.</p>"},{"location":"get-extra-data-from-fullnode.html#set-kafka-broker-version","title":"Set Kafka Broker Version","text":"<p>Since the release of scolchaind <code>v0.6.3</code>, you can customize the version of <code>kafka broker</code> in <code>app.toml</code>. The default value is <code>v2.1.0</code>:</p> <p>The recommended version 2.1.0 and the minimal version is 0.8.2.0</p> <p><pre><code>kafkaVersion = \"2.1.0\"\n</code></pre> If you are using another version of Kafka, please test the compatibility first.</p>"},{"location":"get-extra-data-from-fullnode.html#1-orderupdates","title":"1. OrderUpdates","text":"<p>You can set  the <code>publishOrderUpdates</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the trades that have been filled, orders that changed and proposals that been submitted.</p> <ul> <li>Example:</li> </ul> <p>All those extra info can also be found in exported data from your fullnode.</p>"},{"location":"get-extra-data-from-fullnode.html#changes","title":"Changes","text":"<p>In <code>trade</code> data structure, there are five new fields: <code>SSrc</code>,<code>BSrc</code>,<code>SSingleFee</code>, <code>BSingleFee</code> and <code>TickerType</code>.</p> <ul> <li><code>SSrc</code>: Source code of Sell order transaction</li> <li><code>BSrc</code>: Source code of Buy order transaction</li> <li><code>SSingleFee</code>: fee of matched sell order</li> <li><code>BSingleFee</code>: fee of matched buy order</li> <li><code>TickerType</code>: ticker type</li> </ul> <p>In <code>Order</code> data structure, there is a new field: <code>singlefee</code>. This is used to show the fee of this order.</p> <p><code>Status</code> is used to indicate the current status of this order. Namely there are 9 status:  0 for Acknowledge; 1 for Canceled ; 2 for Expired , 3 for IocNoFill, 4 for IocExpire, 5 for PartialFill, 6 for FullyFill, 7 for FailedBlocking, 8 for FailedMatching.</p> <p>For example:</p> <pre><code>{\n\"Height\": 36384232,\n\"Timestamp\": 1569196830136718300,\n\"NumOfMsgs\": 10,\n\"Trades\": {\n\"NumOfMsgs\": 2,\n\"Trades\": [\n{\n\"Id\": \"36384232-0\",\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"Sid\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"Bid\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"Sfee\": \"SCOL:32042\",\n\"Bfee\": \"SCOL:32042\",\n\"SSrc\": 0,\n\"BSrc\": 0,\n\"SSingleFee\": \"SCOL:32042\",\n\"BSingleFee\": \"SCOL:32042\",\n\"TickType\": 5,\n\"SAddr\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"BAddr\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\"\n},\n{\n\"Id\": \"36384232-1\",\n\"Symbol\": \"EQL-586_SCOL\",\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"Sid\": \"610BFE81695EFD89B19D27D1E8C17D57C0239C66-6367\",\n\"Bid\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"Sfee\": \"SCOL:2111\",\n\"Bfee\": \"SCOL:2111\",\n\"SSrc\": 0,\n\"BSrc\": 0,\n\"SSingleFee\": \"SCOL:2111\",\n\"BSingleFee\": \"SCOL:2111\",\n\"TickType\": 2,\n\"SAddr\": \"scol1vy9laqtftm7cnvvaylg73sta2lqz88rxs72mx7\",\n\"BAddr\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\"\n}\n]\n},\n\"Orders\": {\n\"NumOfMsgs\": 8,\n\"Orders\": [\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"37D9383E6AD9AFEF6C5D8066ABA3ACA8C75D9F39-1724193\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1xlvns0n2mxh77mzaspn2hgav4rr4m8eerfju38\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 344271,\n\"Qty\": 89600000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 0,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"D74A96022A2F090D7D739C1C6716481A215E0F7F10C430C28290758E9DC4EF73\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 110000000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"792BA5F932813F9C006075EAA090D82305AD049DDC570271FA8515339A874E97\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 345283,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 23200000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"574CB6DAF26C5D1A465A8D86760FFDFF3DA5946F9C02EB5B89051A8120844523\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 23200000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"9D8EF7CEAE5D2CDC4026F6306296D57764BB80099B3A65865971D8D71399B6EA\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 5,\n\"OrderId\": \"610BFE81695EFD89B19D27D1E8C17D57C0239C66-6367\",\n\"TradeId\": \"36384232-1\",\n\"Owner\": \"scol1vy9laqtftm7cnvvaylg73sta2lqz88rxs72mx7\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 230000000000,\n\"LastExecutedPrice\": 4798,\n\"LastExecutedQty\": 110000000000,\n\"CumQty\": 110000000000,\n\"Fee\": \"SCOL:2111\",\n\"OrderCreationTime\": 1569196786802324000,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"EDF132EBDA03382D2BFF7EF58CDE574D4E3FB9622BD8BCF12BA6ABECD692BA5C\",\n\"SingleFee\": \"SCOL:2111\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"TradeId\": \"36384232-0\",\n\"Owner\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 345283,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 345282,\n\"LastExecutedQty\": 23200000000,\n\"CumQty\": 23200000000,\n\"Fee\": \"SCOL:32042\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"574CB6DAF26C5D1A465A8D86760FFDFF3DA5946F9C02EB5B89051A8120844523\",\n\"SingleFee\": \"SCOL:32042\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"TradeId\": \"36384232-0\",\n\"Owner\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 345282,\n\"LastExecutedQty\": 23200000000,\n\"CumQty\": 23200000000,\n\"Fee\": \"SCOL:32042\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"9D8EF7CEAE5D2CDC4026F6306296D57764BB80099B3A65865971D8D71399B6EA\",\n\"SingleFee\": \"SCOL:32042\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"TradeId\": \"36384232-1\",\n\"Owner\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"LastExecutedPrice\": 4798,\n\"LastExecutedQty\": 110000000000,\n\"CumQty\": 110000000000,\n\"Fee\": \"SCOL:2111\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"792BA5F932813F9C006075EAA090D82305AD049DDC570271FA8515339A874E97\",\n\"SingleFee\": \"SCOL:2111\"\n}\n]\n},\n\"Proposals\": {\n\"NumOfMsgs\": 0,\n\"Proposals\": null\n},\n\"StakeUpdates\": {\n\"NumOfMsgs\": 0,\n\"CompletedUnbondingDelegations\": null\n}\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#2-accountbalance","title":"2. AccountBalance","text":"<p>You can set the <code>publishAccountBalance</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the changed accounts.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Owner:    string,\n    Fee:      string,\n    Balances: []{\n        Asset:  string,\n        Free:   int64,\n        Frozen: int64,\n        Locked: int64\n    }\n\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#3-orderbook","title":"3. OrderBook","text":"<p>You can set the <code>publishOrderBook</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all order book changes.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:    int64,\n    Timestamp: int64,\n    NumOfMsgs: int,\n    Books:     []{\n       Symbol: string,\n       Buys:   []{\n            Price:   int64,\n            LastQty: int64\n       },\n       Sells:  []{\n            Price:   int64,\n            LastQty: int64\n       }\n    }\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#4-blockfee","title":"4. BlockFee","text":"<p>You can set the <code>publishBlockFee</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the block fee charged.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:     int64,\n    Fee:        string,\n    Validators: []string\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#5-transfers","title":"5. Transfers","text":"<p>You can set the <code>publishTransfer</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the transfer transactions.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:    int64,\n    Num:       int,\n    Timestamp: int64,\n    Transfers: []{\n        TxHash: string,\n        Memo: string,\n        From: string,\n        To:   []{\n            Addr:  string,\n            Coins: []{\n                Denom:  string,\n                Amount: int64\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#6-staking-record","title":"6. Staking Record","text":"<p>You can set the <code>publishStaking</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about staking.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n       \"validators\": []{\n        \"feeAddr\":      string,\n        \"operatorAddr\": string,\n        \"consAddr\":     string,\n        \"jailed\":       bool,\n        \"status\":       string,\n        \"tokens\":       int64,\n        \"delegatorShares\":int64,\n        \"description\":{\n          \"moniker\":  string,\n          \"identity\": string,\n          \"website\":  string,\n          \"details\":  string,\n        },\n        \"bondHeight\": int64,\n        \"bondIntraTxCounter\": int,\n        \"commission\":{\n            \"rate\":      int64,\n            \"maxRate\":   int64,\n            \"maxChangeRate\": int64,\n            \"updateTime\": int64,\n        },\n        \"distributionAddr\":string,\n        \"sideChainId\": string,\n        \"sideConsAddr\": string,\n        \"sideFeeAddr\": string\n      },\n      \"removedValidators\": map[string][]string, //key: chain id, value: operatorAddr\n      \"delegatioins\": map[string][]{\n        \"delegator\": string,\n        \"validator\": string,\n        \"shares\":    int64\n    }, // map key: chain-id\n    \"unBondingDelegations\": map[string][]{\n        \"delegator\": string,\n        \"validator\": string,\n        \"creationHeight\": int64,\n        \"minTime\": int64,\n        \"initialBalance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"balance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        }\n    }, // map key: chain id\n    \"reDelegations\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string,\n        \"creationHeight\": int64,\n        \"sharesSrc\": int64,\n        \"sharesDst\": int64,\n        \"initialBalance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"balance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"minTime\": int64\n    }, // map key: chain id\n    \"completedUBDs\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        }\n    },\n    \"completedREDs\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string\n    },\n    \"delegateEvents\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"unDelegateEvents\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"reDelegateEvents\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"electedValidators\": map[string][]{\n        \"feeAddr\":      string,\n        \"operatorAddr\": string,\n        \"consAddr\":     string,\n        \"jailed\":       bool,\n        \"status\":       string,\n        \"tokens\":       int64,\n        \"delegatorShares\":int64,\n        \"description\":{\n          \"moniker\":  string,\n          \"identity\": string,\n          \"website\":  string,\n          \"details\":  string,\n},\n        \"bondHeight\": int64,\n        \"bondIntraTxCounter\": int,\n        \"commission\":{\n            \"rate\":      int64,\n            \"maxRate\":   int64,\n            \"maxChangeRate\": int64,\n            \"updateTime\": int64,\n        },\n        \"distributionAddr\":string,\n        \"sideChainId\": string,\n        \"sideConsAddr\": string,\n        \"sideFeeAddr\": string\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Staking\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"height\", \"type\": \"long\"},\n{\"name\": \"timestamp\", \"type\": \"long\" },\n{\"name\": \"numOfMsgs\", \"type\": \"int\" },\n{\"name\": \"validators\", \"type\": [\"null\", {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Validator\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"feeAddr\", \"type\": \"string\"},\n{\"name\": \"operatorAddr\", \"type\": \"string\"},\n{\"name\": \"consAddr\", \"type\": [\"null\",\"string\"], \"default\": \"null\"},\n{\"name\": \"jailed\", \"type\": \"boolean\"},\n{\"name\": \"status\", \"type\": \"string\"},\n{\"name\": \"tokens\", \"type\": \"long\"},\n{\"name\": \"delegatorShares\", \"type\": \"long\"},\n{\"name\": \"description\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Description\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"moniker\", \"type\": \"string\"},\n{\"name\": \"identity\", \"type\": \"string\"},\n{\"name\": \"website\", \"type\": \"string\"},\n{\"name\": \"details\", \"type\": \"string\"}\n]\n}},\n{\"name\": \"bondHeight\", \"type\": \"long\"},\n{\"name\": \"bondIntraTxCounter\", \"type\": \"int\"},\n{\"name\": \"commission\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Commission\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"rate\", \"type\": \"long\"},\n{\"name\": \"maxRate\", \"type\": \"long\"},\n{\"name\": \"maxChangeRate\", \"type\": \"long\"},\n{\"name\": \"updateTime\", \"type\": \"long\"}\n]\n}},\n{\"name\": \"distributionAddr\", \"type\": \"string\"},\n{\"name\": \"sideChainId\", \"type\": \"string\"},\n{\"name\": \"sideConsAddr\", \"type\": \"string\"},\n{\"name\": \"sideFeeAddr\", \"type\": \"string\"}\n]\n}\n}], \"default\": \"null\"},\n{\"name\": \"removedValidators\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\"type\": \"string\"}\n}\n}], \"default\": null},\n{\"name\": \"delegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Delegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"shares\", \"type\": \"long\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"unBondingDelegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"UnBondingDelgation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"creationHeight\", \"type\": \"long\"},\n{\"name\": \"minTime\", \"type\": \"long\"},\n{\"name\": \"initialBalance\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Coin\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}},\n{\"name\": \"balance\", \"type\": \"org.shree.dex.model.avro.Coin\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"reDelegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"ReDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"srcValidator\", \"type\": \"string\"},\n{\"name\": \"dstValidator\", \"type\": \"string\"},\n{\"name\": \"creationHeight\", \"type\": \"long\"},\n{\"name\": \"sharesSrc\", \"type\": \"long\"},\n{\"name\": \"sharesDst\", \"type\": \"long\"},\n{\"name\": \"initialBalance\", \"type\": \"org.shree.dex.model.avro.Coin\" },\n{\"name\": \"balance\", \"type\": \"org.shree.dex.model.avro.Coin\" },\n{\"name\": \"minTime\", \"type\": \"long\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"completedUBDs\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"CompletedUnbondingDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"validator\", \"type\": \"string\" },\n{ \"name\": \"delegator\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"}\n]\n}\n}\n}],  \"default\": null},\n{\"name\": \"completedREDs\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"CompletedReDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"delegator\", \"type\": \"string\" },\n{ \"name\": \"srcValidator\", \"type\": \"string\" },\n{ \"name\": \"dstValidator\", \"type\": \"string\" }\n]\n}\n}\n}],  \"default\": null},\n{\"name\": \"delegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"DelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"unDelegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"UndelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"reDelegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"RedelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"srcValidator\", \"type\": \"string\"},\n{\"name\": \"dstValidator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"electedValidators\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": \"org.shree.dex.model.avro.Validator\"\n}\n}], \"default\": null}\n]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#7-reward-distribution","title":"7. Reward Distribution","text":"<p>You can set the <code>publishDistributeReward</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about reward distribution.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"distributions\" : map[string][]{\n        \"validator\": string,\n        \"selfDelegator\": string,\n        \"distributeAddr\": string,\n        \"valTokens\": int64,\n        \"totalReward\": int64,\n        \"commission\": int64,\n        \"rewards\": []{\n            \"delegator\": string,\n            \"delegationTokens\": int64,\n            \"reward\": int64\n        }\n    } // map key: chain id\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Distribution\",\n    \"namespace\": \"org.shree.dex.model.avro\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n        { \"name\": \"distributions\", \"type\": {\n                \"type\": \"map\",\n                \"values\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"record\",\n                        \"name\": \"DistributionData\",\n                        \"namespace\": \"org.shree.dex.model.avro\",\n                        \"fields\": [\n                            {\"name\": \"validator\", \"type\": \"string\"},\n                            {\"name\": \"selfDelegator\",\"type\": \"string\"},\n                            {\"name\": \"distributeAddr\",\"type\": \"string\"},\n                            {\"name\": \"valTokens\", \"type\": \"long\"},\n                            {\"name\": \"totalReward\", \"type\": \"long\"},\n                            {\"name\": \"commission\", \"type\": \"long\"},\n                            {\"name\": \"rewards\", \"type\":{\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"type\": \"record\",\n                                    \"name\": \"Reward\",\n                                    \"namespace\": \"org.shree.dex.model.avro\",\n                                    \"fields\":[\n                                        {\"name\": \"delegator\", \"type\": \"string\"},\n                                        {\"name\": \"delegationTokens\", \"type\": \"long\"},\n                                        {\"name\": \"reward\", \"type\": \"long\"}\n                                    ]\n                                }\n                            }}\n                        ]\n                    }\n                }\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#8-slashing","title":"8. Slashing","text":"<p>You can set the <code>publishSlashing</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about slashing.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"slashData\":  map[string][]{\n        \"validator\": string,\n        \"infractionType\": int,\n        \"infractionHeight\": int64,\n        \"jailUtil\": int64,\n        \"slashAmount\": int64,\n        \"toFeePool\": int64,\n        \"submitter\": string,\n        \"submitterReward\": int64,\n        \"validatorsCompensation\": []{\n            \"address\": string,\n            \"amount\": int64\n        }\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Slashing\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"slashData\", \"type\": {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"SlashData\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"infractionType\", \"type\": \"int\"},\n{\"name\": \"infractionHeight\", \"type\": \"long\"},\n{\"name\": \"jailUtil\", \"type\": \"long\"},\n{\"name\": \"slashAmount\", \"type\": \"long\"},\n{\"name\": \"toFeePool\", \"type\": \"long\"},\n{\"name\": \"submitter\", \"type\": \"string\"},\n{\"name\": \"submitterReward\", \"type\": \"long\"},\n{\"name\": \"validatorsCompensation\", \"type\":{\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"AllocatedAmt\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\":[\n{\"name\": \"address\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"long\"}\n]\n}\n}}\n]\n}\n}\n}}\n]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#9-crosstransfer","title":"9. CrossTransfer","text":"<p>You can set the <code>publishCrossTransfer</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about cross transfer.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"num\":        int,\n    \"transfers\":  []{\n        \"txhash\": string,\n        \"type\": string,\n        \"relayerFee\": int64,\n        \"chainid\": string,\n        \"from\": \"string\",\n        \"denom\": string,\n        \"contract\": string,\n        \"decimals\": int,\n        \"to\": []{\n            \"addr\": string,\n            \"amount\": int64\n        }\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"CrossTransfers\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\"},\n{ \"name\": \"num\", \"type\": \"int\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"transfers\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Transfer\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"txhash\", \"type\": \"string\" },\n{ \"name\": \"type\", \"type\": \"string\" },\n{ \"name\": \"relayerFee\", \"type\": \"long\" },\n{ \"name\": \"chainid\", \"type\": \"string\" },\n{ \"name\": \"from\", \"type\": \"string\" },\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"contract\", \"type\": \"string\" },\n{ \"name\": \"decimals\", \"type\": \"int\" },\n{ \"name\": \"to\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Receiver\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"addr\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}\n}\n}\n]\n}\n}\n}\n]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#10-sideproposal","title":"10. SideProposal","text":"<p>You can set the <code>publishSideProposal</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about side proposals.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"proposals\":  []{\n        \"id\": int64,\n        \"chainid\": string,\n        \"status\": string\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"SideProposals\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"proposals\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Proposal\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"id\", \"type\": \"long\" },\n{ \"name\": \"chainid\", \"type\": \"string\" },\n{ \"name\": \"status\", \"type\": \"string\" }\n]\n}\n}\n}\n]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#11-breatheblock","title":"11. BreatheBlock","text":"<p>You can set the <code>publichBreatheBlock</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about side proposals.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"BreatheBlock\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"height\", \"type\": \"long\"},\n{\"name\": \"timestamp\", \"type\": \"long\"}\n]\n}\n</code></pre>"},{"location":"get-extra-data-from-fullnode.html#publish-different-messages-to-kafka","title":"Publish Different Messages to Kafka","text":"<p>You can set the <code>publishKafka</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save messages that you are interested into Kafka, and you can consume them in your own apps. The message is encoded based on <code>Avro</code> serialization system. Their schemas are shown below:</p> <ul> <li>OrderUpdates:</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"ExecutionResults\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"trades\", \"type\": [\"null\", {\n\"type\": \"record\",\n\"name\": \"Trades\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"trades\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Trade\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"symbol\", \"type\": \"string\" },\n{ \"name\": \"id\", \"type\": \"string\" },\n{ \"name\": \"price\", \"type\": \"long\" },\n{ \"name\": \"qty\", \"type\": \"long\" },\n{ \"name\": \"sid\", \"type\": \"string\" },\n{ \"name\": \"bid\", \"type\": \"string\" },\n{ \"name\": \"sfee\", \"type\": \"string\" },\n{ \"name\": \"bfee\", \"type\": \"string\" },\n{ \"name\": \"saddr\", \"type\": \"string\" },\n{ \"name\": \"baddr\", \"type\": \"string\" }\n]\n}\n}\n}\n]\n}], \"default\": null },\n{ \"name\": \"orders\", \"type\": [\"null\", {\n\"type\": \"record\",\n\"name\": \"Orders\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"orders\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Order\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"symbol\", \"type\": \"string\" },\n{ \"name\": \"status\", \"type\": \"string\" },\n{ \"name\": \"orderId\", \"type\": \"string\" },\n{ \"name\": \"tradeId\", \"type\": \"string\" },\n{ \"name\": \"owner\", \"type\": \"string\" },\n{ \"name\": \"side\", \"type\": \"int\" },\n{ \"name\": \"orderType\", \"type\": \"int\" },\n{ \"name\": \"price\", \"type\": \"long\" },\n{ \"name\": \"qty\", \"type\": \"long\" },\n{ \"name\": \"lastExecutedPrice\", \"type\": \"long\" },\n{ \"name\": \"lastExecutedQty\", \"type\": \"long\" },\n{ \"name\": \"cumQty\", \"type\": \"long\" },\n{ \"name\": \"fee\", \"type\": \"string\" },\n{ \"name\": \"orderCreationTime\", \"type\": \"long\" },\n{ \"name\": \"transactionTime\", \"type\": \"long\" },\n{ \"name\": \"timeInForce\", \"type\": \"int\" },\n{ \"name\": \"currentExecutionType\", \"type\": \"string\" },\n{ \"name\": \"txHash\", \"type\": \"string\" }\n]\n}\n}\n}\n]\n}], \"default\": null },\n{ \"name\": \"proposals\", \"type\": [\"null\", {\n\"type\": \"record\",\n\"name\": \"Proposals\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"proposals\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Proposal\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"id\", \"type\": \"long\" },\n{ \"name\": \"status\", \"type\": \"string\" }\n]\n}\n}\n}\n]\n}], \"default\": null },\n{ \"name\": \"stakeUpdates\", \"type\": [\"null\", {\n\"type\": \"record\",\n\"name\": \"StakeUpdates\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"completedUnbondingDelegations\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"CompletedUnbondingDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"validator\", \"type\": \"string\" },\n{ \"name\": \"delegator\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Coin\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}\n}\n]\n}\n}\n}\n]\n}], \"default\": null }\n]\n}\n</code></pre> <ul> <li> <p>OrderBooksSchema: <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Books\",\n    \"namespace\": \"com.company\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n        { \"name\": \"books\", \"type\": {\n            \"type\": \"array\",\n            \"items\":\n                {\n                    \"type\": \"record\",\n                    \"name\": \"OrderBookDelta\",\n                    \"namespace\": \"com.company\",\n                    \"fields\": [\n                        { \"name\": \"symbol\", \"type\": \"string\" },\n                        { \"name\": \"buys\", \"type\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"record\",\n                                \"name\": \"PriceLevel\",\n                                \"namespace\": \"com.company\",\n                                \"fields\": [\n                                    { \"name\": \"price\", \"type\": \"long\" },\n                                    { \"name\": \"lastQty\", \"type\": \"long\" }\n                                ]\n                            }\n                        } },\n                        { \"name\": \"sells\", \"type\": {\n                            \"type\": \"array\",\n                            \"items\": \"com.company.PriceLevel\"\n                        } }\n                    ]\n                }\n            }, \"default\": []\n        }\n    ]\n}\n</code></pre></p> </li> <li> <p>AccountBalanceSchema:</p> </li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Accounts\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"accounts\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Account\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"owner\", \"type\": \"string\" },\n{ \"name\": \"fee\", \"type\": \"string\" },\n{ \"name\": \"balances\", \"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"AssetBalance\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"asset\", \"type\": \"string\" },\n{ \"name\": \"free\", \"type\": \"long\" },\n{ \"name\": \"frozen\", \"type\": \"long\" },\n{ \"name\": \"locked\", \"type\": \"long\" }\n]\n}\n}\n}\n]\n}\n}, \"default\": []\n}\n]\n}\n</code></pre> <ul> <li>BlockFeeSchema:</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"BlockFee\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\"},\n{ \"name\": \"fee\", \"type\": \"string\"},\n{ \"name\": \"validators\", \"type\": { \"type\": \"array\", \"items\": \"string\" }}\n]\n}\n</code></pre> <ul> <li>TransfersSchema:</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Transfers\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\"},\n{ \"name\": \"num\", \"type\": \"int\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"transfers\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Transfer\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"txhash\", \"type\": \"string\" },\n{ \"name\": \"from\", \"type\": \"string\" },\n{ \"name\": \"to\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Receiver\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"addr\", \"type\": \"string\" },\n{ \"name\": \"coins\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Coin\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}\n}\n}\n]\n}\n}\n}\n]\n}\n}\n}\n]\n}\n</code></pre>"},{"location":"get-started.html","title":"Get Started with ScolCoin Chain","text":""},{"location":"get-started.html#wallet","title":"Wallet","text":"<p>The easiest way to use ScolCoin Chain is through a wallet with support for ScolCoin Chain accounts and transfers.</p> <p>For example, SCOL provides a Web Wallet at https://www.scolcoin.com SCOL also provides Web Wallet for testnet at https://testnet-explorer.scolcoin.com Both provide the functions below:</p> <ul> <li>Generating crypto keys and addresses, which serves as the base of a wallet</li> <li>Showing the balances of assets on the addresses</li> <li>Sending and receiving assets</li> </ul> <p>ScolCoin Chain Web Wallet also presents a trading UI similar to scolcoin.com, where you can examine market data and manage your orders to trade among the listed assets. Learn about the list of wallet available here.</p>"},{"location":"get-started.html#chain-explorer","title":"Chain Explorer","text":"<p>Chain Explorer provides a portal to explore blocks and transaction details. On ScolCoin Chain Explorer, you can also check different asset types, the distribution of their ownerships, and owners' transactions.</p>"},{"location":"get-started.html#rest-api","title":"REST API","text":"<p>There are Accelerated Nodes which provide advanced API services for the public.</p>"},{"location":"get-started.html#node-rpc","title":"Node RPC","text":"<p>There are data seed nodes in the network which allow users to perform low-level operations like executing ABCI queries, viewing network/consensus state or broadcasting a transaction.</p>"},{"location":"get-started.html#advanced-ways-to-use-blockchain","title":"Advanced Ways To Use Blockchain","text":""},{"location":"get-started.html#run-your-own-full-node","title":"Run your own full node","text":"<p>Please refer to this guide about how to run your own node.</p>"},{"location":"get-started.html#run-your-own-light-client","title":"Run your own light client","text":"<p>Please refer to this guide about how to run your own light client.</p>"},{"location":"get-started.html#access-via-node-command-line-interface-cli","title":"Access via Node Command Line Interface (CLI)","text":"<p>A Command Line Interface is available for Linux and Mac platforms.</p>"},{"location":"get-started.html#use-sdks","title":"Use SDKs","text":"<p>SDKs are also provided as a starting point for your apps. There are two advanced SDK solutions for ScolCoin Chain: Java and Golang. Both solutions provide functions for:</p> <ul> <li>Create wallets and manage keys</li> <li>Encode/sign transactions and submit to ScolCoin Chain/DEX, including Transfer, New Order, Cancel Order, etc.</li> <li>Communicate with ScolCoin Chain/DEX Node RPC calls through public node RPC services or your own private full nodes</li> </ul> <p>Please refer to specific SDK documentation for more information:</p> <ul> <li>Go(Documentation)</li> <li>Java(Documentation)</li> <li>Javascript (Documentation)</li> <li>C++(Documentation)</li> <li>C#(Documentation)</li> <li>Python(Documentation)</li> <li>Swift(Documentation)</li> </ul>"},{"location":"get-started.html#blockchain-details","title":"Blockchain Details","text":"<p>Please check the technical details for more technical information.</p>"},{"location":"governance.html","title":"Governance","text":""},{"location":"governance.html#primer-on-governance","title":"Primer on Governance","text":"<p>ScolCoin Chain has its own built-in governance module that lets SCOL holders submit proposals for adding trade pairs. In order for the proposal to be open for voting, it needs to come with a <code>deposit</code> that is greater than a parameter called <code>Deposit</code>. The <code>deposit</code> need not be provided in its entirety by the submitter. If the initial proposer's <code>deposit</code> is not sufficient, the proposal enters the <code>deposit_period</code> status. Then, any SCOL holder can increase the deposit by sending a <code>depositTx</code>. A purely-code-controlled escrow account will be used to hold deposits during voting period. It is a kind of account which is derived from a hard-coded string in shree chain protocol. This kind of account doesn't have its own private key and it's only controlled by code of the protocol. The code for calculating escrow account is the same that is used in cosmos-sdk: <pre><code>DepositedCoinsAccAddr = sdk.AccAddress(crypto.AddressHash([]byte(\"ScolCoin ChainDepositedCoins\")))\n</code></pre> The account for mainnet is: scol1vu5max8wqn997ayhrrys0drpll2rlz4dh39s3h and the account for testnet is: tscol1vu5max8wqn997ayhrrys0drpll2rlz4deyv53x. Once the swap is claimed or refunded, the fund will be transferred from the purely-code-controlled escrow account to client accounts.</p>"},{"location":"governance.html#proposal-workflow","title":"Proposal Workflow","text":""},{"location":"governance.html#global-parameters","title":"Global Parameters","text":"<ul> <li><code>min-deposit</code>: The threshold for submitting a proposal on mainnet is 1000SCOL, and the threshold for submitting a proposal on testnet is 2000SCOL</li> <li><code>deposit_period</code>: This is a global parameter and the value for mainnet is two days and testnet is two week. It means the time to deposit enough SCOL tokens is two days in mainnet and two weeks in testnet.</li> <li><code>fee</code>: Checkout the fee of governance-related transactions here</li> </ul>"},{"location":"governance.html#proposal-parameters","title":"Proposal Parameters","text":"<ul> <li><code>deposit</code> : your input must be larger than <code>min-deposit</code>.</li> <li><code>voting-period</code>: This is the time for validators to vote, your input in seconds, if you omit this field, the default voting period is one week.</li> <li><code>expire-time</code>: This is the time for you to send list transaction if your proposal passed. This time cannot be earlier than current time.</li> </ul>"},{"location":"governance.html#participate-in-governance","title":"Participate in Governance","text":""},{"location":"governance.html#tools","title":"Tools","text":"<p>Please use this tool for generating</p> <p>You can also use Web Wallet for token management operations.</p>"},{"location":"governance.html#submit-a-list-proposal","title":"Submit a List Proposal","text":"<p>To add a new trading pairs, you can run the following command: Please note:</p> <ul> <li><code>--init-price</code> is boosted by 1e8 for decimal part, such as 100000000, is 1 SCOL</li> <li><code>--from</code>: put your key name for the address / key, you can only list with the owners address of your token.</li> <li><code>--expire-time</code>: expire time is the deadline after which you will no longer be able to list your token though your proposal is passed.</li> <li><code>--voting-period</code>: The voting period is for validators to vote. The unit is in seconds and the default voting period is one week. The max voting period is two weeks. The votes from validators will be tallied after the voting period ends.</li> <li><code>--title</code>: title of proposal</li> <li><code>--quote-asset-symbol</code>: the quote asset symbol. When you first list a BEP2 token on SCOL DEX, it has to be put in SCOL market first. Thus, you should set <code>quote-asset-symbol</code> to SCOL in your first proposal, then your BEP2 asset can be list against BUSD-BD1 and other stablecoins.</li> <li><code>--base-asset-symbol</code>: the asset symbol you want to list</li> </ul> <p>Please note that the deposit and init-price are boosted by 1e8 for decimal part.</p> <p>Example on mainnet:</p> <pre><code>./eth-cli gov submit-list-proposal --from test --deposit 100000000000:SCOL\n--base-asset-symbol AAA-254 --quote-asset-symbol SCOL --init-price 100000000 --title \"list AAA-254/SCOL\"\n--description \"list AAA-254/SCOL\" --expire-time 1570665600 --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --voting-period 604800 --json\n</code></pre> <p>Example on testnet:</p> <pre><code>./eth-cli gov submit-list-proposal --from test --deposit 200000000000:SCOL\n--base-asset-symbol AAA-254 --quote-asset-symbol SCOL --init-price 100000000 --title \"list AAA-254/SCOL\"\n--description \"list AAA-254/SCOL\" --expire-time 1570665600 --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --json --voting-period 604800\n</code></pre> <p>Tip<p>As discussed in BEP-70, BUSD is one of the most influential stable coins worldwide and the most dominant stable coin on ScolCoin Chain. BEP2 token issuers can list their assets against BUSD-BD1 without the requirement of creating SCOL pair first. Listing and trading BUSD pairs on ScolCoin Chain will facilitate token owners and exchange traders, making the markets more liquid and healthier.  BEP70 is already implemented and has been activated after Testnet Nightingale Upgrade. ScolCoin Chain Mainnet will be upgraded to support BEP-70 soon.</p> </p>"},{"location":"governance.html#submit-a-delist-proposal","title":"Submit a Delist Proposal","text":"<p>In testnet, only validators can make a delist proposal. To add a new delist pairs, a validator can run the following command:</p> <p>Please note:</p> <ul> <li><code>--quote-asset-symbol</code>: the quote asset symbol</li> <li><code>--base-asset-symbol</code>: the asset symbol you want to delist</li> <li><code>--from</code>: put your key name for the address key, you can only list with the owners address of your token.</li> <li><code>--voting-period</code>: The voting period is for validators to vote. The unit is in seconds and the default voting period is one week. The max voting period is two weeks. The votes from validators will be tallied after the voting period ends.</li> <li><code>--justification</code>: reason for proposal</li> <li><code>--depodit</code>: this field will indicate how much tokens will be used as deposit for this proposal. Governance module will transfer deposit tokens to a purely-code-controlled escrow account and before the lock time expires. The account for mainnet is:scol1vu5max8wqn997ayhrrys0drpll2rlz4dh39s3h  and the account for testnet is: tscol1vu5max8wqn997ayhrrys0drpll2rlz4deyv53x</li> </ul> <p>Example on mainnet:</p> <pre><code>eth-cli gov submit-delist-proposal --title \"delist EDD-0AC\" --voting-period 7200 --deposit \"200000000000:SCOL\" --justification \" justification \" --base-asset-symbol EDD-0AC --quote-asset-symbol SCOL --from &lt;your-key-name&gt; --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <p>Example on testnet:</p> <pre><code>eth-cli gov submit-delist-proposal --title \"delist EDD-0AC\" --voting-period 7200 --deposit \"200000000000:SCOL\" --justification \" justification \" --base-asset-symbol EDD-0AC --quote-asset-symbol SCOL --from &lt;your-key-name&gt; --chain-id SCOL-Chain-Ganges --trust-node --node https://seed-pre-s3.scolcoin.com:443\n</code></pre>"},{"location":"governance.html#add-deposit-for-a-proposal-optional","title":"Add deposit for a Proposal (Optional)","text":"<p>If the initial deposit for your proposal in <code>submit-list-proposal</code> is not enough, you can increase the deposit with <code>deposit</code> operation. In current ScolCoin Chain Mainnet, the max deposit period is two days. After submitting a proposal, you have two days to increase your deposit, otherwise your proposal will not go into the voting period and gets rejected directly.</p> <p>Please note the amount is boosted by 1e8 for decimal part.</p> <p>Example on mainnet:</p> <pre><code>eth-cli gov deposit --from name --proposal-id &lt;proposl-ID&gt; --deposit &lt;amount&gt;:SCOL --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443\n</code></pre> <p>Example on testnet:</p> <pre><code>eth-cli gov deposit --from name --proposal-id &lt;proposl-ID&gt; --deposit &lt;amount&gt;:SCOL --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80\n</code></pre>"},{"location":"governance.html#query-information-of-a-proposal","title":"Query Information of a Proposal","text":"<p>To see detailed information of specific proposal, you can run the following command:</p> <p>Example on mainnet:</p> <pre><code>./eth-cli gov query-proposal --proposal-id &lt;proposal-ID&gt; --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443\n</code></pre> <p>Example on testnet:</p> <pre><code>./eth-cli gov query-proposal --proposal-id &lt;proposal-ID&gt; --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80\n</code></pre> <p>Example output: <pre><code>{\n\"type\": \"gov/TextProposal\",\n\"value\": {\n\"proposal_id\": \"100\",\n\"title\": \"list CZZ-696/SCOL\",\n\"description\": \"{\\\"base_asset_symbol\\\":\\\"CZZ-696\\\",\\\"quote_asset_symbol\\\":\\\"SCOL\\\",\\\"init_price\\\":100000000,\\\"description\\\":\\\"list CZZ-696/SCOL\\\",\\\"expire_time\\\":\\\"2019-03-21T09:00:00+09:00\\\"}\",\n\"proposal_type\": \"ListTradingPair\",\n\"proposal_status\": \"Passed\",\n\"tally_result\": {\n\"yes\": \"1100000000000\",\n\"abstain\": \"0\",\n\"no\": \"0\",\n\"no_with_veto\": \"0\"\n},\n\"submit_time\": \"2019-03-07T20:49:03.504103408Z\",\n\"total_deposit\": [\n{\n\"denom\": \"SCOL\",\n\"amount\": \"200000000000\"\n}\n],\n\"voting_start_time\": \"2019-03-07T21:01:36.159585594Z\"\n}\n}\n</code></pre> You can get the information about the proposal's status and its tally result this way.</p>"},{"location":"governance.html#query-votes-of-a-proposal","title":"Query votes of a Proposal","text":"<p>You can track the votes for your proposal with the following command:</p> <p>Example on mainnet:</p> <pre><code>./eth-cli gov query-votes --proposal-id 272 --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443\n</code></pre> <p>Example on testnet:</p> <pre><code>./eth-cli gov query-votes --proposal-id 272 --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80\n</code></pre> <p>Example output: <pre><code>[\n{\n\"voter\": \"tscol1q82g2h9q0kfe7sysnj5w7nlak92csfjztymp39\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol1r6l0c0fxu458hlq6m7amkcltj8nufyl9mr2wm5\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol193t8pkhm2sxw5uy5ypesygda8rzsk25ge3e9y7\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol183nch8pn3f698vurrqypq3s254slcane2t66aj\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol12hlquylu78cjylk5zshxpdj6hf3t0tahwjt3ex\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol1vehecekrsks5sshcwvxyeyrd469j9wvcqm37yu\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol108drn8exhv72tp40e6lq9z949nnjj54yzqrr2f\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol135mqtf9gef879nmjlpwz6u2fzqcw4qlzrqwgvw\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol1hexqyu3m8uuudqdnnpnsnlwe6xg0n3078lx68l\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol1earfwcjre04hp7phqnkw8ts04tkumdn0cyzun0\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n},\n{\n\"voter\": \"tscol167yp9jkv6uaqnyq62gfkx82xmfny0cl9xe04zj\",\n\"proposal_id\": \"272\",\n\"option\": \"Yes\"\n}\n]\n</code></pre></p>"},{"location":"governance.html#key-notions","title":"Key Notions","text":""},{"location":"governance.html#vote-options","title":"Vote options","text":"<p>There are four vote options: - <code>Yes</code> - <code>No</code> - <code>NoWithVeto</code> - <code>Abstain</code></p> <p><code>No</code> represents the validator is against this proposal and <code>NoWithVeto</code> suggests the validator is strongly against this proposal. <code>Abstain</code> option allows voters to signal that they do not intend to vote in favor or against the proposal but accept the result of the vote.</p>"},{"location":"governance.html#quorum","title":"Quorum","text":"<p>Quorum is defined as the minimum percentage of voting power that needs to be casted on a proposal for the result to be valid, which is 0.5(50%) now.</p> <p>If voting power does not reach quorum at the end of the voting period, the proposal will be rejected and all deposits will be returned to depositors' addresses.</p> <p>Note: There is a special case when all votes are <code>Abstain</code> and voting power is superior to 50%, the proposal will be rejected and all deposits will be refunded.</p>"},{"location":"governance.html#veto","title":"Veto","text":"<p>Veto is defined as the minimum proportion of <code>NoWithVeto</code> votes for the proposal to be rejected, which is 0.334(1/3) now. If more than 1/3 voters veto, the proposal will be rejected and all deposits will be distributed to validator.</p>"},{"location":"governance.html#threshold","title":"Threshold","text":"<p>Threshold is defined as the minimum proportion of <code>Yes</code> votes (excluding <code>Abstain</code> votes) for the proposal to be accepted, which is 0.5(50%) now.</p> <p>If the proportion of <code>NoWithVeto</code> votes is inferior to 1/3 and the proportion of <code>Yes</code> votes (excluding <code>Abstain</code> votes) is superior to 50%, the proposal will be accepted and all deposits will be returned. Otherwise, the proposal will be rejected and all deposits will be distributed to validator.</p>"},{"location":"governance.html#tally-result-example","title":"Tally Result Example","text":"<p>You can query a proposal via <code>eth-cli</code>.</p> <pre><code>$ ./eth-cli gov query-proposal --chain-id SCOL-Chain-Ganges --node=tcp://data-seed-pre-1-s3.scolcoin.com:80 --proposal-id 370\n{\n\"type\": \"gov/TextProposal\",\n  \"value\": {\n\"proposal_id\": \"370\",\n    \"title\": \"list JCC-CB1/SCOL\",\n    \"description\": \"{\\\"base_asset_symbol\\\":\\\"JCC-CB1\\\",\\\"quote_asset_symbol\\\":\\\"SCOL\\\",\\\"init_price\\\":100000000,\\\"description\\\":\\\"list JCC-CB1/SCOL\\\",\\\"expire_time\\\":\\\"2019-04-24T14:46:35+08:00\\\"}\",\n    \"proposal_type\": \"ListTradingPair\",\n    \"voting_period\": \"604800000000000\",\n    \"proposal_status\": \"Passed\",\n    \"tally_result\": {\n\"yes\": \"1100000000000\",\n      \"abstain\": \"0\",\n      \"no\": \"0\",\n      \"no_with_veto\": \"0\",\n      \"total\": \"1100000000000\"\n},\n    \"submit_time\": \"2019-04-10T06:49:11.568747217Z\",\n    \"total_deposit\": [\n{\n\"denom\": \"SCOL\",\n        \"amount\": \"200000000000\"\n}\n],\n    \"voting_start_time\": \"2019-04-10T06:52:00.064744275Z\"\n}\n}\n</code></pre> <p>You can get <code>tally result</code> and <code>proposal_status</code>.</p> <p>For options in <code>tally result</code>:</p> <ul> <li><code>yes</code> denotes voting power votes <code>Yes</code></li> <li><code>abstain</code> denotes voting power votes <code>Abstain</code></li> <li><code>no</code> denotes voting power votes <code>No</code></li> <li><code>no_with_veto</code> denotes voting power votes <code>NoWithVeto</code></li> <li><code>total</code> denotes total voting power when voting period ends</li> </ul> <p>We can calculate proportion of each vote option easily. In this case, total voting power is 1100000000000 and voting power of <code>Yes</code> is 1100000000000, so the proportion of <code>Yes</code> is 100% and the proposal should be passed and and your deposit will be returned.</p> <p>Note: Trying to query proposal that didn't enter the voting period will result in <code>error</code>.</p> <pre><code>$ ./eth-cli gov query-proposal --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --proposal-id 25\n{\n\"codespace\": 5,\n  \"code\": 1,\n  \"abci_code\": 327681,\n  \"message\": \"Unknown proposal with id 25\"\n}\n</code></pre>"},{"location":"keys.html","title":"Keys","text":""},{"location":"keys.html#introduction","title":"Introduction","text":"<p>ScolCoin Chain CLI has a sub-command named <code>keys</code> to manage private keys. It is a key store to manage keys for users.</p> <p>You can add a new key or import a key from seed. Then you can list the keys added and show the detailed info of a specific key. You can also delete the given key or update the password used to protect private key.</p> <p>ScolCoin Chain CLI use the keys you add to sign transactions for you. For example, if you want to transfer tokens to someone else, you just need to specify the name of the key you want to use, and input the password of the key, then ScolCoin Chain CLI will sign the transaction for you if the password is right.</p>"},{"location":"keys.html#usage","title":"Usage","text":"<p>The usage is the same for <code>eth-cli</code> and <code>eth-cli</code></p> <pre><code>$ ./eth-cli keys\nKeys allows you to manage your local keystore for tendermint.\n\n  These keys may be in any format supported by go-crypto and can be\n  used by light-clients, full nodes, or any other application that\n  needs to sign with a private key.\n\nUsage:\n  eth-cli keys [command]\n\nAvailable Commands:\n  mnemonic    Compute the bip39 mnemonic for some input entropy\n  add         Create a new key, or import from seed\n  list        List all keys\n  show        Show key info for the given name\n\n  delete      Delete the given key\n  update      Change the password used to protect private key\n\nFlags:\n  -h, --help   help for keys\n\nGlobal Flags:\n  -e, --encoding string   Binary encoding (hex|b64|btc) (default \"hex\")\n--home string       directory for config and data (default \"/Users/yourname/.eth-cli\")\n-o, --output string     Output format (text|json) (default \"text\")\n--trace             print out full stack trace on errors\n\nUse \"eth-cli keys [command] --help\" for more information about a command.\n</code></pre>"},{"location":"keys.html#mnemonic","title":"mnemonic","text":"<p><code>mnemonic</code> is used to generate bip39 mnemonic. You can restore key from the mnemonic generated.</p> <pre><code>$ ./eth-cli keys mnemonic\nuncle mule squirrel cover theory oven rookie dry intact alert right afraid differ ability mule struggle spray usual must purity social ball flat short\n</code></pre>"},{"location":"keys.html#add","title":"add","text":"<p>You can use <code>add</code> to create a new key or import from seed (mnemonic). You have to specify the name for the key you want to create.</p> <p>To import with a mnemonic phrase, you need to include the <code>--recover</code> flag in the command.</p>"},{"location":"keys.html#create-a-new-key","title":"create a new key","text":"<pre><code>$ ./eth-cli keys add testkey\nEnter a passphrase for your key:\nRepeat the passphrase:\nNAME:   TYPE:   ADDRESS: PUBKEY:\ntestkey local   bnc1e8zhj9wmgq4pwzrv264gfru2fk8x2hdvpclx3n  bncp1addwnpepqffepxlkrka9n33vyzmjwkpy05gpm46cn5de3x9v0vqswk7st5lkc7alhjv\n**Important** write this seed phrase in a safe place.\nIt is the only way to recover your account if you ever forget your password.\n\npoverty joke nominee enough harsh elder flush noodle gift one limit tree sponsor sun radio above acid air winter inflict profit there brand water\n</code></pre>"},{"location":"keys.html#import-from-seed","title":"import from seed","text":"<pre><code>$ ./eth-cli keys add testkey --recover\nEnter a passphrase for your key:\nRepeat the passphrase:\n&gt; Enter your recovery seed phrase:\npoverty joke nominee enough harsh elder flush noodle gift one limit tree sponsor sun radio above acid air winter inflict profit there brand water\nNAME:   TYPE:   ADDRESS:    PUBKEY:\ntestkey local   bnc1e8zhj9wmgq4pwzrv264gfru2fk8x2hdvpclx3n  bncp1addwnpepqffepxlkrka9n33vyzmjwkpy05gpm46cn5de3x9v0vqswk7st5lkc7alhjv\n</code></pre>"},{"location":"keys.html#list","title":"list","text":"<p><code>list</code> can list all the keys you have.</p> <pre><code>$ ./eth-cli keys list\nNAME:   TYPE:   ADDRESS:    PUBKEY:\ntest    local   bnc16jv838jw8zcgucvrhreen73adwgnue6ujcz2cf  bncp1addwnpepqgxacvpgnvss94zs363lheuh2xldj0hvymftuds8d69u5cau5kz3y23rj6l\ntestkey local   bnc1e8zhj9wmgq4pwzrv264gfru2fk8x2hdvpclx3n  bncp1addwnpepqffepxlkrka9n33vyzmjwkpy05gpm46cn5de3x9v0vqswk7st5lkc7alhjv\n</code></pre>"},{"location":"keys.html#show","title":"show","text":"<p><code>show</code> is used to show the detail of the key by the name.</p> <pre><code>$ ./eth-cli keys show testkey\nNAME:   TYPE:   ADDRESS:    PUBKEY:\ntestkey local   bnc1e8zhj9wmgq4pwzrv264gfru2fk8x2hdvpclx3n  bncp1addwnpepqffepxlkrka9n33vyzmjwkpy05gpm46cn5de3x9v0vqswk7st5lkc7alhjv\n</code></pre>"},{"location":"keys.html#delete","title":"delete","text":"<p><code>delete</code> is used to delete the key.</p> <pre><code>$ ./eth-cli keys delete testkey\nDANGER - enter password to permanently delete key:\nPassword deleted forever (uh oh!)\n</code></pre>"},{"location":"keys.html#update","title":"update","text":"<p><code>update</code> is used to update the password that is currently used to protect the private key.</p> <pre><code>$ ./eth-cli keys update test\nEnter the current passphrase:\nEnter the new passphrase:\nRepeat the new passphrase:\nPassword successfully updated!\n</code></pre>"},{"location":"light-client.html","title":"Run a light client to join ScolCoin Chain","text":"<p>Light client is a program that connects to a full node to help users access and interact with ScolCoin Chain in a secure and decentralized manner without having to sync the full blockchain.</p>"},{"location":"light-client.html#light-client-versus-full-node","title":"Light Client Versus Full Node","text":"<ul> <li>Light client does not store blocks or states,this way it needs less disk space (50 megabytes will be enough).</li> <li>Light client does not join p2p network and it does not produce any network cost when it is idle. The network overhead depends on how many requests the light client handles concurrently.</li> <li>Light client does not replay state of the chain so that there is not CPU cost when idle. The CPU cost also depends on how many requests the light client handles concurrently.</li> <li>Light client is faster than a full node even if it lagged behind the core network for a few months. It only needs a few seconds to catch up with core network.</li> </ul>"},{"location":"light-client.html#platforms-and-system-requirement","title":"Platforms and System Requirement","text":""},{"location":"light-client.html#platforms","title":"Platforms","text":"<p>We support running light client node on <code>Mac OS X</code>, <code>Windows</code> and <code>Linux</code>. The light client will soon be open sourced, afterwards you can cross compile light client binary and run it on other platforms.</p>"},{"location":"light-client.html#requirements","title":"Requirements","text":"<ul> <li>50 megabytes of free disk space.</li> <li>2 CPU cores, 50 megabytes of memory (RAM).</li> </ul>"},{"location":"light-client.html#run-a-light-client-node","title":"Run a light client node","text":"<p>Download: <pre><code>git clonehttps://github.com/githubusername/githubrepo/node-binary.git\n</code></pre></p> <p>Go to directory according to the network you want to join in. Replace the <code>network</code> variable with <code>testnet</code> or <code>prod</code> in the following command:</p> <pre><code>cd node-binary/lightd/{network}/{version}\n</code></pre> <p>Help info:</p> <pre><code>./lightd --help\nThis node will run a secure proxy to a shree rpc server.\n\nAll calls that can be tracked back to a block header by a proof\nwill be verified before passing them back to the caller. Other that\nthat it will present the same interface as a full shree node,\njust with added trust and running locally.\n\nUsage:\n  lite [flags]\n\nFlags:\n      --cache-size int             Specify the memory trust store cache size (default 10)\n      --chain-id string            Specify the shree chain ID (default \"scolchain\")\n  -h, --help                       help for lite\n      --home-dir string            Specify the home directory (default \".shree-lite\")\n      --laddr string               Serve the proxy on the given address (default \"tcp://localhost:27147\")\n      --max-open-connections int   Maximum number of simultaneous connections (including WebSocket). (default 900)\n      --node string                Connect to a shree node at this address (default \"tcp://localhost:27147\")\n</code></pre> <p>You can specify all the parameters above.</p> <p>Start the light client node according to the Platform. Replace the <code>platform</code> variable with <code>mac</code>, <code>windows</code> or <code>linux</code> in the following command:</p> <pre><code>./{{platform}}/lightd --chain-id \"{chain-id}\" --node tcp://{full node addr}:80 &gt; node.log  &amp;\n</code></pre> <p>There are two required parameters to start a light client node: <code>chain id</code> and <code>full node addr</code>. The <code>chain id</code> of the network that you want join in. You can find chain id at genesis file in test network or genesis file in prod network. The <code>full node addr</code> field can be an address of any full node that you have deployed. You can refer to Run a ScolCoin Chain full node to get more details.</p> <p>We supply a bunch of full nodes that you can connect to for both mainnet and testnet. You cat get full nodes info through a simple python script(notice to replace domain according to different network):</p> <pre><code>import requests, json\nd = requests.get('https://dex.scolcoin.com/api/v1/peers').text # replace dex.scolcoin.com with testnet-dex.scolcoin.com for testnet\nl = json.loads(d)\nseeds = \",\".join([ (seed[\"id\"]+\"@\"+seed[\"original_listen_addr\"]) for seed in l if seed[\"accelerated\"] == False])\nprint (seeds)\n</code></pre>"},{"location":"light-client.html#example-for-mainnet","title":"Example for Mainnet:","text":"<pre><code>./lightd --chain-id \"SCOL-Chain-Tigris\" --node tcp://dataseed1.scolcoin.com:80 &gt; node.log  &amp;\n</code></pre>"},{"location":"light-client.html#example-for-testnet","title":"Example for Testnet:","text":"<pre><code>./lightd --chain-id \"SCOL-Chain-Ganges\" --node tcp://data-seed-pre-0-s1.scolcoin.com:80 &gt; node.log  &amp;\n</code></pre>"},{"location":"light-client.html#working-with-the-light-client","title":"Working with the light client","text":"<p>The default port of light client is <code>27147</code>.</p>"},{"location":"list.html","title":"List Transaction","text":"<p>Only BEP2 tokens issued on ScolCoin Chain can be listed. Learn how to issue BEP2 tokens here. If a token's listing proposal has been passed by valdiators, then a <code>list</code> transaction must be sent before <code>expire-time</code>.</p>"},{"location":"list.html#list-fee","title":"List Fee","text":"<p>Fees will be charge when issuing a token, creating a proposal, depositing and listing. You can refer to fee table in trading spec.</p>"},{"location":"list.html#list-transaction_1","title":"List Transaction","text":""},{"location":"list.html#proposal-parameters","title":"Proposal Parameters","text":"<ul> <li><code>quote-asset-symbol</code>: For now, only support SCOL as quote asset.</li> <li><code>init-price</code>: the initial price for your asset, it is boosted by 1e8</li> <li><code>proposal-id</code>: this corresponds to the listing proposal that is passed</li> <li><code>from</code>: this address should be the issuer of base asset</li> </ul> <p>Example on mainnet: <pre><code>$  ./eth-cli dex list -s AAA-254 --quote-asset-symbol SCOL --from test \\\n--init-price 100000000 --proposal-id 15 --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --json\n{\n\"Height\":\"282409\",\n   \"TxHash\":\"77AE3D190F430FE6E4B1A9659BEBB3F022CF7631\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"YWN0aW9u\",\n            \"value\":\"ZGV4TGlzdA==\"\n}\n]\n}\n}\n</code></pre></p> <p>Example on testnet:</p> <pre><code>$  ./eth-cli dex list -s AAA-254 --quote-asset-symbol SCOL --from test \\\n--init-price 100000000 --proposal-id 15 --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --json\n{\n\"Height\":\"282409\",\n   \"TxHash\":\"77AE3D190F430FE6E4B1A9659BEBB3F022CF7631\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"YWN0aW9u\",\n            \"value\":\"ZGV4TGlzdA==\"\n}\n]\n}\n}\n</code></pre> <p>After the transaction is executed, you could see the newly added trading pair from Explorer and maket API.</p>"},{"location":"list_instruction.html","title":"List Instructions","text":"<p>Listing a trading pair is a rather advanced feature in DEX. To list your token, you can follow the step-by-step instruction here.</p> <p>There are the steps to get your tokens listed:</p> <p></p>"},{"location":"list_instruction.html#1-issue-tokens-on-scolcoin-chain","title":"1. Issue Tokens on ScolCoin Chain","text":"<p>Please refer to this token issue doc to learn about how to issue your own asset on ScolCoin Chain.</p>"},{"location":"list_instruction.html#2-submit-proposal","title":"2. Submit Proposal","text":"<p>On-Chain Proposal Request</p> <p>Please refer to this governance doc to learn about how to create a proposal about listing a new trading pair on ScolCoin Chain.</p> <p>Please ensure that you test EVERYTHING on our testnet (multiple times at least) before you officially execute this on the mainnet.</p> <p>Community Thread Proposal (Recommended)</p> <p>It is recommended that Token Issuers first create a thread under the \u201cToken Issuance &amp; Listings\u201d category in the ScolCoin Chain Community Forum (https://community.scolcoin.com/). The whole guideline is here</p>"},{"location":"list_instruction.html#3-send-list-transaction","title":"3. Send List Transaction","text":"<p>Please refer to this list doc to learn about how to send a list transaction and finish listing process on ScolCoin Chain.</p> <p>Please ensure that  a <code>list</code> transaction must be sent before <code>expire-time</code>.</p>"},{"location":"list_instruction.html#faq-about-listing-tokens","title":"FAQ about Listing  Tokens","text":""},{"location":"list_instruction.html#which-trading-pair-can-be-listed","title":"Which trading pair can be listed?","text":"<p>Simply allowing trading between two assets seems easy enough, however it is expensive for not only the network  but also its users in long term (and liquidity costs can be much larger). In order to efficiently use the network, ScolCoin Chain only list assets against SCOL and other widely accepted market quote assets.</p>"},{"location":"list_instruction.html#how-is-a-trading-pair-created-on-scol-dex","title":"How is a trading pair created on SCOL DEX?","text":"<p>The design philosophy of SCOL DEX adheres to the idea that the most efficient and low cost way to perform trading and price-discovery is still to use single order book. This single order book is managed and replicated across all full nodes with the same, deterministic matching logic.</p>"},{"location":"match-examples.html","title":"Match Steps and Examples","text":""},{"location":"match-examples.html#match-steps","title":"Match Steps","text":"<ul> <li> <p>Step 0: no match for one side market, or market without crossed order book</p> </li> <li> <p>Step 1: Maximum matched volume. The Equilibrium Price (EP) should be the price at which the maximum volume can be traded. In the case of more than one price level with the same executable volume, the algorithm should go to step 2</p> </li> <li> <p>Step 2: Minimum surplus. In the case of more than one price level with the same maximum executable volume, the EP should be the price with the lowest surplus (imbalance) volume. The surplus is absolute leftover volume at the EP. If multiple surplus amounts have the same lowest value, precede to step 3.</p> </li> <li> <p>Step 3: Market Pressure. If multiple prices satisfy 1 and 2, establish where market pressure of the potential price exists. Surplus with a positive sign indicates buy side pressure while surplus with a negative sign indicates sell side pressure.</p> <ul> <li>For scenarios that all the the equivalent surplus amounts are positive, if all the prices are below the reference price plus an upper limit percentage (e.g. 5%), then algorithm uses the highest of the potential equilibrium prices. If all the prices are above the reference price plus an upper limit, use the lowest price; for other cases, use the reference price plus the upper limit.</li> <li>Conversely, if market pressure is on the sell side, if all prices are above the reference price minus a lower percentage limit, then the algorithm uses the lowest of the potential prices. If all the price are below the reference price minus the lower percentage limit, use the highest price, otherwise use the reference price minus the lower percentage limit.</li> </ul> <p>If both positive and negative surplus amounts exist, precede to Step 4.</p> </li> <li> <p>Step 4: When both positive and negative surplus amounts exists at the lowest, if the reference price falls at / into these prices, the reference price should be chose, otherwise the price closest to the reference price would be chosen.</p> </li> </ul>"},{"location":"match-examples.html#examples","title":"Examples","text":"<p>The chosen price level row would have <code>*</code> on the deciding colume. <pre><code>1. Choose the largest execution (Step 1)\n-------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n300            100      150    150    150          -150\n300            99              150    150          -150\n300    250     98       150    300    300*         0\n50     50      97              300    50           250\n\n2. Choose the largest execution (Step 1)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n300            100      150    150    150          -150\n300            99       50     200    200          -100\n300            98              200    200          -100\n300    200     97       300    500    300*         200\n100    100     96              500    100          400\n\n\n3. the least abs surplus imbalance (Step 2)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n1500           102      300    300    300          -1200\n1500           101             300    300          -1200\n1500           100      100    400    400          -1100\n1500           99       200    600    600          -900\n1500   250     98       300    900    900          -600\n1250   250     97              900    900          -350\n1000   1000    96              900    900          -100*\n\n4. the least abs surplus imbalance (Step 2)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n110            102      30     30     30           -80\n110            101      10     40     40           -70\n110            100             40     40           -70\n110            99       50     90     90           -20\n110    10      98              90     90           -20\n100    50      97              90     90           -10*\n50             96       15     105    50           55\n50     50      95              105    50           55\n\n5.1 choose the lowest for all the same value of sell surplus imbalance, reference price is 80\nand 5% lower limit (Step 3)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             102      10     10     10           -40\n50             101             10     10           -40\n50             100             10     10           -40\n50             99              10     10           -40\n50             98              10     10           -40\n50             97       10     20     20           -30\n50             96              20     20           -30\n50     50      95              20     20           -30*\n\n5.2 choose the highest for all the same value of sell surplus imbalance, reference price is 100\nand 5% lower limit (Step 3)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             99       10     10     10           -40\n50             98              10     10           -40\n50             97              10     10           -40\n50             96              10     10           -40\n50             95              10     10           -40\n50             94       10     20     20           -30*\n50             93              20     20           -30\n50     50      92              20     20           -30\n\n5.3 choose the reference price for all the same value of buy surplus imbalance, reference price is 90\nand 5% upper limit (Step 3)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             99       100    100    50           50\n50             98              100    50           50\n50             97              100    50           50\n50             96              100    50           50\n50             95              100    50           50*\n50             94              100    50           50\n50             93              100    50           50\n50     50      92              100    50           50\n\n5.4 choose the reference price for all the same value of sell surplus imbalance, reference price is 100\nand 5% lower limit (Step 3)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             101      10     10     10           -40\n50             100             10     10           -40\n50             99              10     10           -40\n50             98              10     10           -40\n50             97              10     10           -40\n50             96       10     20     20           -30\n50             95              20     20           -30*\n50     50      94              20     20           -30\n\n6.1 choose the closest to the last trade price 99 (Step 4)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             100      25     25     25           -25\n50             99              25     25           -25*\n50     25      98              25     25           -25\n25             97       25     50     25           25\n25             96              50     25           25\n25     25      95              50     25           25\n\n6.2 choose the closest to the last trade price 97 (Step 4)\n--------------------------------------------------------------\nSUM    SELL    PRICE    BUY    SUM    EXECUTION    IMBALANCE\n50             100      25     25     25           -25\n50             99              25     25           -25\n50     25      98              25     25           -25\n25             97       25     50     25           25*\n25             96              50     25           25\n25     25      95              50     25           25\n</code></pre></p>"},{"location":"match.html","title":"What exactly is SCOL DEX matching logic?","text":"<p>SCOL DEX uses periodic auction to match all available orders. Maker/Taker concepts are introduced to enhance the current periodic auction match algorithm. The match is still executed only once in each block while the execution prices may vary for maker and taker orders.</p>"},{"location":"match.html#match-candidates","title":"Match Candidates","text":"<p>Orders meet any of the below conditions would be considered as the candidates of next match round:</p> <ul> <li>New orders that come in just now and get confirmed by being accepted into the latest block</li> <li>Existing orders that come in the past blocks before the latest, and have not been filled or expired</li> </ul>"},{"location":"match.html#match-time","title":"Match Time","text":"<p>Candidates would be matched right after one block is committed. Each block has one round of match.</p>"},{"location":"match.html#match-logic","title":"Match Logic","text":"<p>The below matching logic would be applied on every listed token pairs.</p> <ul> <li> <p>The match only happens when the best bid and ask prices are 'crossed', i.e. best bid &gt; best ask.</p> </li> <li> <p>There would be only 1 price selected in one match round as the best prices among all the fillable orders, to show the fairness.</p> </li> <li> <p>All the orders would be matched first by the price aggressiveness and then block height that they get accepted.</p> </li> </ul>"},{"location":"match.html#conclude-execution-price","title":"Conclude Execution Price","text":"<p>The execution price would be selected as the below logic, in order to:</p> <ul> <li>Maximize the execution quantity</li> <li>Execute all orders or at least all orders on one side that are fillable against the selected price.</li> <li>Indicate the market pressure from either buy or sell and also consider to limit the max price movement. Let\u2019s call this concluded price P.</li> </ul> <p>Please check this article with detailed examples for this if you are interested.</p>"},{"location":"match.html#order-matches","title":"Order Matches","text":"<p>After the execution price is concluded. Order match would happen in sequence of the price and time, i.e.</p> <ul> <li>Orders with best bid price would match with order with best ask price;</li> <li>If the orders on one price cannot be fully filled by the opposite orders: for the orders with the same price, the orders from the earlier blocks would be selected and filled first</li> <li>If the orders have the same price and block height, and cannot be fully filled, the execution would be allocated to each order in proportion to their quantity (floored if the number has a partial lot). If the allocation cannot be accurately divided, a deterministic algorithm would guarantee that no consistent bias to any orders.</li> </ul> <p>After the execution price <code>P</code> is concluded, buy orders with price equal to or larger than <code>P</code>, and sell orders with price equal to or less than <code>P</code> will match. For the orders that come into match in the new block, the trades will be allocated according to the below principles:</p> <ul> <li>All new incoming buy orders into this current block (called \"new orders\" in this context) will get executed with the same price, so do all the sell orders; so that there is no chance for front-running on the same side.</li> <li>All the executed price will honor the order limit price;</li> <li>All the executed price for the new orders will be equal to or better than the concluded auction price <code>P</code>, so no front-running from the opposite side.</li> </ul> <p>For other orders that have arrived in the previous blocks, they will join match together with the new orders from the new block, and be considered as \"Maker\" role. The detailed explanation of <code>Maker/Taker</code> is as below:</p>"},{"location":"match.html#definition-of-maker-and-taker","title":"Definition of Maker and Taker","text":"<p>Among all the orders to be allocated, between buy and sell sides, this specification defines four concepts.</p> Name Definition Maker Order order from the previous blocks Taker Order new incoming order in the current block Maker Side buy or sell side which has maker orders. May also have taker orders. Taker Side buy or sell side which only has taker orders. <p>In each round of match, for all the orders that can be filled with the concluded price <code>P</code>, the algorithm ensures only one of the below two circumstances can happen,</p> <ol> <li> <p>Both buy and sell side are <code>Taker Side</code>, when there is no leftover orders from all the previous blocks;</p> </li> <li> <p>One side is <code>Maker Side</code> that has orders from previous blocks (and may/may not have orders from this current block),  and the other is <code>Taker Side</code> that only has orders from this current block.</p> </li> </ol>"},{"location":"match.html#execution-pricing","title":"Execution Pricing","text":"<p>Among all the orders to be allocated,</p> <ol> <li> <p>For maker side:</p> <ul> <li>all the maker orders are executed at their limit price</li> <li>all the taker orders on the maker side are executed at the concluded price <code>P</code></li> </ul> </li> <li> <p>For taker side, all the orders are executed at the average execution price from the above #1</p> </li> </ol> <p>If no maker side in this match, all the orders are executed at price <code>P</code>.</p>"},{"location":"memo-validation.html","title":"Customized Scripts and Transfer Memo Validation","text":""},{"location":"memo-validation.html#memo-validation","title":"Memo Validation","text":"<p>As explained in BEP12, In some circumstances, users may want to specify additional functions or/and validations on some transactions. With BEP12, exchanges can reject deposits that have no valid digits-only memo.</p>"},{"location":"memo-validation.html#enable-account-scripts-for-cross-chain-transfer","title":"Enable account scripts for cross-chain transfer","text":"<p>BEP12 was introduced to check whether the memo field of any transfer transaction is empty. Since version 0.8.2, the memo of cross-chain transfer is also checked. From now on, the deposit transaction without memo to exchanges be returned automatically.</p>"},{"location":"memo-validation.html#what-is-a-customized-script","title":"What is a customized script?","text":"<p>This script is aimed to ensure the transfer transactions have valid memo (if the receivers require this). First, this script will check the following conditions:</p> <p>The transaction type is sent. The target address is the receiving address. Then this script will ensure that the transaction memo is not empty and the memo only contains digital letters.</p> <p>This is the pseudocode: <pre><code>func memoValiation(addr, tx) error {\n    if tx.Type != \u201csend\u201d {\n        return nil\n    }\n    if ! isReceiver(tx, addr) {\n        return nil\n    }\n    if  tx.memo.length == 0 {\n        return err(\u201ctx memo is empty\u201d)\n    }\n    if  tx.memo.length &gt; 100 {\n        return err(\u201ctx memo is too long\u201d)\n    }\n    if !isAllDigital(tx.memo) {\n        return err(\u201ctx memo contains non digital character\u201d)\n    }\n    return nil\n}\n</code></pre></p>"},{"location":"memo-validation.html#fee","title":"Fee","text":"<p>1 SCOL will be charged on enabling  memo validation of transactions.</p>"},{"location":"memo-validation.html#command-line","title":"Command Line","text":""},{"location":"memo-validation.html#global-parameters","title":"Global Parameters","text":"Field Type Description from string Name of your key. chain-id string Name of blockchain node string url of the node"},{"location":"memo-validation.html#set-account-flags","title":"Set-account-flags","text":"<p>This transaction is aimed to set account flags to any hex value.</p>"},{"location":"memo-validation.html#parameters","title":"Parameters","text":"Field Type Description account-flags string account flags, must be hex encoding string with prefix 0x <ul> <li>Example on mainnet:</li> </ul> <pre><code>./eth-cli token account_flags set-account-flags --from &lt;your-key-name&gt; --account-flags 0x01  --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <ul> <li>Example on testnet:</li> </ul> <pre><code>./eth-cli token account_flags set-account-flags --from &lt;your-key-name&gt; --account-flags 0x01 --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre>"},{"location":"memo-validation.html#enable-memo-checker","title":"Enable-memo-checker","text":"<p>This transaction is aimed to aimed to enable transfer memo checker scripts.</p> <ul> <li>Example on mainnet:</li> </ul> <pre><code>./eth-cli account_flags enable-memo-checker --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <ul> <li>Example on testnet:</li> </ul> <pre><code>./eth-cli account_flags enable-memo-checker --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre>"},{"location":"memo-validation.html#disable-memo-checker","title":"Disable-memo-checker","text":"<p>This transaction is aimed to disable transfer memo checker.</p> <ul> <li>Example on mainnet:</li> </ul> <pre><code>./eth-cli account_flag disable-memo-checker --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <ul> <li>Example on testnet:</li> </ul> <pre><code>./eth-cli account_flag disable-memo-checker --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre>"},{"location":"offline.html","title":"Offline","text":"<p><code>eth-cli</code> support generating and signing all types of transactions offline, then broadcast them. This feature will let users generate and sign their transactions at an offline machine, then use another machine to broadcast it to the network</p>"},{"location":"offline.html#generate-your-unsigned-transaction","title":"Generate your unsigned transaction","text":"<p>First step is that you need to generate your unsigned transaction and save it in a file.</p> <p>Note: <code>--account-number</code> and <code>--node</code> is not mandatory in unsigned command</p> <p>You can generate an unsigned transfer transaction on testnet: <pre><code>./eth-cli send --from &lt;your-key-name&gt; --account-number &lt;your-sccount-number&gt; --to &lt;destination-address&gt; --amount 200000000:SCOL --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --generate-only --offline &gt;&gt; unsigned.json\n</code></pre> You can generate an unsigned transfer transaction on mainnet: <pre><code>./eth-cli send --from &lt;your-key-name&gt; --account-number &lt;your-sccount-number&gt; --to &lt;destination-address&gt; --amount 200000000:SCOL --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --generate-only --offline &gt;&gt; unsigned.json\n</code></pre> Then, you can see that the signature of unsigned.json is empty.</p>"},{"location":"offline.html#sign-your-transaction","title":"Sign your transaction","text":"<p>You can view the unsigned.json to verify that all the info about this transaction is correct. You need to get the account-number and sequence about your address here: https://docs.scolcoin.com/api-reference/dex-api/paths.html#apiv1accountaddress</p> <p>You can sign an unsigned transfer transaction on testnet: <pre><code>./eth-cli sign unsigned.json --account-number &lt;address-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Ganges --offline --name &lt;your-key-name&gt; &gt;&gt; signed.json\n</code></pre></p> <p>You can sign an unsigned transfer transaction on mainnet: <pre><code>./eth-cli sign unsigned.json --account-number &lt;address-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Tigris --offline --name &lt;your-key-name&gt; &gt;&gt; signed.json\n</code></pre></p> <p>You need to type in your password in this step</p> <p>Then, you can see that the signature of signed.json is no longer empty.</p>"},{"location":"offline.html#broadcast-your-transaction","title":"Broadcast Your Transaction","text":"<p>Please then copy your signed.json to a different server and broadcast this transaction.</p> <p>You can broadcast your transaction on testnet: <pre><code>./eth-cli broadcast signed.json --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> You can broadcast your transaction on mainnet: <pre><code>./eth-cli broadcast signed.json --node https://dataseed5.defibit.io:443\n</code></pre></p> <p>You can find the list of nodes here</p> <p>If the broadcast is successful, you will see the transaction hash in returned info. Please go and verify it in Explorer.</p>"},{"location":"resources.html","title":"More Help","text":"<p>You can always post your question in Online Forum: this is the main portal to get community support.</p> <p>To keep track of the latest news in ScolCoin Chain/DEX, you can read our weekly updates. It will be published on Online Forum too.</p>"},{"location":"timelock.html","title":"TimeLock","text":"<p>As explained in BEP9, some business plans decide to lock certain amount tokens for pre-defined periods of time, and the only vest in the future according to the schedules. For example, some projects may lock some allocation of the issued tokens as a commitment by the founding team; some business scenarios also need to lock some tokens as collateral for value.</p>"},{"location":"timelock.html#timelock_1","title":"TimeLock","text":"<p>You can only lock tokens on your own account. TimeLock will transfer locked tokens to a purely-code-controlled escrow account and before the lock time expires. A purely-code-controlled escrow account is a kind of account which is derived from a hard-coded string in shree chain protocol. This kind of account doesn't have its own private key and it's only controlled by code of the protocol. The code for calculating escrow account is the same that is used in cosmos-sdk: <pre><code>TimeLockCoinsAccAddr = sdk.AccAddress(crypto.AddressHash([]byte(\"ScolCoin ChainTimeLockCoins\")))\n</code></pre> The account for mainnet is: scol1hn8ym9xht925jkncjpf7lhjnax6z8nv24fv2yq and the account for testnet is: tscol1hn8ym9xht925jkncjpf7lhjnax6z8nv2mu9wy3 The specific user will not be able to claim them back, including restrictions where they cannot use, transfer or spend these tokens.</p>"},{"location":"timelock.html#command-line","title":"Command line","text":"<p>You must use <code>--broadcast</code> to submit your transaction to the blockchain, otherwise it will return an unsigned transaction.</p>"},{"location":"timelock.html#parameters","title":"Parameters","text":"Field Type Description Description string Description of the lock operation. Max length of description is 128 bytes. Amount []Coin A set of tokens to be locked LockTime int64 The time when these tokens can be unlocked. LockTime is a future timestamp (seconds elapsed from January 1st, 1970 at UTC) and max LockTime should be before 10 years from now. broadcast bool if you want to submit your transaction to the blockchain"},{"location":"timelock.html#fee","title":"Fee","text":"<p>0.01 SCOL will be charged on TimeLock transactions.</p>"},{"location":"timelock.html#example","title":"Example","text":"<p>On testnet, you can lock 1SCOL for 1 day. <pre><code>./eth-cli token time-lock --amount \"100000000:SCOL\" --from &lt;key-name&gt; --description \" test timelock\" --lock-time &lt;lock-timestamp&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80 --broadcast\n</code></pre></p> <p>On mainnet, you can lock 1SCOL for 1 day. <pre><code>./eth-cli token time-lock --amount \"100000000:SCOL\" --from &lt;key-name&gt; --description \" test timelock\" --lock-time &lt;lock-timestamp&gt; --chain-id SCOL-Chain-Tigris --node http://dataseed1.scolcoin.com:80 --broadcast\n</code></pre></p>"},{"location":"timelock.html#timeunlock","title":"TimeUnlock","text":"<p>TimeUnlock will claim the locked tokens back when the specified lock time has passed.</p>"},{"location":"timelock.html#parameters_1","title":"Parameters","text":"Field Type Description address string the address you want to query time-lock-id int64 the id of your locking, it's incremental"},{"location":"timelock.html#fee_1","title":"Fee","text":"<p>0.01 SCOL will be charged on ReLock transactions.</p>"},{"location":"timelock.html#example_1","title":"Example","text":"<p>On testnet, you can unlock tokens</p> <pre><code>./eth-cli token time-unlock --from &lt;your-address&gt; --time-lock-id &lt;lock-id&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>On mainnet, you can unlock tokens. <pre><code>./eth-cli token time-unlock --from &lt;key-name&gt; --time-lock-id &lt;lock-id&gt; --chain-id SCOL-Chain-Tigris --node http://dataseed1.scolcoin.com:80\n</code></pre></p> <p>Example output for trying to unlock tokens whose locking period is not expired:</p> <pre><code>ERROR: {\"codespace\":7,\"code\":7,\"abci_code\":458759,\"message\":\"Can not unlock: lock time(2019-06-28 09:26:54 +0000 UTC) is after now(2019-06-27 08:31:54.680643156 +0000 UTC)\"}\n</code></pre>"},{"location":"timelock.html#timerelock","title":"TimeRelock","text":"<p>TimeRelock can extend lock times, increase the amount of locked tokens or modify the description of an existing lock record.</p> <p>PLease note that you either increase the <code>expire time</code> or amount of your lock of tokens which are not unlocked.</p>"},{"location":"timelock.html#parameters_2","title":"Parameters","text":"Field Type Description time-lock-id int64 the id of your locking, it's incremental Amount []Coin A set of tokens to be locked LockTime int64 The time when these tokens can be unlocked. LockTime is a future timestamp(seconds elapsed from January 1st, 1970 at UTC) and max LockTime should be before 10 years from now. broadcast bool if you want to submit your transaction to the blockchain"},{"location":"timelock.html#fee_2","title":"Fee","text":"<p>0.01 SCOL will be charged on UnLock transactions.</p>"},{"location":"timelock.html#example_2","title":"Example","text":"<p>On testnet, you can relock tokens</p> <p><pre><code>./eth-cli token time-relock --time-lock-id &lt;lock-id&gt; --increase-amount-to &lt;amount of tokens&gt; --from &lt;key-name&gt; --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --broadcast\n</code></pre> On mainnet, you can relock tokens</p> <pre><code>./eth-cli token time-relock --time-lock-id &lt;lock-id&gt; --increase-amount-to &lt;amount of tokens&gt; --from &lt;key-name&gt; --chain-id SCOL-Chain-Tigris --node http://dataseed1.scolcoin.com:80 --broadcast\n</code></pre> <p>Output if you don't add more tokens or don't extend your locking period, you will get the following error:</p> <pre><code>ERROR: {\"codespace\":7,\"code\":6,\"abci_code\":458758,\"message\":\"Invalid lock amount: new locked coins(100000000SCOL) should be more than original locked coins(100000000SCOL)\"}\n</code></pre>"},{"location":"timelock.html#querytimelock","title":"QueryTimeLock","text":"<p>QueryTimeLock will query a lock record of a given address by the id. If this locking is ended, then no info will be returned.</p>"},{"location":"timelock.html#parameters_3","title":"Parameters","text":"Field Type Description time-lock-id int64 the id of your locking, it's incremental"},{"location":"timelock.html#example_3","title":"Example","text":"<p>On testnet, you can query lock history by ID: <pre><code>./eth-cli token query-time-lock --from &lt;your-key-name&gt; --time-lock-id &lt;lock-id&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>On mainnet, you can query lock history: <pre><code>./eth-cli token query-time-lock --from &lt;your-key-name&gt; --time-lock-id &lt;lock-id&gt; --chain-id SCOL-Chain-Tigris --trust-node --node http://dataseed1.scolcoin.com:80\n</code></pre></p> <p>Example output:</p> <pre><code>[\n  {\n    \"id\": \"1\",\n    \"description\": \" test timelock\",\n    \"amount\": [\n      {\n        \"denom\": \"SCOL\",\n        \"amount\": \"100000000\"\n      }\n    ],\n    \"lock_time\": \"2019-06-27T01:59:52Z\"\n  }\n]\n</code></pre>"},{"location":"timelock.html#querytimelocks","title":"QueryTimeLocks","text":"<p>QueryTimeLocks will query all lock records of a given address.</p>"},{"location":"timelock.html#querytimelock-parameters","title":"QueryTimeLock Parameters","text":"Field Type Description address string the address you want to query"},{"location":"timelock.html#example_4","title":"Example","text":"<p>On testnet, you can query lock history by address:</p> <p><pre><code>./eth-cli token query-time-locks --address &lt;your-address&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> On mainnet, you can query lock history by address:</p> <p><pre><code>./eth-cli token query-time-locks --address &lt;your-address&gt; --chain-id SCOL-Chain-Tigris --trust-node --node http://dataseed1.scolcoin.com:80\n</code></pre> Example output:</p> <pre><code>[\n  {\n    \"id\": \"1\",\n    \"description\": \" test timelock\",\n    \"amount\": [\n      {\n        \"denom\": \"SCOL\",\n        \"amount\": \"100000000\"\n      }\n    ],\n    \"lock_time\": \"2019-06-27T01:59:52Z\"\n  },\n  {\n    \"id\": \"2\",\n    \"description\": \" test timelock\",\n    \"amount\": [\n      {\n        \"denom\": \"SCOL\",\n        \"amount\": \"100000000\"\n      }\n    ],\n    \"lock_time\": \"2019-06-28T09:26:54Z\"\n  }\n]\n</code></pre>"},{"location":"tokens.html","title":"Asset Management","text":""},{"location":"tokens.html#introduction","title":"Introduction","text":"<p>Assets are stored as <code>tokens</code> on ScolCoin Chain, and the below management actions are available. All the assets are complied with BEP2.</p> <p>The fees that are due must be paid in SCOL before any of these operations can be executed. The fees for testnet and mainnet are different.</p> <p>Please note: Before you run any command examples on this page, and if you have not done so already, you must generate or add a key to eth-cli.</p> <p>Also remember: The <code>chain-id</code> and <code>node</code> parameters passed to eth-cli may vary, and the<code>chain-id</code> for mainnet is <code>SCOL-Chain-Tigris</code>, and is <code>SCOL-Chain-Ganges</code> for testnet. To find the latest list of  endpoints for the mainnet, please check the peers list. To find the latest endpoints for the testnet, please check the peers list.</p>"},{"location":"tokens.html#issue","title":"Issue","text":"<p><code>Issue</code> is a transaction used to create a new asset. Anyone can issue a new token with fee paid. After issuing, the token would appear in the issuer's account as free balance.</p> <p>An issuance transaction contains:</p> <p>Note: BEP87 is implemented after Lagrange Upgrade. It changes the minimal symbol length to two</p> <ul> <li>Source Address: the sender address of the transaction and it will become the <code>owner</code> of the token, all created tokens will be in this account.</li> <li>Token Name: it is the long official name, such as \"ScolCoin\". It is limited to 32 characters.</li> <li>Symbol: identifier of the token, limited to alphanumeric characters and is case insensitive, for example, \"SCOL\". The length of symbol should be between 2 and 8.  \"B\" suffixed symbol is also allowed for migrating tokens that already exist on other chains. The symbol doesn't have to be unique, \"-\" followed by random 3 letters will be appended to the provided symbol to avoid uniqueness constraint. Those 3 letters are the first three letters of tx hash of the <code>issue</code> transaction. For example, \"NNB-B90\". Only SCOL does not have this suffix.</li> <li>Total Supply: an int64 boosted by 1e8 for decimal part. The max total supply is 90 billion.</li> <li>Mintable: that means whether this token can be minted in the future. To set the tokes to be mintable, you need to add <code>--mintable</code>, otherwise just omit this field to set this token to be non-mintable.</li> </ul> <p>Example on mainnet:</p> <p><pre><code># To issue a NNB mintable token with total-supply 1 billion on mainnet\n&gt; ./eth-cli token issue --token-name \"new token\" --total-supply 100000000000000000 --symbol NNB --mintable --from alice  --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <pre><code># To issue a NNB non-mintable token with total-supply 1 billion on mainnet\n&gt; ./eth-cli token issue --token-name \"new token\" --total-supply 100000000000000000 --symbol NNB --from alice  --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> Example on testnet:</p> <pre><code># To issue a NNB mintable token with total-supply 1 billion on testnet\n&gt; ./eth-cli token issue --token-name \"new scol\" --total-supply 100000000000000000 --symbol NNB --mintable --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n\nCommitted at block 1887 (tx hash: B90A055DDD570AE42A7050182993A0B4DBC81A0D, ... Issued NNB-B90...)\n</code></pre> <pre><code># To issue a NNB non-mintable token with total-supply 1 billion on testnet\n&gt; ./eth-cli token issue --token-name \"new scol\" --total-supply 100000000000000000 --symbol NNB --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n\nCommitted at block 1887 (tx hash: B90A055DDD570AE42A7050182993A0B4DBC81A0D, ... Issued NNB-B90...)\n</code></pre>"},{"location":"tokens.html#mint","title":"Mint","text":"<p>Tokens that is \"mintable\"(specified when issue) can use this function. The amount is  boosted by 1e8 for decimal part. The total supply after mint is still restricted by 90 billion. Note only the <code>owner</code> of the token can use this transaction.</p> <p>Example on mainnet:</p> <pre><code> &gt; ./eth-cli token mint --amount 100000000000000000 --symbol NNB-B90 --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre> <p>Example on testnet:</p> <pre><code> &gt; ./eth-cli token mint --amount 100000000000000000 --symbol NNB-B90 --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n</code></pre>"},{"location":"tokens.html#burn","title":"Burn","text":"<p>Burn is to destroy certain amount of token, after which that amount of tokens will be subtracted from the operator's balance. The total supply will be updated at the same time. Notice that only the owner of the token has the permission to burn token. The amount is  boosted by 1e8 for decimal part.</p> <p>Example on mainnet:</p> <pre><code> &gt; ./eth-cli token burn --amount 100000000000000000 --symbol NNB-B90 --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre> <p>Example on testnet:</p> <pre><code> &gt; ./eth-cli token burn --amount 100000000000000000 --symbol NNB-B90 --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n</code></pre>"},{"location":"tokens.html#freeze-unfreeze","title":"Freeze &amp; Unfreeze","text":"<p>Freeze would move the specified amount of token into \"frozen\" status, so that these tokens can not transferred, spent in orders or any other transaction until they are unfreezed.</p> <p>Anyone can (only) freeze or unfreeze tokens on their account with status in \"free\". The amount is  boosted by 1e8 for decimal part.</p> <p>Example on mainnet:</p> <pre><code>&gt; ./eth-cli token freeze --amount 20000000000000000 --symbol NNB-B90 --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <pre><code>&gt; ./eth-cli token unfreeze --amount 20000000000000000 --symbol NNB-B90 --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre> <p>Example on testnet:</p> <pre><code>&gt; ./eth-cli token freeze --amount 20000000000000000 --symbol NNB-B90 --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n</code></pre> <pre><code>&gt; ./eth-cli token unfreeze --amount 20000000000000000 --symbol NNB-B90 --from alice --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --trust-node\n</code></pre>"},{"location":"tokens.html#transferownership","title":"TransferOwnership","text":"<p>Note: BEP82 is implemented after Lagrange Upgrade to add this new transactionn type.</p> <p>0.01 SCOL will be charged on TransferOwnership transactions.</p> <p>Example on mainnet:</p> <p><pre><code>./eth-cli token transfer-ownership --from  $current-owner --symbol $symbol --new-owner $new-owner  --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> Example on testnet:</p> <pre><code>./eth-cli token transfer-ownership --from  $current-owner --symbol $symbol --new-owner $new-owner --chain-id SCOL-Chain-Nile  --node=data-seed-pre-2-s1.scolcoin.com:80--trust-node\n</code></pre>"},{"location":"trade.html","title":"Trade","text":"<p>SCOL DEX is the native marketplace which allows you to exchange digital assets issued and listed on it. The matching happens within the blockchain nodes and all of the transactions are recorded on-chain, therefore forming a complete, auditable ledger of activity. The following commands are available for trading:</p>"},{"location":"trade.html#place-order","title":"Place Order","text":"<p>You could place a new order with the following command on testnet:</p> <pre><code>$ eth-cli dex order  --symbol ZEBRA-16D_SCOL  --side 1 --price 1000000 --qty 1000 --from guest --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 -t gte\n</code></pre> <p>You will be able to place order on mainnet by replaceing <code>chain-id</code> and <code>node</code>.</p> <p>Example on mainnet:</p> <pre><code>$ eth-cli dex order  --symbol ZEBRA-16D_SCOL  --side 1 --price 1000000 --qty 1000 --from guest  --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  -t gte\n</code></pre> <p>For <code>side</code>, you need to put 1 as buy or 2 as sell.</p> <p>Please note that the quantity should be rounded to <code>lotSize</code>. Otherwise your order could be invalid. The returned output is the following:</p> <p><pre><code>Committed at block 1616083 (tx hash: C550F348B3A62880062F9DCF67794F08889234D0360B26CF31E68F8D3105C58F, response: {Code:0 Data:[123 34 111 114 100 101 114 95 105 100 34 58 34 56 49 51 69 52 57 51 57 70 49 53 54 55 66 50 49 57 55 48 52 70 70 67 50 65 68 52 68 70 53 56 66 68 69 48 49 48 56 55 57 45 51 48 34 125] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Tags:[{Key:[97 99 116 105 111 110] Value:[111 114 100 101 114 78 101 119] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\nMsg [NewOrderMsg{Sender: 813E4939F1567B219704FFC2AD4DF58BDE010879, Id: 813E4939F1567B219704FFC2AD4DF58BDE010879-30, Symbol: ZEBRA-16D_SCOL}] was sent.\n</code></pre> The order id is needed if you want to cancel this order later.</p>"},{"location":"trade.html#cancel-order","title":"Cancel Order","text":"<p>To cancel an order, you could use the following command to cencel order on testnet:</p> <p><pre><code>eth-cli dex cancel --symbol ZEBRA-16D_SCOL   --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --refid  813E4939F1567B219704FFC2AD4DF58BDE010879-30 --from guest\n</code></pre> Please note that <code>refid</code> is what you got from <code>order</code> command.</p> <p>Example on mainnet:</p> <pre><code>eth-cli dex cancel --symbol ZEBRA-16D_SCOL   --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --refid  813E4939F1567B219704FFC2AD4DF58BDE010879-30 --from guest\n</code></pre>"},{"location":"trade.html#view-orders","title":"View Orders","text":"<p>To verify that your commands are executed as expected, you could query the orderbook of testnet.</p> <p><pre><code>eth-cli dex show -l ZEBRA-16D_SCOL   --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80\n</code></pre> Example output is the following: <pre><code>         SellQty|       SellPrice|        BuyPrice|          BuyQty\n     58.14066000|      0.01400000|      0.00100000| 522278.22159000\n 674664.35943000|      0.01500000|      0.00000000|      0.00000000\n 291157.71192000|      0.01800000|      0.00000000|      0.00000000\n    229.20432000|      0.01900000|      0.00000000|      0.00000000\n 292616.45027000|      0.02000000|      0.00000000|      0.00000000\n 694954.49683000|      0.03000000|      0.00000000|      0.00000000\n 279267.00000000|      0.04000000|      0.00000000|      0.00000000\n 271236.08958000|      0.04500000|      0.00000000|      0.00000000\n 108472.66524300|      0.05000000|      0.00000000|      0.00000000\n 155000.00000000|      0.06000000|      0.00000000|      0.00000000\n 105028.64699000|      0.07000000|      0.00000000|      0.00000000\n 100000.00000000|      0.08000000|      0.00000000|      0.00000000\n 263025.58796000|      0.08500000|      0.00000000|      0.00000000\n1500427.52685800|      0.09000000|      0.00000000|      0.00000000\n2027178.06520900|      0.10000000|      0.00000000|      0.00000000\n    114.58796000|      0.17500000|      0.00000000|      0.00000000\n  15305.95524500|      0.20000000|      0.00000000|      0.00000000\n  10283.97968700|      0.30000000|      0.00000000|      0.00000000\n</code></pre></p> <p>Example on mainnet:</p> <pre><code>eth-cli dex show -l ZEBRA-16D_SCOL    --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443\n</code></pre>"},{"location":"trading-spec.html","title":"SCOL DEX Trading Specification","text":""},{"location":"trading-spec.html#orders","title":"Orders","text":"<p>Orders are the requests for client to buy or sell tokens into other tokens on SCOL DEX. It is a standard type of ScolCoin Chain transaction. Orders are composed of the below parameters.</p> <ol> <li>Symbol Pairs: the list pair the order wants to trade.</li> <li>Order Type: SCOL DEX only accept LIMIT orders, which is adhering to SEC definitions of LIMIT orders</li> <li>Price: price users would like to pay for the specified token quantity, presented as a float number of quote currency. This must be rounded by tick size. Internally it can be multiplied by 1e8(10^8) in order to store as an integer in the range of int64.</li> <li>Quantity: number of tokens users want to buy or sell. That must be rounded by lot size. Internally it can be multiplied by 1e8(10^8) in order to store as an integer in the range of int64.</li> <li>Side: buy or sell</li> <li>Time: entry time of the order, which is the block number(height) the order gets booked in.</li> <li> <p>TimeInForce:</p> <ul> <li>GTE: Good Till Expire. Order would stay effective until expire time. Order may expire in the UTC midnight after more than 259, 200 blocks, which is 72 hours in term of blocking time.</li> <li>IOC: Immediate or Cancel. Orders would be executed as much as it can in the booking block round and then got canceled back if there is still quantity left.</li> </ul> </li> </ol> <p>Orders would be rejected when:</p> <ol> <li>user address cannot be located with asset</li> <li>Account does not possess enough token to buy or sell</li> <li>Exchange is down or has problem to match it</li> <li>The token is not listed against any base currencies</li> <li>Other order parameters are not valid</li> <li>Duplicated order ID</li> </ol> <p>Orders may be canceled / expired back when:</p> <ol> <li>IOC order not fully filled</li> <li>Order expired</li> <li>Exchange has problem to handle further with the orders</li> </ol> <p>After orders are received by any blockchain node, the node would try to submit the order transaction onto a block with consensus. After the order is accepted in an block, 2 things would happen,</p> <ol> <li>the assets that may transfer with the order would be locked and cannot be transferred;</li> <li>the SCOL DEX would try to match the order against any existing orders or new orders from the same block.</li> </ol> <p>If the order can match with any opposite side, the trade would be generated and the assets would be transferred. The fully filled orders would be removed from the order book, while the unfilled or partially filled GTE would stay on the order book until it is filled by others; unfilled or partially filled IOC order would be canceled.</p>"},{"location":"trading-spec.html#order-lifecycle","title":"Order Lifecycle","text":"<p>Valid orders sent to the matching engine are confirmed immediately and are in the Ack state andinvalid orders will be FailedMatching state. GTE and IOC orders have different lifecycle.</p> <p>For IOC order, if an IOC order executes against another order immediately as a whole, the order is considered FullyFill. An IOC order can execute in part and ends in IocExpire state. If no part of the IOC order is filled, will be considered IocNoFill.</p> <p>For GTE order, if a GTE order can execute against another order as a whole, the order is considered FullyFill. Any part of the order not filled immediately, will be considered open. Orders will stay in the open until it's canceled or subsequently filled by new orders. Canceled GTE orders are in the Canceled state. Orders that are no longer eligible for matching are in the Expired state.</p>"},{"location":"trading-spec.html#order-expire","title":"Order Expire","text":"<p>Order would expire after 72 hours once it is booked on a block. A whole order book scan would happen every UTC mid-night to filter out all the expired orders. After the scan, all the expired orders would be removed from the order book, the locked quantity in the account would be unlocked. Before this action all the existing orders in the order book is subject to matching.</p> <p>Tip<p>As discussed in BEP-67, those orders in the best 500 price levels on both ask and bid side will be expired after 30 days instead of 72 hours. Meanwhile, the expiration fee is unchanged. BEP67 is already implemented and has been activated after Testnet Nightingale Upgrade. ScolCoin Chain Mainnet will be upgraded to support BEP-67 soon.</p> </p>"},{"location":"trading-spec.html#precision","title":"Precision","text":"<p>All the numbers are limited to 8-digit decimals.</p>"},{"location":"trading-spec.html#tick-size-and-lot-size","title":"Tick Size and Lot Size","text":"<p>Tick size stands for the smallest unit on price change, while lot size stands for the smallest quantity change. Order price must be larger than and rounded to 1 tick size and order quantity must be larger than and rounded to 1 lot size, otherwise orders would be rejected.</p> <p>Tick size and lot size can be queried from DEX API, and they would be reviewed and changed by DEX match engine automatically according to the trading price every UTC mid-night. Once the tick size or/and lot size is changed, new orders must stick to the new values while the existing orders on the order book can still be traded.</p>"},{"location":"trading-spec.html#fees","title":"Fees","text":"<p>We have five kinds of order operations, each kind has its specific fee calculation logic and collection timing as the table described below.</p> Operation Calculation Collection Timing Place order free - Cancel order fixed fees when the <code>Cancel</code> transaction executes Order expire fixed fees if fully expired, otherwise free when the scheduled order expiration happenes IOC order cancel fixed fees if fully canceled, otherwise free when the IOC order is not fully filled Order execution rate based fees when the order matched <p>SCOL is the priority in the fee collection and has some discounts.</p> <p>DEX would always calculate and collect the fees based on the latest balance and in the best interest of users.</p>"},{"location":"trading-spec.html#current-fees-table-on-mainnet","title":"Current Fees Table on Mainnet","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Mainnet as of 2021-03-21 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"trading-spec.html#mainnet-fees-api","title":"Mainnet Fees API","text":"<p>View system fees updated in real time here.</p>"},{"location":"trading-spec.html#multi-send-fees","title":"Multi-send Fees","text":"<p><code>eth-cli</code>  offers you a multi-send command to transfer multiple tokens to multiple people. 20% discount is available for <code>multi-send</code> transactions. For now, <code>multi-send</code> transaction will send some tokens from one address to multiple output addresses. If the count of output address is bigger than the threshold, currently it's 2, then the total transaction fee is  0.0003 SCOL per token per address. For example, if you send 3 ABC token,1 SAT token and 1 ABC to 3 different addresses.</p> <p><pre><code>[\n{\n\"to\":\"scol1g5p04snezgpky203fq6da9qyjsy2k9kzr5yuhl\",\n\"amount\":\"100000000:SCOL,100000000:ABC\"\n},\n{\n\"to\":\"scol1l86xty0m55ryct9pnypz6chvtsmpyewmhrqwxw\",\n\"amount\":\"100000000:SCOL\"\n},\n{\n\"to\":\"scol1l86xty0maxdgst9pnypz6chvtsmpydkjflfioe\",\n\"amount\":\"100000000:SCOL,100000000:SAT\"\n}\n]\n</code></pre> You will pay on mainnet/testnet</p> <pre><code>0.0003 SCOL * 5 = 0.0015 SCOL\n</code></pre>"},{"location":"trading-spec.html#trading-fees","title":"Trading Fees","text":"<p>Trading fees are subject to complex logic that may mean that individual trades are not charged exactly by the rates below, but between them instead; this is due to the block-based matching engine in use on the DEX.</p> <p>The current fee for trades, applied on the settled amounts, is as follows:</p> Transaction Type Pay in non-SCOL Asset Pay in SCOL Trade 0.1% 0.05% <p>Trading fee can be queried at here. It's under the \"params/DexFeeParam/\".  \"FeeRate\" and \"FeeRateNative\" are both under unit of 10^-6.</p>"},{"location":"trading-spec.html#current-fees-table-on-testnet","title":"Current Fees Table on Testnet","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Testnet as of 2021-03-17 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"trading-spec.html#testnet-fees-api","title":"Testnet Fees API","text":"<p>View system fees updated in real time here.</p>"},{"location":"trading-spec.html#notes","title":"Notes","text":"<ul> <li> <p>Trade fee is calculated based on trade notional value, while fees for other transactions are fixed. It is free to send new GTE order, cancel a partially filled order, and you will not be charged a fee when the system expires a partially filled order (GTE or IOC).</p> </li> <li> <p>Non-Trade related transactions will be charged a fee when the transactions happen, and can only be paid in SCOL. The transaction will be rejected if the address does not have enough SCOL.</p> </li> <li> <p>Trade related transaction would be charged with fee when an order is filled, or canceled/expired/IOC-expired with no fills. If there is enough SCOL to pay, SCOL fee structure would be used, otherwise, non-SCOL fee structure would be used to charged.</p> </li> <li>If the whole order value and free balance for the receiving asset are not enough to pay the fee, all the receiving asset and its residual balance would be charged.</li> </ul>"},{"location":"transfer.html","title":"Asset Transfer","text":"<p><code>Transfer</code> is the most basic transaction ScolCoin Chain supports, it moves assets among different addresses.</p> <p>Please note the fees must be paid first in SCOL before the transaction can be executed.</p> <p>If you want to read more about the idea of account and balance, please refer to this doc.</p>"},{"location":"transfer.html#simple-transfer-and-memo","title":"Simple Transfer and Memo","text":"<p>Before transferring tokens to someone else, please make sure that you have an account with enough balance and have unlocked your wallet on browser or restored your key via CLI.</p> <p>You can always input a \"memo\" sentence as extra information to be recorded on the blockchain, though it has a limit on the length.</p>"},{"location":"transfer.html#web-wallet","title":"Web wallet","text":"<p>You can easily send tokens to another address on web wallet.</p> <p></p> <p>First, you need to choose what asset you want to send.</p> <p>Then you input the address you want to send tokens to and amount of token.</p> <p>And you can also input memo here and size of memo is restricted to 128 bytes.</p> <p>Fee charged and balance will be showed in below.</p>"},{"location":"transfer.html#cli","title":"CLI","text":"<p>If you want to send token to an address, make sure you have restored your key. You can list all of your keys: <pre><code> ./eth-cli keys list --home ~/.eth-cli\nNAME:   TYPE:   ADDRESS:                        PUBKEY:\ntest    local   scol17kwznuljsy4n89wcjd6esx2j5t0w326c03xhyr bncp1addwnpepq2gudmfe0dqqax3f57j9azy5rujlwcra4w8ueehsl5whzhlvczxuuakuldy\n</code></pre></p> <p>Query your addresses on testnet</p> <pre><code>$  ./eth-cli keys list  PUBKEY:\ntest    local   tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5    scolp1addwnpepqgfehhv4meevy2kz52c0s7znk8x2969dl8zc5jngn36axf3szdzp5efearf\n</code></pre> <p>You can query your balance on mainnet before send tokens.</p> <pre><code> ./eth-cli account scol1XXXXXXXXXXXXXXXXXXX --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --indent\n{\n\"type\": \"scolchain/Account\",\n  \"value\": {\n\"base\": {\n\"address\": \"scol14h5yfk0n54msscs3hjfupscx2s9efw62sg3phh\",\n      \"coins\": [\n{\n\"denom\": \"SCOL\",\n          \"amount\": \"100000000\"\n}\n],\n      \"public_key\": null,\n      \"account_number\": \"56\",\n      \"sequence\": \"0\"\n},\n    \"name\": \"\",\n    \"frozen\": null,\n    \"locked\": null\n  }\n}\n</code></pre> <p>You can query your balance on testnet before send tokens.</p> <pre><code>./eth-cli account tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5 --chain-id SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --indent\n\n{\n\"type\": \"scolchain/Account\",\n  \"value\": {\n\"base\": {\n\"address\": \"tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5\",\n      \"coins\": [\n{\n\"denom\": \"SCOL\",\n          \"amount\": \"100000000\"\n}\n],\n      \"public_key\": null,\n      \"account_number\": \"56\",\n      \"sequence\": \"0\"\n},\n    \"name\": \"\",\n    \"frozen\": null,\n    \"locked\": null\n  }\n}\n</code></pre> <p>Then you can send token.</p> <p>Please note that you need to boosted the amount you want to send by e^8 .</p> <p>Example on mainnet:</p> <pre><code>./eth-cli send --from from-key-name --to to-address --amount 200000000:SCOL --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --json --memo \"Test transfer\"\nPassword to sign with 'test':\n{\n\"Height\":\"272155\",\n   \"TxHash\":\"A8F78BF8736A35B9433CA9CD1CDD03A8FB3D5D82\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5jMTdrd3pudWxqc3k0bjg5d2NqZDZlc3gyajV0MHczMjZjMDN4aHly\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5jMWw3a3IzNWRnajNqZXpqdnc2bnQ2enlxY215dDJqaDdyczJ2NG45\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre> <p>Example on testnet: <pre><code>./eth-cli send --from from-key-name --to to-address --amount 200000000:SCOL --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80 --json --memo \"Test transfer\"\n\nPassword to sign with 'test':\n{\n\"Height\":\"272155\",\n   \"TxHash\":\"A8F78BF8736A35B9433CA9CD1CDD03A8FB3D5D82\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5jMTdrd3pudWxqc3k0bjg5d2NqZDZlc3gyajV0MHczMjZjMDN4aHly\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5jMWw3a3IzNWRnajNqZXpqdnc2bnQ2enlxY215dDJqaDdyczJ2NG45\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre></p> <p>If you are not familiar with CLI, you can use <code>-h</code> to get helps: <pre><code> ./eth-cli send -h\nCreate and sign a send tx\n\nUsage:\n  eth-cli send [flags]\n\nFlags:\n      --account-number int   AccountNumber number to sign the tx\n      --amount string        Amount of coins to send\n      --async                broadcast transactions asynchronously\n      --chain-id string      Chain ID of ScolCoin Chain node\n      --dry-run              ignore the perform a simulation of a transaction, but don't broadcast it\n      --from string          Name or address of private key with which to sign\n      --generate-only        build an unsigned transaction and write it to STDOUT\n  -h, --help                 help for send\n      --indent               Add indent to JSON response\n      --json                 return output in json format\n      --ledger               Use a connected Ledger device\n      --memo string          Memo to send along with transaction\n      --node string          &lt;host&gt;:&lt;port&gt; to tendermint rpc interface for this chain (default \"tcp://localhost:26657\")\n      --print-response       return tx response (only works with async = false) (default true)\n      --sequence int         Sequence number to sign the tx\n      --source int           Source of tx\n      --to string            Address to send coins\n      --trust-node           Trust connected full node (don't verify proofs for responses) (default true)\n\nGlobal Flags:\n  -e, --encoding string   Binary encoding (hex|b64|btc) (default \"hex\")\n--home string       directory for config and data (default \"/root/.eth-cli\")\n-o, --output string     Output format (text|json) (default \"text\")\n--trace             print out full stack trace on errors\n</code></pre></p>"},{"location":"transfer.html#multi-send","title":"Multi-send","text":"<p>Sometimes, you may want to transfer tokens to multiple people. So <code>eth-cli</code> also provides you a <code>multi-send</code> command.</p> <p>You can use <code>-h</code> to get helps: <pre><code> ./eth-cli token multi-send -h\nCreate and sign a multi send tx\n\nUsage:\n  eth-cli token multi-send [flags]\n\nFlags:\n      --account-number int      AccountNumber number to sign the tx\n      --async                   broadcast transactions asynchronously\n      --chain-id string         Chain ID of tendermint node\n      --dry-run                 ignore the perform a simulation of a transaction, but don't broadcast it\n      --from string             Name or address of private key with which to sign\n      --generate-only           build an unsigned transaction and write it to STDOUT\n  -h, --help                    help for multi-send\n      --indent                  Add indent to JSON response\n      --json                    return output in json format\n      --ledger                  Use a connected Ledger device\n      --memo string             Memo to send along with transaction\n      --node string             &lt;host&gt;:&lt;port&gt; to tendermint rpc interface for this chain (default \"tcp://localhost:26657\")\n      --print-response          return tx response (only works with async = false) (default true)\n      --sequence int            Sequence number to sign the tx\n      --source int              Source of tx\n      --transfers string        Transfers details, format: [{\"to\": \"addr\", \"amount\": \"1:SCOL,2:BTC\"}, ...]\n      --transfers-file string   File of transfers details, if transfers-file is not empty, --transfers will be ignored\n      --trust-node              Trust connected full node (don't verify proofs for responses) (default true)\n\nGlobal Flags:\n  -e, --encoding string   Binary encoding (hex|b64|btc) (default \"hex\")\n--home string       directory for config and data (default \"/Users/wuzhenxing/.eth-cli\")\n-o, --output string     Output format (text|json) (default \"text\")\n--trace             print out full stack trace on errors\n</code></pre></p> <p>The difference here is you have to construct the transfer detail by yourself. You have to specify <code>--transfers</code> flag and format is showed above. In the same time, you can write the transaction detail in a file and specify <code>--transfers-file</code> flag and read from the file contains transaction.</p> <p>Example, you can specify <code>--transfers</code> and send it to mainnet:</p> <pre><code> ./eth-cli token multi-send --home ./testnodecli --from test --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443  --transfers \"[{\\\"to\\\":\\\"scol1g5p04snezgpky203fq6da9qyjsy2k9kzr5yuhl\\\",\\\"amount\\\":\\\"100000000000000:SCOL\\\"},{\\\"to\\\":\\\"scol1l86xty0m55ryct9pnypz6chvtsmpyewmhrqwxw\\\",\\\"amount\\\":\\\"100000000000000:SCOL\\\"}]\" --json\nPassword to sign with 'test':\n{\n\"Height\":\"1412\",\n   \"TxHash\":\"A238C3C33625B5398FE648BD3FE9822CB7A07A2DB7778376546916F81C634138\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5iMXFnOTRzMnYzM3NyNTVrNDAybnN2M3NmY3ozMmVtdGF3NmRjeTk2\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWc1cDA0c25lemdwa3kyMDNmcTZkYTlxeWpzeTJrOWt6cjV5dWhs\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWw4Nnh0eTBtNTVyeWN0OXBueXB6NmNodnRzbXB5ZXdtaHJxd3h3\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre> <p>Example on testnet:</p> <pre><code>./eth-cli token multi-send --home ./testnodecli --from test --chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80  --transfers \"[{\\\"to\\\":\\\"tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5\\\",\\\"amount\\\":\\\"100000000000000:SCOL\\\"},{\\\"to\\\":\\\"tscol1e244vmvym7g6cn9lk4hmhf9p2f9jaf0x9hxmwc\\\",\\\"amount\\\":\\\"100000000000000:SCOL\\\"}]\" --json\n\nPassword to sign with 'test':\n{\n\"Height\":\"1412\",\n   \"TxHash\":\"A238C3C33625B5398FE648BD3FE9822CB7A07A2DB7778376546916F81C634138\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5iMXFnOTRzMnYzM3NyNTVrNDAybnN2M3NmY3ozMmVtdGF3NmRjeTk2\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWc1cDA0c25lemdwa3kyMDNmcTZkYTlxeWpzeTJrOWt6cjV5dWhs\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWw4Nnh0eTBtNTVyeWN0OXBueXB6NmNodnRzbXB5ZXdtaHJxd3h3\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre> <p>And you can also try <code>--transfers-file</code>.</p> <p>Assume that you have a file named <code>transaction.json</code> in your current path and content is : <pre><code>[\n{\n\"to\":\"scol1g5p04snezgpky203fq6da9qyjsy2k9kzr5yuhl\",\n\"amount\":\"100000000000000:SCOL\"\n},\n{\n\"to\":\"scol1l86xty0m55ryct9pnypz6chvtsmpyewmhrqwxw\",\n\"amount\":\"100000000000000:SCOL\"\n}\n]\n</code></pre></p> <p>Then you can specify <code>--transfers-file</code> and send it to mainnet: <pre><code> ./eth-cli token multi-send --home ./testnodecli --from test --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443  --transfers-file ./transaction.json --json\nPassword to sign with 'test':\n{\n\"Height\":\"1412\",\n   \"TxHash\":\"A238C3C33625B5398FE648BD3FE9822CB7A07A2DB7778376546916F81C634138\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5iMXFnOTRzMnYzM3NyNTVrNDAybnN2M3NmY3ozMmVtdGF3NmRjeTk2\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWc1cDA0c25lemdwa3kyMDNmcTZkYTlxeWpzeTJrOWt6cjV5dWhs\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWw4Nnh0eTBtNTVyeWN0OXBueXB6NmNodnRzbXB5ZXdtaHJxd3h3\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre></p> <p>Example on testnet: <pre><code> ./eth-cli token multi-send --home ./testnodecli --from test--chain-id=SCOL-Chain-Ganges --node=data-seed-pre-2-s1.scolcoin.com:80  --transfers-file ./transaction.json --json\n\nPassword to sign with 'test':\n{\n\"Height\":\"1412\",\n   \"TxHash\":\"A238C3C33625B5398FE648BD3FE9822CB7A07A2DB7778376546916F81C634138\",\n   \"Response\":{\n\"log\":\"Msg 0: \",\n      \"tags\":[\n{\n\"key\":\"c2VuZGVy\",\n            \"value\":\"Ym5iMXFnOTRzMnYzM3NyNTVrNDAybnN2M3NmY3ozMmVtdGF3NmRjeTk2\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWc1cDA0c25lemdwa3kyMDNmcTZkYTlxeWpzeTJrOWt6cjV5dWhs\"\n},\n         {\n\"key\":\"cmVjaXBpZW50\",\n            \"value\":\"Ym5iMWw4Nnh0eTBtNTVyeWN0OXBueXB6NmNodnRzbXB5ZXdtaHJxd3h3\"\n},\n         {\n\"key\":\"YWN0aW9u\",\n            \"value\":\"c2VuZA==\"\n}\n]\n}\n}\n</code></pre></p>"},{"location":"transfer.html#verify-transfer-transaction","title":"Verify Transfer Transaction","text":"<p>To confirm that your transaction went through, you can use the following queries: <pre><code>{\"hash\":\"E79DE52B7D8F6BA93787C5B0389AF26C0C29C03BC84DAE42317965797E38076E\",\"height\":\"1412766\",\"tx\":{\"type\":\"auth/StdTx\",\"value\":{\"msg\":[{\"type\":\"cosmos-sdk/Send\",\"value\":{\"inputs\":[{\"address\":\"tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5\",\"coins\":[{\"denom\":\"SCOL\",\"amount\":\"20\"}]}],\"outputs\":[{\"address\":\"tscol1qq559fkes779t3q9p9aegnjplvtc53yg9vusah\",\"coins\":[{\"denom\":\"SCOL\",\"amount\":\"20\"}]}]}}],\"signatures\":[{\"pub_key\":{\"type\":\"tendermint/PubKeySecp256k1\",\"value\":\"AhOb3ZXecsIqwqKw+HhTscyi6K35xYpKaJx10yYwE0Qa\"},\"signature\":\"AlpHUBlC/V0cR7YNm5G46aAjmeRIxjkX9Vg8EtTKkfgPso+snT3/r2nRNjsphtjTonub3VYfE4lwOnjpY+Jwcg==\",\"account_number\":\"406226\",\"sequence\":\"27\"}],\"memo\":\"Test transfer\",\"source\":\"0\",\"data\":null}},\"result\":{\"log\":\"Msg 0: \",\"tags\":[{\"key\":\"c2VuZGVy\",\"value\":\"dGJuYjFzeWx5ancwMzJlYWpyOWN5bGxwMjZuMDQzMDBxenpyZTM4cXl2NQ==\"},{\"key\":\"cmVjaXBpZW50\",\"value\":\"dGJuYjFxcTU1OWZrZXM3Nzl0M3E5cDlhZWduanBsdnRjNTN5Zzl2dXNhaA==\"},{\"key\":\"YWN0aW9u\",\"value\":\"c2VuZA==\"}]}}\n</code></pre> As you can see from the example output, this transaction is executed at block height 1412766 and you could read about the details. Double check with blockchain explorer if you interact with the network through a  full-node.</p>"},{"location":"tss.html","title":"User Guide of Threshold Signature Scheme (TSS) in ScolCoin Chain","text":""},{"location":"tss.html#introduction","title":"Introduction","text":"<p>Threshold Signature Scheme (TSS) is a cryptographic protocol for distributed key generation and signing. TSS allows constructing a signature that is distributed among different parties (for example three users), and each user receives a share of the private signing key. To sign a transaction, at least two of these three users need to join. For individuals, threshold signatures allow for two-factor security or splitting the ability to sign between two devices so that a single compromised device won\u2019t put the money at risk. For businesses, threshold signatures allow for the realization of access control policies that prevent both insiders and outsiders from stealing corporate funds. TSS technology allows us to replace all signing commands with distributed computations.The private key is no longer a single point of failure.</p>"},{"location":"tss.html#motivation","title":"Motivation","text":"<p>A physical key must fit exactly into a keyhole to unlock a physical vault. But if this key is compromised or lost, the funds locked in the vault may no longer be safe. This simple approach of key management may make sense when a small sum is at stake. However, when the amount stored in the vault is large, it is wise to consider spreading the responsibility of key ownership between several trusted parties.</p> <p>Traditional MultiSig (multi-signature) is a more refined unlocking system that requires multiple independent keys to unlock the vault. MultiSig requires generating a larger private key and the vault has multiple locks - one for each key . More processing power is needed as participants have to sign additional signatures, which must then be checked individually by the network. This is not ideal, because a participant must leave traces showing exactly who signed and multiple parties must be online at the same time.</p> <p>With Threshold Signatures, all of the parties must forge the vault\u2019s lock together, in a modular way, where each party owns a share of the key. A TSS vault is indistinguishable from a regular vault and is hence universal, and it has the same privacy and verification cost of a regular vault. Even if only a subset of the keys is available, the vault may still be unlocked (this is known as meeting a threshold of participation).</p> <p>Combining TSS feature  with ScolCoin Chain client will help users manage their funds in a much safer way. TSS will be offered in an independent binary, but it will have some impact on the existing functions of eth-cli/eth-cli.</p>"},{"location":"tss.html#implementation","title":"Implementation","text":"<p>Many development resources have been poured into implementing TSS, a cryptographic protocol for distributed key generation and signing. TSS is now compatible and reusable for ECDSA-based blockchains, including ScolCoin Chain, Bitcoin, and Ethereum networks. We expect that members of the SCOL ecosystem and partner community can integrate this TSS library with their applications, such as wallets and custodians, and further develop this exciting new technology.</p> <p>With the support of the ScolCoin Chain community, we are happy to share the open-source code athttps://github.com/githubusername/githubrepo/tss-lib.</p>"},{"location":"tss.html#workflow","title":"Workflow","text":"<p>Let\u2019s take a look at the major steps in TSS:</p> <ul> <li> <p>Vault Initialization: the first step is for setting up tss parameters of each party. This will initialize the node's p2p listen address and setup a directory to save key. It's recommended that you should save your tss key in a different folder other than normal key info.</p> </li> <li> <p>Key Generation: the second step is also the most complex. We need to define the quorum policy: count of total parties (n) that holds secret shares and threshold (t) which means at least t + 1 parties need to take part in the signing process. We need to generate a key which will be public and used to verify future signatures. However, we also have to generate an individual secret for each party, which is called a secret share. The functions guarantee the same public key to all parties and a different secret share for each. In this way, we achieve: (1) privacy: no secret shares data is leaked between any parties, and (2) correctness: the public key is intact with secret share. They need to agree on the channel which they want to use for sending messages between each other. The channel will have its corresponding password. Both ID and password needs to be shared offline.</p> </li> <li> <p>Signing: this step involves a signature generation function. The input of each party will be its own secret share, created as output of the distributed key generation in the previous step. There is also public input known to all, which is the message to be signed. The output will be a digital signature, and the property of privacy ensures that no leakage of secret shares occurred during the computation.</p> </li> <li> <p>Verification: the verification algorithm remains as it is in the classical setting. To be compatible with single key signatures, ScolCoin Chain validator nodes can be able to verify the signature with the public key. The transaction will be no different from others.</p> </li> <li> <p>Vault Regroup:  Regroup will reset secret share and configs between all parties.It's recommend to switch the configuration periodically, say once a month. If some party lost his key, it's also necessory to reset the distribution once some party lost their key. Regroup will generate new_n secret share with new_t threshold. At least old_t + 1 should participant</p> </li> </ul>"},{"location":"tss.html#where-can-i-download-the-scol-tss-cli","title":"Where can I download the SCOL TSS CLI?","text":"<p>You can download tss client and ScolCoin Chain Commandline here:</p> <ul> <li> <p>Mainnet: https://github.com/githubusername/githubrepo/node-binary/tree/master/cli/prod/0.6.2-TSS-0.1.2</p> </li> <li> <p>Testnet: https://github.com/githubusername/githubrepo/node-binary/tree/master/cli/testnet/0.6.2-TSS-0.1.2</p> </li> </ul>"},{"location":"tss.html#how-to-use","title":"How to Use","text":"<ul> <li>Warning: Please test your TSS setup before use this on mainnet.</li> </ul> <p>Please backup your eth-cli home before use this tool:</p> <p><pre><code>cp -r ~/.eth-cli ~/.eth-cli_backup_tss (replace ~/.eth-cli with their eth-cli home)\n</code></pre> Please refer to this Example to help you understand the whole process</p>"},{"location":"tss.html#init","title":"Init","text":"<p><code>tss init</code> will create home directory of a new tss setup, generate p2p key pair.</p> <ul> <li>Here are the global transaction flags:</li> </ul> Name Type Description Note vault_name string name of the vault of this party password string the password of the vault must be 32 bytes or more, the default value is 48 home string Path to config/route_table/node_key/tss_key files, configs in config file can be overridden by command line argument the default value is \"~/.tss\" <ul> <li>Here are the flags for <code>tss init</code>:</li> </ul> Name Type Description Note kdf.iterations uint32 The number of iterations (or passes) over the memory. the default value is 13 kdf.key_length uint32 Length of the generated key (or password hash) \"must be 32 bytes or more, the default value is 48\" kdf.memory uint32 The amount of memory used by the algorithm (in kibibytes) the default value is 65536 kdf.parallelism uint8 The number of threads (or lanes) used by the algorithm. the default value is 4 kdf.salt_length uint32 Length of the random salt. 16 bytes is recommended for password hashing. the default value is 16 moniker string moniker of current party p2p.listen string Adds a multiaddress to the listen list"},{"location":"tss.html#describe","title":"Describe","text":"<p><code>tss describe</code> will show config and address of a tss vault</p> <ul> <li>Here are the flags for <code>tss describe</code>:</li> </ul> Name Type Description Note address_prefix string bech32 prefix of address (default \"scol\") <ul> <li>Example <pre><code>./tss describe\n\n&gt; please set vault of this party:\n[input vault name]\n&gt; Password to sign with this vault:\n[input password]\naddress of this vault: scol1\nconfig of this vault:\n{\n        \"p2p\": {\n                \"listen\": \"/ip4/0.0.0.0/tcp/59968\",\n                \"bootstraps\": null,\n                \"relays\": null,\n                \"peer_addrs\": [\n                        \"/ip4/127.0.0.1/tcp/59748\",\n                        \"/ip4/127.0.0.1/tcp/60022\"\n                ],\n                \"peers\": [\n                        \"test3\",\n                        \"test2\"\n                ],\n                \"DefaultBootstap\": false\n        },\n        \"Id\": \"\",\n        \"Moniker\": \"tss1\",\n        \"vault_name\": \"vault1\",\n        \"Threshold\": 1,\n        \"Parties\": 3,\n        \"log_level\": \"info\",\n        \"profile_addr\": \"\",\n        \"Home\": \"~/.tss\"\n}\n</code></pre></li> </ul>"},{"location":"tss.html#channel","title":"Channel","text":"<p><code>tss channel</code> will generate a channel ID for bootstrapping. One party can generate a channel, then share the generated channel ID with others offline.</p> <ul> <li>Here are the flags for <code>tss channel</code>:</li> </ul> Name Type Description Note channel_expire int expire time in minutes of this channel Default value is 30mins <p>It's advised to refresh the channels regularly.</p>"},{"location":"tss.html#keygen","title":"Keygen","text":"<p>This command will generate the private key and share the secret. Everyone needs to agree on the password of this private key. The password length must be larger than eight.</p> <p>Note: you need to make sure that all the parties are online.</p> <ul> <li>Here are the flags for <code>tss keygen</code>:</li> </ul> Name Type Description Note address_prefix string prefix of bech32 address the default value is <code>scol</code> channel_id string channel id for this session channel_password string password to this channel This password has to be set offline. And its length should be more than eight. p2p.peer_addrs []sting peer's multiplex addresses parties int total parities of this scheme threshold int threshold of this scheme, at least threshold + 1 parties need participant signing <p>if you want to add the generated key files in the eth-cli home, you can copy it to the home folder: <pre><code>eth-cli keys add --tss -t tss --tss-home ~/.test1 --tss-vault third test1_third\n</code></pre></p>"},{"location":"tss.html#regroup","title":"Regroup","text":"<p>This command will generate new_n secret from the same private key, and it will be shared with new_t threshold. At least old_t + 1 should participante in signing</p> <ul> <li>Here are the flags for <code>tss regroup</code>:</li> </ul> Name Type Description Note channel_password string channel password of this session channel_id string channel id of this session is_old string whether this party is old committee. If it is set to true, it will participant signing in regroup. There should be only t+1 parties set this to true for one regroup is_new_member string whether this party is new committee, for new party it will changed to true automatically. if an old party set this to true, its share will be replaced by one generated one new_parties int new total parties of regrouped scheme new_threshold int new threshold of regrouped scheme p2p.new_peer_addrs []sting unknown peer's multiple addresses parties int total parities of this scheme threshold int threshold of this scheme, at least threshold + 1 parties  need participant signing"},{"location":"tss.html#changes-to-eth-clieth-cli","title":"Changes to <code>eth-cli/eth-cli</code>","text":"<p>We added a new key type \u201ctss\u201d (just like the existing types: \u201clocal\u201d, \u201coffline\u201d, \u201cledger\u201d) to eth-cli which stands for tss secret share.</p> <p>To add a tss key into eth-cli\u2019s keystore: 1. Tss keygen command will automatically add generated secret share into default keystore (~/.eth-cli) with name \u201ctss__\u201d 2. User can manually specify tss\u2019s home, vault_name and a customized eth-cli home like: <pre><code>eth-cli keys add --home ~/.customized_cli --tss -t tss --tss-home ~/.test1 --tss-vault \u201cdefault\u201d my_name\n</code></pre> All other commands (i.e. send token, place order, delete key etc.) of eth-cli should support tss type key."},{"location":"tss.html#example","title":"Example","text":"<p>In this example, A, B and C are the parties who decided to share a private key together. They decided that any two of them can sign a transaction. To complete a TSS signing process, they need to follow the following steps:</p>"},{"location":"tss.html#step-1-init-tss","title":"Step 1: Init TSS","text":"<p>During this step, all parties from different machines have to initialite their P2P settings before generate the shared key.</p> A B C command ./tss init ./tss init ./tss init Interactive input &gt; please set moniker of this party:  tss1&gt; please set vault of this party:vault1&gt; please set password of thisvault:[input password]&gt; please input again:[input password] &gt; please set moniker of this party: tss2&gt; please set vault of this party:vault1&gt; please set password of this vault:[input password]&gt;please input again:[input password] &gt; please set moniker of this party:tss3&gt; please set vault of this party:vault1&gt; please set password of this vault:[input password]&gt; please input again:[input password] output Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 Files touched or generated ~/.tss/vault1/config.json        ~/.tss/vault1/node_key ~/.tss/vault1/config.json   ~/.tss/vault1/node_key ~/.tss/vault1/config.json    ~/.tss/vault1/node_key"},{"location":"tss.html#step-2-generate-channel-id-for-bootstraping","title":"Step 2: Generate Channel ID for bootstraping","text":"<p>In this step, the parties will create a secrect communication channel between them. One of then will generate the channel ID and share with others. In this example, A will generate the channel ID. B and C will not have to do anything. A can also specify the length for this channel session and the default time is 30 mins.</p> A B C command ./tss channel N/A N/A Interactive input &gt; please set expire time in minutes, (default: 30):[input time] N/A N/A output channel id: 5185D3EF597 N/A N/A"},{"location":"tss.html#step-3-generate-and-share-secret","title":"Step 3: Generate and Share Secret","text":"<p>In this step, the private key will be generated and shared between these three parties. All the parties have to be online at the sme time.</p> A B C command ./tss keygen --vault_name vault1 ./tss keygen --vault_name vault1 ./tss keygen --vault_name vault1 Interactive input &gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties  need participant signing: 1&gt; please set channel id of this session[enter ID]&gt; please input password (AGREED offline with peers) of this session:[enter password]&gt; please input password of this tss vault: [enter password] &gt;please input&gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties need participant signing: 1&gt; please set channel id of this session[enter ID]&gt;please input password (AGREED offline with peers) of this session: [enter password]&gt;please input password of this tss vault: [enter password] &gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties need participant signing: 1&gt; please set channel id of this session3085D3EC76D&gt; please input password (AGREED offline with peers) of this session: [enter password]Password of this tss vault: [enter password] output 18:00:09.777  INFO    tss-lib: party {0,tss1}: keygen finished! party.go:11318:00:09.777  INFO        tss: [tss1] received save data client.go:30418:00:09.777  INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss1_vault1        tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc 18:00:09.777  INFO : party {1,tss2}: keygen finished! party.go:11318:00:09.777  INFO        tss: [tss2] received save data client.go:30418:00:09.777  INFO        tss: [tss2] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss2_vault1       tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc 18:00:09.773  INFO    tss-lib: party {2,tss3}: keygen finished! party.go:11318:00:09.773  INFO        tss: [tss3] received save data client.go:30418:00:09.773  INFO        tss: [tss3] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss3_vault1        tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc Files touched or generated ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/config.json"},{"location":"tss.html#step-4-sign-transaction","title":"Step 4: Sign Transaction","text":"<p>In this steo, A and B decided to sign a transaction together. Both A and B will try to broadcast the transaction and only one of them will succeed.</p> A B C command eth-cli send --amount 1000000:SCOL --to tscol1mh3w2kxmdmnvctt7t5nu7hhz9jnp422edqdw2d --from tss_tss1_vault1 --chain-id SCOL-Chain-Ganges --node https://data-seed-pre-0-s1.scolcoin.com:443 --trust-node eth-cli send --amount 1000000:SCOL --to tscol1mh3w2kxmdmnvctt7t5nu7hhz9jnp422edqdw2d --from tss_tss2_vault1 --chain-id SCOL-Chain-Ganges --node https://data-seed-pre-0-s1.scolcoin.com:443 --trust-node NA Interactive input Password to sign with tss_tss1_vault1:[Enter password]&gt; Channel id:5185D3EF597please input password (AGREED offline with peers) of this session: [Enter password] Password to sign with tss_tss2_vault1:[Enter password]&gt; Channel id:5185D3EF597please input password (AGREED offline with peers) of this session: [Enter password] N/A output Committed at block 33600477 (tx hash: 4FB8096A93D545612A3B5DCE520622608C299C7742103A6BE34C444829BD83A5 ERROR: broadcast_tx_commit: Response error: RPC error -32603 - Internal error: Error on broadcastTxCommit: Tx already exists in cache N/A Files touched or generated N/A N/A N/A"},{"location":"tss.html#step-5-regroup-vault","title":"Step 5: Regroup Vault","text":"<p>First, please generate a new channel for messaging:</p> A B C command ./tss channel N/A N/A Interactive input &gt; please set expire time in minutes, (default: 30):[input time] N/A N/A output channel id: 3415D3FBE00 N/A N/A <p>Then, we can switch to the new channel for sending messages to each others.</p> A B C command ./tss regroup ./tss regroup ./tss regroup Interactive input &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] output INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp Files touched or generated ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key <ul> <li>New committee having different t-n from old committee</li> <li>Change 1-3 into 2-4 scheme.</li> <li>old parties (A, B) join new committee</li> <li>new parties (D, E) are newly-joined</li> </ul> D E command ./tss init  --vault_name vault1 ./tss init  --vault_name vault1 Interactive input &gt; please set moniker of this party: tss4&gt; please set password for key share:[Enter password]&gt; please intput again: [Enter password] &gt; please set moniker of this party: tss4&gt; please set password for key share:[Enter password]&gt; please intput again:[Enter password] output Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 <ul> <li>Regroup from 1-3 to 2-4, with 2 old parties (A and B) and 2 new parties (D and E)</li> </ul> A (old&amp;new committee) B (old&amp;new committee) D (new committee) E (new committee) command ./tss regroup/ --vault_name vault1 ./tss regroup  --vault_name vault1 ./tss regroup  --vault_name vault1 ./tss regroup  --vault_name vault1 Interactive input &gt; please input password: [Enter password] &gt; Participant as an old committee? [Y/n]: Y &gt; Participant as a new committee? [Y/n]: Y &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties   participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password: [Enter password] &gt; Participant as an old committee? [Y/n]: Y &gt; Participant as a new committee? [Y/n]: Y &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password: [Enter password] &gt; please set Old total parties(n): 3 &gt; please set Old threshold(t), at least t + 1 parties need participant signing: 1 &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password:[Enter password] &gt; please set Old total parties(n): 3 &gt; please set Old threshold(t), at least t + 1 parties need participant signing: 1 &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] output Files touched or generated ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/payment/config.json  ~/.tss/payment/pk.json  ~/.tss/vault1/sk.json"},{"location":"walletconnect-support.html","title":"Wallets with WalletConnect Support","text":"<ul> <li>List of Wallets Supporting WalletConnect on ScolCoin Chain</li> </ul> Number Wallet Name Network 1 Trust Wallet Mainnet 2 Math Wallet Mainnet 3 Meet.One Wallet Mainnet 4 Equal Wallet Mainnet&amp;Testnet 5 SafePal Wallet Mainnet 6 CoolWallet Mainnet 7 XWallet Mainnet 8 Atomic Wallet Mainnet 9 Cosmostation Wallet Mainnet&amp;Testnet 10 Infinity Wallet Mainnet&amp;Testnet"},{"location":"walletconnect.html","title":"WalletConnect","text":"<p>The ScolCoin Chain Web Wallet supports connecting with external wallet providers via the WalletConnect protocol.</p> <p>WalletConnect allows the user to scan a QR code from the wallet app to unlock and use their wallet seamlessly in the web UI.</p> <p>In order for this to work, some modifications to the standard WalletConnect protocol are used in the ScolCoin Chain wallet's implementation.</p> <p>See the list of wallets which support WalletConnect on ScolCoin Chain here</p>"},{"location":"walletconnect.html#connecting-via-walletconnect","title":"Connecting via WalletConnect","text":"<p>Wallet providers should make use of the WalletConnect Client SDK for their target programming language and OS. There are implementations on GitHub for iOS, Android, React Native, etc.</p>"},{"location":"walletconnect.html#protocol-differences","title":"Protocol Differences","text":"<p>Since we do not use Ethereum transactions, there are some differences:</p> <ul> <li> <p>Typically <code>sendTransaction</code> is used with Ethereum transaction parameters in WalletConnect dApp integrations. But in ScolCoin Chain's case, instead of invoking <code>sendTransaction</code> in the WalletConnect flow, the new <code>sendCustomRequest</code> call is used instead with a method called <code>scol_sign</code> (see below).</p> </li> <li> <p>The external wallet provider is responsible for sending back the signature and public key of the transaction but should not broadcast the transaction itself. We have instead defined a custom <code>result</code> format in the form of stringified JSON containing the signature and public key. The reason for this is that the wallet app probably does not have access to the complete serialized binary form of the transaction (as this requires Amino encoding).</p> </li> <li> <p>The web wallet will send back a second custom call (after <code>scol_sign</code>) called <code>scol_tx_confirmation</code>, which contains the boolean result of the transaction build/broadcast and any error message encountered by the web wallet during broadcasting. In a complete implementation, this confirmation callback should be responded to with a call to <code>approveRequest</code>.</p> </li> </ul>"},{"location":"walletconnect.html#sequence-diagram","title":"Sequence Diagram","text":"<p>This sequence diagram shows the flow of messages when the web wallet interacts with an external wallet provider via WalletConnect.</p> <p></p>"},{"location":"walletconnect.html#custom-requests","title":"Custom Requests","text":"<p>A custom call request adheres to this structure:</p> <pre><code>{\n\"id\": 1,\n\"jsonrpc\": \"2.0\",\n\"method\": \"method_name\",\n\"params\": [{ ... }],\n}\n</code></pre> <p>We have two custom call request formats, here are examples of them:</p>"},{"location":"walletconnect.html#example-scol_sign","title":"Example: scol_sign","text":"<pre><code>{\n\"method\": \"scol_sign\",\n\"params\": [\n{\n\"account_number\": \"34\",\n\"chain_id\": \"SCOL-Chain-Ganges\",\n\"data\": null,\n\"memo\": \"test\",\n\"msgs\": [\n{\n\"inputs\": [\n{\n\"address\": \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\",\n\"coins\": [\n{\n\"amount\": 1000000000,\n\"denom\": \"SCOL\",\n},\n],\n},\n],\n\"outputs\": [\n{\n\"address\": \"tscol1ss57e8sa7xnwq030k2ctr775uac9gjzglqhvpy\",\n\"coins\": [\n{\n\"amount\": 1000000000,\n\"denom\": \"SCOL\",\n},\n],\n},\n],\n},\n],\n\"sequence\": \"31\",\n\"source\": \"1\",\n}\n]\n}\n</code></pre>"},{"location":"walletconnect.html#response-approverequest","title":"Response (approveRequest)","text":"<p>A response like this should be sent back from the wallet app:</p> <pre><code>{\n\"id\": 1553682007906047,\n\"result\": \"{\\\"signature\\\":\\\"...\\\",\\\"publicKey\\\":\\\"...\\\"}\"\n}\n</code></pre> <p>In <code>result</code>, a JSON-encoded object must be included containing the following hex-string properties: <code>signature</code>, <code>publicKey</code>.</p> <p>Note that:</p> <ul> <li> <p><code>id</code> and <code>jsonrpc</code> are usually pre-filled by the client SDK, so there should be no need to set this in the object yourself.</p> </li> <li> <p><code>signature</code> should be 64 bytes in length (128 hex chars)</p> </li> <li> <p><code>publicKey</code> should be 65 bytes in length (130 hex chars, non-compressed form, prefixed with <code>0x04</code>)</p> </li> </ul>"},{"location":"walletconnect.html#example-scol_tx_confirmation","title":"Example: scol_tx_confirmation","text":"<pre><code>{\n\"method\": \"scol_tx_confirmation\",\n\"params\": [\n{\n\"ok\": true,\n\"error\": \"Error message (optional)\"\n}\n]\n}\n</code></pre> <p>Receipt of the <code>scol_tx_confirmation</code> should be confirmed by the app with <code>approveRequest</code> as per the WalletConnect protocol flow.</p> <p>For this response, <code>result</code> may be empty or contain an empty JSON-encoded object:</p>"},{"location":"walletconnect.html#response-approverequest_1","title":"Response (approveRequest)","text":"<p>A response like this should be sent back from the wallet app:</p> <pre><code>{\n\"id\": 1553682007906050,\n\"result\": \"\"\n}\n</code></pre>"},{"location":"walletconnect.html#ending-the-session","title":"Ending the Session","text":"<p>Remember to call <code>killSession()</code> when the user has finished using the integration from your app!</p> <p>This will redirect the user back to the unlock screen in the web wallet.</p>"},{"location":"wallets.html","title":"Wallet Support","text":"<ul> <li>List of Wallets Supporting ScolCoin Chain Mainnet</li> </ul> Number Wallet Name Website DEX Feature Available Testnet Support WalletConnect Support 1 Trust Wallet https://trustwallet.com/ Yes Yes Yes 2 Trubi Wallet https://trubi.io/ Yes No Yes 3 Ledger (Hardware Wallet) https://www.ledger.com/ Yes, via SCOL.org and Trubi Yes, via SCOL.org and Trubi Yes, via SCOL.org and Trubi 4 CoolWallet (Hardware Wallet) https://coolwallet.io/ Yes, via SCOL.org and Trubi Yes, via SCOL.org and Trubi Yes, via SCOL.org and Trubi 5 Arkane https://arkane.network/ Yes Yes No 6 Enjin https://enjinwallet.io/ No No No 7 Magnum Wallet https://magnumwallet.co/ Yes No Yes 8 Coinomi Wallet http://coinomi.com/ Yes No Yes 9 Atomic Wallet https://atomicwallet.io/ No No Yes 10 ZelCore Wallet https://zeltrez.io/ Yes No Yes 11 Infinito Wallet https://www.infinitowallet.io/ Yes No Yes 12 Math Wallet https://www.mathwallet.org/en/ Yes No Yes 13 Ellipal Wallet https://www.ellipal.com/ Yes No No 14 Exodus https://www.exodus.io/ No No No 15 HooWallet https://hoo.com/ No No No 16 MEET.ONE Wallet https://meet.one/ Yes No Yes 17 Guarda Wallet https://guarda.co/ No No No 18 DDEX Wallet https://ddex.io/ Yes No No 19 Equal Wallet https://equal.tech/ Yes Yes Yes 20 Pundi X Wallet https://pundix.com/ No No No 21 Arax Wallet https://arax.io No No No 22 SafePal Wallet (Hardware Wallet) https://www.safepal.io Yes No Yes 23 Zengo Wallet https://zengo.com/ No No No 24 TokenPocket Wallet https://www.tokenpocket.pro/ No No Yes 25 Cobo Wallet https://cobo.com/ No No Yes 26 Midas Wallet https://www.midasprotocol.io No No No 27 Cosmostation Wallet https://www.cosmostation.io/ No Yes Yes 28 Trezor https://trezor.io/ No No Yes 29 Mixin https://mixin.one No No No 30 Ownbit https://ownbit.io No No No 31 Frontier https://frontierwallet.com/ No Yes No 32 D'CENT Wallet https://dcentwallet.com/ No Yes No 33 Infinity Wallet (Desktop Wallet) https://infinitywallet.io/ Yes No Yes"},{"location":"faq/faq.html","title":"ScolCoin Chain FAQ v0.5","text":""},{"location":"faq/faq.html#what-is-scolcoin-chain-or-scol-dex","title":"What is ScolCoin Chain, or SCOL DEX?","text":"<p>ScolCoin Chain is the blockchain initially developed by SCOL and community. SCOL DEX is the decentralized exchange module developed on top of the ScolCoin Chain blockchain.</p>"},{"location":"faq/faq.html#what-is-the-design-principle-of-scolcoin-chain","title":"What is the design principle of ScolCoin Chain?","text":"<p>The main focuses for the design of ScolCoin Chain are:</p> <ul> <li>No custody of funds: traders maintain control of their private keys and funds.</li> <li>High performance: low latency, high throughput for a large user base, and high liquidity trading. We target to achieve 1 second block times, with 1 confirmation finality.</li> <li>Low cost: in both fees and liquidity cost.</li> <li>Easy user experience: as friendly as SCOL.com.</li> <li>Fair trading: minimize front-running, to the extent possible.</li> <li>Evolvable: able to develop with forever-improving technology stack, architecture, and ideas.</li> </ul>"},{"location":"faq/faq.html#what-can-you-do-on-scolcoin-chain","title":"What can you do on ScolCoin Chain?","text":"<p>You can:</p> <ul> <li>Send and receive SCOL</li> <li>Issue new tokens</li> <li>Send, receive, burn/mint and freeze/unfreeze tokens</li> <li>Propose to create trading pairs between two different tokens</li> <li>Send orders to buy or sell assets through trading pairs created on the chain</li> </ul>"},{"location":"faq/faq.html#will-scolcoin-chain-introduce-more-features-and-transaction-types-in-the-future","title":"Will ScolCoin Chain introduce more features and transaction types in the future?","text":"<p>Yes, ScolCoin Chain team and community would cherish the technology advancements and recommended trends and strive to make circulation of assets and value easier and easier.</p>"},{"location":"faq/faq.html#what-is-the-native-coin-on-scolcoin-chain","title":"What is the native coin on ScolCoin Chain?","text":"<p>The ScolCoin, SCOL, is the native asset on ScolCoin Chain. There are 200MM ScolCoins in total. There will be no mining. The existing coin burns and freezes will still be in effect on the new ScolCoin Chain blockchain.</p> <p>The exact number of ScolCoins will be destroyed based on the same number of SCOL ERC20 tokens that have already been destroyed.</p> <p>Since ScolCoin Chain is live, all SCOL ERC20 tokens will be swapped for ScolCoin Chain coins. All users who hold SCOL ERC20 tokens can deposit them to SCOL.com, and upon withdrawal, the new ScolCoin Chain native coins will be sent to their new wallets.</p>"},{"location":"faq/faq.html#how-can-i-register-on-scolcoin-chaindex-and-start-trading","title":"How can I register on ScolCoin Chain/DEX and start trading?","text":"<p>There is no need to register. All you need is a ScolCoin Chain address, which can be generated with any wallet that supports ScolCoin Chain. Then you can trade SCOL or other assets stored on that address.</p>"},{"location":"faq/faq.html#how-can-i-send-orders-on-scol-dex","title":"How can I send orders on SCOL DEX?","text":""},{"location":"faq/faq.html#order","title":"Order","text":"<p>On SCOL DEX, you can send \"new order\" messages to buy or sell certain assets. You can also send \"cancel\" messages to cancel existing open orders.</p> <p>You can use a wallet to send new orders and cancels. SCOL DEX also provides API for automated trading.</p> <p>In SCOL DEX v1.0, the order message contains:</p> <ul> <li>Symbol: trading pair on the chain</li> <li>Side: buy or sell</li> <li>Price: only limit price orders are supported in ScolCoin Chain v1.0</li> <li>Amount</li> <li>Time In Force: SCOL DEX supports <code>Immediate Or Cancel</code> (IOC) and <code>Good Till Expiry</code> (GTE) orders. GTE orders can quote on the exchange until they are filled by the opposite orders satisfying the limit price, or canceled by client themselves, or expire after 72 hours after 00:00 (UTC). Check the \"What is <code>Order Expire</code>\" section of the FAQ for more information.</li> </ul> <p>Network nodes examine orders to ensure they are valid. Once the orders are accepted, they are booked on the next block, and get matched accordingly.</p>"},{"location":"faq/faq.html#what-is-immediate-or-cancel-order","title":"What is <code>Immediate Or Cancel order</code>?","text":"<p>Immediate Or Cancel is a special order type. Once the order is accepted into a block, Immediate Or Cancel orders only exist in this block round. The order may get filled to zero, or partially or fully filled by other orders, and then will become expired and removed from the order book right away. As a result, it will not be tradable in the next round of matching. A small fee will be charged for the network usage, if there is no fill at all for the order (deemed as no intention to trade).</p>"},{"location":"faq/faq.html#match","title":"Match","text":"<p>SCOL DEX does all of its matching on the blockchain, i.e. all nodes perform the matches and expect the same result. This is to ensure the maximum transparency and to mitigate the chance for front-running, even from the block producers. The matching infrastructure is expected to evolve and grow in capacity as time progresses.</p> <p>SCOL DEX doesn't do continuous matching as most centralized exchanges do. Instead, it matches using periodic auction matching for all the existing open orders received in the past and the latest blocks. The match logic is explained in more detail later.</p>"},{"location":"faq/faq.html#trade","title":"Trade","text":"<p>Once the orders are filled, the corresponding assets will be automatically moved into buyers' addresses. The confirmation is instant and no need to wait for further blocks (i.e. T+0 block). Buyers can use the bought asset right away, either send it to another address or trade it again.</p>"},{"location":"faq/faq.html#what-is-order-expire","title":"What is <code>Order Expire</code>?","text":"<p>Orders accepted by SCOL DEX will either get filled with other orders or remain in the order book, but they will not stay on the order book forever. These orders will expire and be removed from the order book after the 1st midnight (UTC) after 72 hours once the order gets accepted. A small fee will be charged for the network usage, if there is no fill at all for the order (deemed as no intention to trade).</p>"},{"location":"faq/faq.html#where-can-i-see-my-assets-and-trades","title":"Where can I see my assets and trades?","text":"<p>You can always use wallets that support ScolCoin Chain to check your asset balances, open orders, and (optionally) order/trade history. ScolCoin Chain Explorer is another tool to check balances and transactions.</p>"},{"location":"faq/faq.html#when-can-i-see-my-order-on-the-blockchain-after-i-send-it","title":"When can I see my order on the blockchain after I send it?","text":"<p>It depends. Normally, if you connect to one of the Accelerated Nodes, your orders should get accepted and booked into a block in 1-3 seconds. If the order price is marketable, the order will be filled and trades will come back in about similar time. If you send the order from far-way (self-setup full node), or there is heavy network traffic, the order may take longer to reach a Validator (block producer).</p>"},{"location":"faq/faq.html#what-is-the-fee-structure","title":"What is the Fee Structure?","text":"<p>Fees are charged and shared among the block producers (i.e. Validators) to run the network, in order to pay for the network usage and prevent abuse and attack. Since all user transactions, include transfer, new order, cancel etc, they are all recorded in blocks and chain state, the fee will be shared among different transactions. New orders are exempt from fees to encourage usage and larger trades will be charged more for their benefits from the liquidity provided in the network. Order Expire and Cancel are also charged with a fee if they fail to provide any liquidity. The current fee table is here</p> <p>Besides the fees, no other gas will be charged.</p> <p>Fees can be paid in any asset, but the network will charge SCOL first and apply a discount if the address has SCOL balance.</p> <p>The fee is subject to periodical review and adjustment, after agreement from validators, via a proposal-vote procedure. See a fee-change proposal here</p> <ul> <li>Trade fee is calculated based on trade notional value, while fees for other transactions are fixed.</li> <li>It is free to send a new GET order, cancel a partially filled order, or expire a partially filled order.</li> <li>Non-Trade related transactions will be charged with a fee when the transactions happen, and can only be paid in SCOL. The transaction will be rejected if the address does not have enough SCOL.</li> <li>Trade-related transactions will be charged with a fee when an order is filled, or canceled/expired/IOC-expired with no fills. If there is enough SCOL to pay, SCOL fee structure will be used, otherwise, non-SCOL fee structure will be used instead.</li> <li>If the whole order value and free balance for the receiving asset are not enough to pay the fee, all the receiving asset and its residual balance will be charged.</li> </ul>"},{"location":"faq/faq.html#what-is-the-current-fee-table-on-scolcoin-chain-mainnet","title":"What is the current Fee Table on ScolCoin Chain Mainnet?","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Mainnet as of 2021-03-21 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"faq/faq.html#what-is-the-current-fee-table-on-scolcoin-chain-testnet","title":"What is the current Fee Table on ScolCoin Chain Testnet?","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Testnet as of 2021-03-17 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"faq/faq.html#can-i-see-ordersbalances-of-others-or-can-other-people-see-my-ordersbalances","title":"Can I see orders/balances of others or can other people see my orders/balances?","text":"<p>Yes, anyone can see anyone's orders and balances if they know the corresponding addresses. ScolCoin Chain is 100% transparent for transactions and balances.</p>"},{"location":"faq/faq.html#information-provided-through-api-and-their-usage","title":"Information provided through API and their usage","text":""},{"location":"faq/faq.html#is-there-any-limit-to-using-the-api-to-send-orders-or-check-market-data","title":"Is there any limit to using the API to send orders or check market data?","text":"<p>Yes, there are rate limits to ensure there is no waste or abuse of the network infrastructure. Please check the API documentation.</p>"},{"location":"faq/faq.html#what-does-wallet-and-api-cost-to-use","title":"What does Wallet and API cost to use?","text":"<p>No fee or commission at all (free to use).</p>"},{"location":"faq/faq.html#what-market-data-can-i-get","title":"What Market Data can I get?","text":"<p>The market data provided via Wallet and API are similar to SCOL.com, including ticker data, order book, trade and Kline. They can be seen in the Wallet and read from REST or WebSocket API. Please check the API documentation for details.</p>"},{"location":"faq/faq.html#what-are-the-tick-size-and-lot-size-are-they-fixed","title":"What are the tick size and lot size? Are they fixed?","text":"<p>Tick size is the minimum unit to increase or decrease for the price (in quote asset) of an order, while lot size is the minimum unit to increase or decrease for the quantity (in base asset) of an order. They are not the same as on SCOL.com. They can be queried from API or checked from Wallet UI.</p> <p>Tick Size and lot size are not fixed. ScolCoin Chain will automatically/periodically review the values to make sure proper order size and notional is applied.</p>"},{"location":"faq/faq.html#are-there-limits-on-notional-value-of-an-order","title":"Are there limits on notional value of an order?","text":"<p>The smallest order you can send for a trading pair is 1 lot size quantity at 1 tick size price. No other limits.</p>"},{"location":"faq/faq.html#what-is-the-decimal-precision-for-prices-and-quantities-on-scolcoin-chaindex","title":"What is the decimal precision for prices and quantities on ScolCoin Chain/DEX?","text":"<p>Amounts are represented as integers, and all coins have a fixed scale of 8. This means that if a balance of 100000000 were to be exposed to a wallet integrator, this will represent a balance of 1 coin.</p>"},{"location":"faq/faq.html#i-forgot-the-private-key-for-my-address-how-can-i-get-it-back","title":"I forgot the private key for my address, how can I get it back?","text":"<p>Sorry, you cannot. Owner of the address takes full responsibility for the private key protection. ScolCoin Chain and official wallets do not have your private key.</p>"},{"location":"faq/faq.html#my-private-key-got-stolen-by-hackers-how-can-i-recover-my-assets","title":"My private key got stolen by hackers, how can I recover my assets?","text":"<p>Sorry, you take full responsibility of your private key ownership and protection. ScolCoin Chain and official wallets will not record, or transfer out your private key.</p>"},{"location":"faq/faq.html#what-is-the-accelerated-node","title":"What is the Accelerated Node?","text":"<p>While users can submit transactions and most of the queries via normal, self-run full nodes. Accelerated Node provides more secure and faster lines to access ScolCoin Chain.</p> <p>Accelerated Node is special infrastructure built around Validator to facilitate accelerated transaction routing and provide richer, faster user interfaces. There are always several Accelerated Nodes running at the same time around the world (owned by different organizations) and you are encouraged to choose one of them to use, or allow your Wallet choose one randomly. For rapid API access, you'd better stay with one Accelerated Node to get better performance.</p>"},{"location":"faq/faq.html#how-can-i-issue-an-asset","title":"How can I issue an asset?","text":"<p>Anyone can pay a fee and issue an asset as Token on ScolCoin Chain, as long as they provide proper information for the fields below, and then execute the command through the command line or http interfaces.</p> <ul> <li>Name: a description string of less than 21 characters</li> <li>Symbol: an identifier string less than 9 characters, which must be composed of [0-9A-Z]</li> <li>Total Supply: a positive number less than or equal to 90 billions</li> <li>Mint-able: whether the token can increase Total Supply in later time or not</li> </ul>"},{"location":"faq/faq.html#what-is-the-consensus-algorithm-used-on-scolcoin-chain","title":"What is the consensus algorithm used on ScolCoin Chain?","text":"<p>ScolCoin Chain uses BFT and PoS (upcoming) based consensus mechanism to produce blocks among a series of qualified Validators. This is similar to the architectures of several existing popular blockchain platforms such as EOS and NEO. The process for setting up validators among different entities on ScolCoin Chain is currently being defined. More details will be shared at a later date.</p>"},{"location":"faq/faq.html#can-i-run-a-full-node-for-scolcoin-chain","title":"Can I run a full node for ScolCoin Chain?","text":"<p>Yes, you can. A full node contains all the information and application logic for ScolCoin Chain. It can receive and broadcast blocks and transactions with other full nodes and even validators. The only exception is it will not participate in the consensus if the full node is not a Validator.</p>"},{"location":"faq/faq.html#does-scolcoin-chain-support-smart-contracts","title":"Does ScolCoin Chain support Smart Contracts?","text":"<p>No. This was an intentional design decision to improve the performance of the system and eliminate having to support unnecessary features.</p> <p>If you have certain must-have feature-s, it might be added as a native implementation instead of using smart contract. Feel free to talk to SCOL community.</p>"},{"location":"faq/faq.html#how-can-i-transfer-tokens-such-as-bitcoin-from-other-block-chains-onto-scolcoin-chain","title":"How can I transfer tokens, such as Bitcoin, from other block chains onto ScolCoin Chain?","text":"<p>Right now, there are 2 ways to transfer tokens cross-chain:</p> <ol> <li>via interoperability among different chains. After the latest \u201cArchimedes\u201d upgrade, BEP3 was introduced and it defines native transactions to support Hash Timelock Contract (HSCOL) on ScolCoin Chain and it also to defines the infrastructure standard and procedure to use HSCOL for inter-chain atomic swap to easily swap tokens on different chains. ScolCoin Chain development community has finished implementing its solution for BEP3 with BEP2 and ERC20 tokens and decided to open-source all of the key components, including\uff1a</li> <li>smart-contract solution that supports Atomic Peg Swap (APS) for Ethereum. Please note that this solution is already audited by 3rd party.</li> <li>deputy process written in GoLang that handles swap activities</li> </ol> <p>Any developer is welcome to test the solutions in testnet and then use them in mainnet.</p> <ol> <li>via SCOL.com. SCOL,the largest cryptocurrency exchange, has issued a number of crypto-pegged tokens on ScolCoin Chain (BEP2 token format): BEP2 Bitcoin, BEP2 BCH,BEP2 XRP, BEP2 LTC. Pegged tokens such as BEP2 Bitcoin, are 100% backed by the native coin in reserve. The reserve addresses are published for anyone to audit. Read this blog to learn about the reserved address. Users are free to convert between native and BEP2 Bitcoin via deposit/withdrawal. This has a higher degree of ease-of-use for most traders. More swap channels will be provided on partner wallets soon.</li> </ol> <p>Atomic swap and this centralized approach are not exclusive to other decentralized approaches, which can also be implemented in parallel. There are many cross-chain solutions being developed and we are very interested in them.</p> <p>Please do NOT try to transfer anything on existing network to ScolCoin Chain testnet, you may experience loss by doing so, because testnet doesn't run with real coins.</p>"},{"location":"faq/faq.html#how-is-a-trading-pair-created-on-scol-dex","title":"How is a trading pair created on SCOL DEX?","text":"<p>The design philosophy of SCOL DEX adheres to the idea that the most efficient and low cost way to perform trading and price-discovery is still to use single order book. This single order book is managed and replicated across all full nodes with the same, deterministic matching logic.</p> <p>Simply allowing trading between two assets seems easy enough, however it is expensive for not only the network but also its users in long term (and liquidity costs can be much larger). In order to efficiently use the network, ScolCoin Chain only list assets against SCOL and other widely accepted market quote assets.</p> <p>After an asset is issued, which costs a small fee, anyone can \"propose\" to all validators to list it against particular quote assets. Validators then vote to accept the proposal. A deposit is taken to prevent network abuse. Once the proposal is accepted, the owner of the base asset can list the trading pair.</p> <p>For more information about this process please check the listing guide.</p>"},{"location":"faq/faq.html#how-would-a-third-party-integrate-with-scolcoin-chain-and-scol-dex","title":"How would a third-party integrate with ScolCoin Chain and SCOL DEX?","text":"<p>A wallet provider may choose to only support the feature set of ScolCoin Chain, which would just cover wallets, addresses, balances and transfers. To improve their implementation further, they could choose to integrate SCOL DEX which would add trading (order placement and cancellation), historical order and trade views, charts, etc.</p>"},{"location":"faq/nc/cross.html","title":"Cross-chain Communication","text":""},{"location":"faq/nc/cross.html#how-much-is-cross-chain-transfer-fee","title":"How much is cross-chain transfer fee?","text":"<p>The total cost of transfer from BC to SCOL is composed of 2 parts:</p> <ul> <li> <p>Fee for executing <code>bridge transfer-out</code> transaction is 0.004SCOL,  pay validators on ScolCoin Chain</p> </li> <li> <p>Fee for TC-relayers 0.004SCOL. it will cover the fees of calling TokenHub Contract on TC.</p> </li> </ul> <p>The total cost of transfer from SCOL to BC is composed of 2 parts:</p> <ul> <li> <p>Fee for Oracle-relayers 0.004SCOL, pay for SCOL relayers</p> </li> <li> <p>Call TokenHub Contract: You need to pay SCOL for calling smart-contract on TC, this transaction is metered by gas, which is a global parameter. At the moment, you need to pay about 0.0005SCOL ~ 0.0015SCOL.</p> </li> </ul>"},{"location":"faq/nc/cross.html#whats-is-a-scol-relayer","title":"What's is a SCOL relayer?","text":"<p>NCrelayer monitors cross chain packages on ScolCoin Chain, builds and broadcasts transactions to SCOL to deliver these packages, which is the key of cross chain communication from ScolCoin Chain to TC.</p>"},{"location":"faq/nc/cross.html#whats-is-an-oracle-relayer","title":"What's is an Oracle relayer?","text":"<p>Oracle Relayer watches the state change of ScolCoin Chain. Once it catches Cross-Chain Communication Events, it will submit to vote for the requests. After Oracle Relayers from \u2154 of the voting power of BC validators vote for the changes, the cross-chain actions will be performed. Only validators of ScolCoin Chain are eligible to run Oracle relayers.</p>"},{"location":"faq/nc/cross.html#whats-an-oracle","title":"What's an oracle?","text":"<p>In blockchain network, an oracle refers to the element that connects smart contracts with data from the outside world. In the network of ScolCoin Chain, the execution of the transanction wil emit Events, and such events can be packaged and relayed onto BC. In this way, BC will get updates about changes of TC.</p>"},{"location":"faq/nc/cross.html#which-wallet-support-cross-chain-transfer","title":"Which wallet support cross-chain transfer?","text":"<p>You need to use MyEtherWallet to call contracts and use ScolCoin Chain commandline client: <code>eth-cli</code>/ <code>eth-cli</code> for complementary commands</p> <p>Please refer to this guide for details</p>"},{"location":"faq/nc/cross.html#how-to-send-cross-chain-transfer","title":"How to send cross-chain transfer?","text":"<p>You can use ScolCoin Chain extension wallet or</p> <p>use Trust wallet</p>"},{"location":"faq/nc/del.html","title":"ScolCoin Chain Delegator","text":""},{"location":"faq/nc/del.html#whats-the-role-of-a-delegator","title":"What's the role of a delegator?","text":"<p>A delegator can delegate its SCOL to a chosen validator to participate the consensus and earn rewards.</p> <p>Staking SCOL directly contributes to the security of the entire network.</p>"},{"location":"faq/nc/del.html#how-to-delegate-my-scol","title":"How to delegate my SCOL?","text":"<p>Please read the guide here</p> <p>You can use:</p> <ul> <li>ScolCoin Chain extension wallet</li> <li>Math Wallet</li> <li>command line tool</li> </ul>"},{"location":"faq/nc/del.html#how-to-undelegate-my-scol","title":"How to undelegate my SCOL?","text":"<p>Delegates and validators themselves may choose to unbond their SCOL for a variety of reasons. It is important to note that these SCOL are subject to what is known as the UnbondingTime, an on-chain parameterized period of time upon which all delegates, including validators, must wait for their SCOL to become fully unbonded. In addition, these SCOL are still subject to be potentially slashed upon commitment of any byzantine behavior. The UnbondingTime ensures a variety of security measures in the network, such as accounting for network synchrony assumptions, providing a lower bound for the length of a long-range attack and solving the \u201cnothing-at-stake\u201d problem.</p> <p>The current  UnbondingTime  in ScolCoin Chain mainnet is 7 days.</p>"},{"location":"faq/nc/del.html#how-to-redelegate-my-scol","title":"How to redelegate my SCOL?","text":"<p>Redelegations between a unique delegator, source validator, and destination validator can only happen once every UnbondingTime</p>"},{"location":"faq/nc/del.html#how-many-tokens-are-required-to-stake-scol","title":"How many tokens are required to stake SCOL?","text":"<p>The minimum delegated amount is 1SCOL.</p>"},{"location":"faq/nc/del.html#how-to-claim-my-rewards","title":"How to claim my rewards?","text":"<p>You can read about the details here</p>"},{"location":"faq/nc/del.html#when-can-i-receive-my-staking-rewards","title":"When can I receive my staking rewards?","text":"<p>Since validatorset info is updated every day UTC 00:00, to make some room for the error handling, we distribute the fees of day N-1 in the next breathe block (day N+1). Thus, after you sent delegate transaction, you will receive your first staking rewards at the second UTC 00:00. Afterwards, you will receive your rewards everyday at UTC 00:00.</p>"},{"location":"faq/nc/del.html#when-can-i-receive-my-undelegated-scol","title":"When can I receive my undelegated SCOL?","text":"<p>Since Unbonding Period is 7 days. Thus, after you sent undelegate transaction, your staked SCOL will not  receive any rewards since the next UTC 00:00. After 7 days start from the next UTC 00:00, you will receive your SCOL .</p>"},{"location":"faq/nc/del.html#whats-the-potential-loss-for-delegators","title":"What's the potential loss for delegators?","text":"<p>The only risk for delegators is the loss of rewards when their staked validator is slashed. Their staked SCOL will not be impacted.</p>"},{"location":"faq/nc/del.html#can-a-validator-run-away-with-their-delegators-scol","title":"Can a validator run away with their delegators' SCOL?","text":"<p>By delegating to a validator, a user delegates voting power.  This does not mean that the validator has custody of their delegators' SCOL. By no means can a validator run away with its delegator's funds.</p>"},{"location":"faq/nc/eco.html","title":"ScolCoin Chain Ecosystem","text":""},{"location":"faq/nc/eco.html#how-is-scolcoin-chain-ecosystem","title":"How is ScolCoin Chain Ecosystem?","text":"<p>https://github.com/githubusername/githubrepo</p>"},{"location":"faq/nc/eco.html#how-to-send-and-receive-scol-on-smart-chain","title":"How to Send and Receive SCOL on Smart Chain?","text":"<p>SCOL.com can withdraw SCOL to TC.</p> <ol> <li> <p>If you don't have an existing address of ScolCoin Chain, please use these wallets to create one.</p> </li> <li> <p>On your SCOL account, open your SCOL wallet then tap on Withdraw. Select SRC20 as the Network. Indicate the amount and paste your SCOL address.</p> </li> <li> <p>Complete the steps to withdraw</p> </li> <li> <p>Wait for the exchange to process your request. Once it is confirmed, you will immediately receive SCOL to your Smart Chain address.</p> </li> </ol>"},{"location":"faq/nc/general.html","title":"ScolCoin Chain  Information","text":""},{"location":"faq/nc/general.html#where-will-the-published-whitepaper-be-found","title":"Where will the published whitepaper be found?","text":"<p>https://scolcoin.com/whitepaper.pdf and also https://github.com/githubusername/githubrepo/whitepaper, where feedback is more than welcome.</p>"},{"location":"faq/nc/general.html#where-can-i-take-a-look-at-scolcoin-chain-code-is-there-a-github-repository","title":"Where can I take a look at ScolCoin Chain code? Is there a GitHub repository?","text":"<p>The codebase of SCOL is open-sourced here:</p> <ul> <li>https://github.com/githubusername/githubrepo</li> </ul>"},{"location":"faq/nc/general.html#where-can-i-find-some-support","title":"Where can I find some support?","text":"<ul> <li>Technical talk and support running our software: Telegram https://t.me/yourtelegram</li> <li>Bugs or technical contributions: GitHub</li> </ul>"},{"location":"faq/nc/general.html#which-are-scolcoin-chains-official-channels-for-communication-and-information","title":"Which are ScolCoin Chain's official channels for communication and information?","text":"<ul> <li>SCOL DEX announcements: https://t.me/yourtelegram/scolcoinnews</li> <li>Twitter: https://twitter.com/yourtwitter</li> </ul>"},{"location":"faq/nc/general.html#wallet-support-for-scolcoin-chain","title":"Wallet support for ScolCoin Chain","text":"<ul> <li>MetaMask</li> <li>Ledger</li> </ul>"},{"location":"faq/nc/general.html#how-to-recover-if-you-choose-the-wrong-network-type","title":"How to recover if you choose the wrong network type?","text":"<p>Please read this guide</p>"},{"location":"faq/nc/nc.html","title":"ScolCoin Chain","text":""},{"location":"faq/nc/nc.html#what-is-scolcoin-chain","title":"What is ScolCoin Chain?","text":"<p>ScolCoin Chain brings EVM-compatible programmability and native cross-chain communication with ScolCoin Chain using an innovative consensus of Proof of Authority(PoA)</p>"},{"location":"faq/nc/nc.html#why-is-scolcoin-chain-designed-as-a-separate-chain-from-scolcoin-chain","title":"Why is ScolCoin Chain designed as a separate chain from ScolCoin Chain?","text":"<p>The execution of a Smart Contract may slow down the exchange function and add non-deterministic factors to trading. Even if that compromise could be tolerated, it might be a straightforward idea to introduce a new Virtual Machine specification based on Tendermint, based on the current underlying consensus protocol and major RPC implementation of ScolCoin Chain. But all these will increase the learning requirements for all existing dApp communities, and will not be very welcomed.</p>"},{"location":"faq/nc/nc.html#how-does-scolcoin-chain-work-what-is-the-architecture-and-consensus-used","title":"How does ScolCoin Chain work? What is the architecture and consensus used?","text":"<p>ScolCoin Chain relies on a system with Proof of Authority (PoA) consensus that can support short block time and lower fees.</p> <p>There will be fewer validators on ScolCoin Chain testnet.</p>"},{"location":"faq/nc/nc.html#can-you-tell-more-about-proof-of-staked-authorityposa-what-is-it","title":"Can you tell more about Proof of Staked Authority(PoSA)? What is it?","text":"<p>PoSA is a combination of PoA and PoS. Blocks are produced by a limited set of validators, they are elected in and out based on a staking based governance. Validators take turns to produce blocks in a PoA manner</p>"},{"location":"faq/nc/nc.html#what-are-the-benefits-for-developers-to-build-on-scolcoin-chain","title":"What are the benefits for developers to build on ScolCoin Chain?","text":"<ul> <li>EVM-compatible: ScolCoin Chain supports all the existing Ethereum tooling Fast block time, cheaper cost</li> <li>Native cross-chain trasfer &amp; communication: SCOL DEX remains a liquid venue of exchange of assets on ScolCoin Chain and ScolCoin Chain\"</li> </ul>"},{"location":"faq/nc/nc.html#what-are-the-benefits-for-developers-to-build-on-scolcoin-chain_1","title":"What are the benefits for developers to build on ScolCoin Chain?","text":"<p>ScolCoin Chain opens the gate for users to take advantage of the fast transferring and trading</p>"},{"location":"faq/nc/nc.html#what-make-scolcoin-chain-different","title":"What make ScolCoin Chain different?","text":"<p>Key Innovations:</p> <ul> <li> <p>Proof-of-authority Consensus</p> </li> <li> <p>Native Cross-Chain Communication</p> </li> <li> <p>Expand the use cases of SCOL token</p> </li> </ul>"},{"location":"faq/nc/nc.html#scolcoin-chain-is-evm-compatible-what-does-that-mean","title":"ScolCoin Chain is EVM-compatible. What does that mean?","text":"<p>EVM means Ethereum Virtual Machine. Any smart-contract written to run in EVM can be easily ported to ScolCoin Chain.</p>"},{"location":"faq/nc/nc.html#can-developers-make-hybrid-dapps-using-both-scolcoin-chain-and-scolcoin-chain-in-one-single-dapp","title":"Can developers make hybrid Dapps using both ScolCoin Chain and ScolCoin Chain in one single Dapp?","text":"<p>Yes, with the help of native cross-chain functions</p>"},{"location":"faq/nc/scr20.html","title":"SCOL Evolution Proposal","text":""},{"location":"faq/nc/scr20.html#what-is-src20","title":"What is SRC20?","text":"<p>A token protocol on SCOL which is compatible ERC20. It extends ERC20 and contains more interfaces, such as <code>getOwner</code> and <code>decimals</code>.</p>"},{"location":"faq/nc/token.html","title":"Tokens in ScolCoin Chain and ScolCoin Chain","text":""},{"location":"faq/nc/token.html#what-role-does-scol-play-in-securing-scolcoin-chain","title":"What role does SCOL play in securing ScolCoin Chain?","text":"<p>SCOL is the token used to prevent <code>nothing-at-stake</code> problem.</p>"},{"location":"faq/nc/token.html#what-are-tokens-on-scolcoin-chain","title":"What are tokens on ScolCoin Chain?","text":"<p>SCOL is the native token for TC, and pegged tokens on SCOL is called SRC20.</p>"},{"location":"faq/nc/token.html#how-to-issue-src20-tokens","title":"How to issue SRC20 tokens?","text":"<p>Please follow the guide here</p>"},{"location":"faq/nc/token.html#which-wallets-can-i-use-to-store-scol","title":"Which wallets can I use to store SCOL?","text":"<p>You can see the list here</p>"},{"location":"faq/nc/val.html","title":"ScolCoin Chain Validator","text":""},{"location":"faq/nc/val.html#how-does-a-validator-node-work","title":"How does a validator node work?","text":"<p>It powers the blockchain network by processing transactions and signing blocks.</p>"},{"location":"faq/nc/val.html#what-are-the-incentives-to-run-a-validator-node","title":"What are the incentives to run a validator node?","text":"<p>Validators and delegators will earn rewards from transaction fees: dApp usages</p>"},{"location":"faq/nc/val.html#whats-on-chain-governance-proposal","title":"What's on-chain governance proposal?","text":"<p>The proposal will decide: slash amount, cross-chain transfer fees</p>"},{"location":"faq/nc/val.html#how-to-join-testnet-as-a-validator","title":"How to join testnet as a validator?","text":"<ol> <li>Choose your own server/PC</li> <li>Install software:</li> <li>Create a wallet and get some SCOL</li> <li>Run your fullnode and keep it synced</li> <li>Stake your SCOL on TC</li> </ol>"},{"location":"faq/nc/val.html#how-to-join-mainnet-as-a-validator","title":"How to join mainnet as a validator?","text":"<ol> <li>Choose your own server/PC</li> <li>Install software:</li> <li>Create a wallet and get some SCOL</li> <li>Run your fullnode and keep it synced</li> <li>Stake your SCOL on TC</li> </ol>"},{"location":"faq/nc/val.html#what-are-hardware-requirements-of-running-a-validator-node","title":"What are hardware requirements of running a validator node?","text":"<p>Processing transactions is mostly CPU bound. Therefore we recommend running CPU optimized servers. Directly facing internet (public IP, no NAT) 8 cores CPU 16GB of RAM 500 SSD storage\"</p>"},{"location":"faq/nc/val.html#how-many-scol-are-required-to-create-a-validator","title":"How many SCOL are required to create a validator?","text":"<p>Validators can self-bond, meaning they can delegate SCOL to themselves, and they can also receive delegations from any other SCOL holders. These bonded SCOL acts as collateral and cause each delegate, including validators, to have \u201cskin in the game\u201d so to speak. If any equivocation or byzantine behavior by a validator were to be committed, the validator and its delegates would be slashed a predefined amount of bonded stake.</p>"},{"location":"faq/nc/val.html#whats-the-potential-loss-for-validators","title":"What's the potential loss for validators?","text":"<p>Validators can suffer from \u201cSlashing\u201d, a punishment for their bad behaviors, such as double sign and/or instability. Such loss will not be shared by their delegators.</p> <p>Slashing is a punitive function that is triggered by a validator \u2019s bad actions. Getting slashed is losing self delegation of a validator. Validators will be slashed for the actions below:</p> <ul> <li>Going offline or unable to communicate with the network.</li> <li>Double signing. If a validator node tries to split the network by signing two different blocks and broadcasting them, it will be removed from validator set definitely.</li> </ul>"},{"location":"faq/nc/val.html#does-an-inactive-validator-receive-any-rewards","title":"Does an inactive validator receive any rewards?","text":"<p>No, they will not.</p>"},{"location":"faq/nc/val.html#can-i-receive-my-staking-rewards-if-my-chosen-validator-is-inactive","title":"Can I receive my staking rewards if my chosen validator is inactive?","text":"<p>No, you cannot.</p>"},{"location":"faq/nc/val.html#when-can-i-receive-my-unstaked-scol","title":"When can I receive my unstaked SCOL?","text":"<p>After you sent <code>undelegate</code> transaction, you have to wait 7 days. This period starts at UTC 00:00 next day</p>"},{"location":"faq/nc/val.html#what-is-self-delegation-how-can-i-increase-my-self-delegation","title":"What is 'self-delegation'? How can I increase my 'self-delegation'?","text":"<p>Self-delegation is delegation from a validator to themselves. This amount can be increases by sending a delegate transaction from your validator's operator address.</p>"},{"location":"faq/nc/withdraw-cn.html","title":"\u5982\u4f55\u627e\u56de\u60a8\u63d0\u73b0SRC20 \u800c\u8bef\u9009ERC20 \u7684Token\uff1f","text":""},{"location":"faq/nc/withdraw-cn.html#_1","title":"\u80cc\u666f","text":"<p>\u5728\u63d0\u5e01\u7684\u8fc7\u7a0b\u4e2d\uff0c\u56e0\u4e3aERC20 \u548c SRC20\u7684\u5730\u5740\u89c4\u5219\u662f\u4e00\u6837\u7684\uff0c\u7528\u6237\u5f88\u53ef\u80fd\u5145\u503c \u4ee5\u592a\u574a\u7684ERC20 \u4e0a\uff0c\u5982\u679c\u60a8\u8bef\u9009\u4e86ERC20\uff0c\u5e76\u4e14\u5df2\u7ecf\u5728metamask\u94b1\u5305\u4e2d\u5bfc\u5165\u4e86NC\u4e3b\u7f51\u8d26\u53f7\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u6b65\u9aa4\u628atoken\u627e\u56de\u6765\uff1a</p>"},{"location":"faq/nc/withdraw-cn.html#_2","title":"\u6b65\u9aa4","text":"<ul> <li>\u7f51\u7edc\u7c7b\u578b\u5207\u6362\u4e3a\u592a\u574a\u4e3b\u7f51</li> </ul> <ul> <li>\u70b9\u51fbAdd Token</li> </ul> <ul> <li>\u9009\u62e9\u6dfb\u52a0\u60a8\u63d0\u73b0\u65f6\u7684\u5e01\u79cd\uff0c\u5982USDT</li> </ul> <ul> <li>\u6dfb\u52a0\u540e\uff0c\u63d0\u73b0\u7684\u5e01\u5c31\u5728\u60a8\u8fd9\u4e2a\u8d26\u53f7\u91cc</li> </ul> <ul> <li>\u91cd\u65b0\u5145\u503c</li> </ul> <p>\u4f60\u901a\u8fc7 metamask\u91cd\u65b0\u5145\u503c\u56de\u5e01\u5b89\u4e3b\u7ad9\uff0c\u6ce8\u610f\uff1a\u5145\u503c\u65b9\u5f0f\u662f ERC20</p>"},{"location":"faq/nc/withdraw-en.html","title":"How to recover if you choose the wrong network type?","text":""},{"location":"faq/nc/withdraw-en.html#background","title":"Background","text":"<p>Since ScolCoin Chain and Ethereum follow the same address generation algorithm. In some cases, users may mistakenly choose the wrong network type when withdrawing tokens to ScolCoin Chain network. </p>"},{"location":"faq/nc/withdraw-en.html#steps-to-recover","title":"Steps to Recover","text":"<ul> <li>Metamask Setup Import the account into Metamask using user\u2019s recovery phrase of TC</li> </ul> <ul> <li>Switch to Ethereum Mainnet</li> </ul> <ul> <li>Click on \u201cAdd Token\u201d</li> </ul> <ul> <li>Input your token name, for example</li> </ul> <ul> <li>Then you can see your balance of this token</li> </ul> <ul> <li>Then you have to deposit to SCOL.com again. Please note you have to choose the ERC20 type for deposit</li> </ul>"},{"location":"guides/create-address.html","title":"Create an address","text":""},{"location":"guides/create-address.html#create-an-address_1","title":"Create an Address","text":"<p>The first thing you\u2019ll need to do anything on the ScolCoin Chain is an account. Each account has a public key and a private key. It is created by a user of the blockchain. It also includes account number and sequence number for replay protection.</p> <p>Because the private key must be kept secret, you can generate the private key with the following command:</p> <p>Examples:</p> <p>``` javascript tab=\"JavaScript\" // generate key entropy const privateKey = crypto.generatePrivateKey(); // get an address const address = crypto.getAddressFromPrivateKey(privateKey);</p> <p>const BnbApiClient = require(\"@shree-chain/javascript-sdk\"); const axios = require(\"axios\"); const scolClient = new BnbApiClient(api); const httpClient = axios.create({ baseURL: api }); scolClient.chooseNetwork(\"mainnet\"); // or this can be \"testnet\" scolClient.setPrivateKey(privKey); scolClient.initChain();</p> <p>const address = scolClient.getClientKeyAddress();</p> <p>console.log(\"address: \", address); <pre><code>```Go tab=\"GoLang\"\n//-----   Import packages  -------------\nimport (\n    sdk \"github.com/shree/go-sdk/client\"\n    \"github.com/shree/go-sdk/keys\"\n)\n//-----   Init KeyManager  -------------\nkm, _ := keys.NewKeyManager()\n//-----   Init sdk  -------------\nclient, err := sdk.NewDexClient(\"dex.scolcoin.com\", types.TestNetwork, km) // api string can be \"https://testnet-dex.scolcoin.com\" for testnet\naccn, _ := client.GetAccount(client.GetKeyManager().GetAddr().String())\n//-----   Print Address\nfmt.Println(accn)\n</code></pre></p> <p>```python tab=\"Python\" from scolcoin_chain.wallet import Wallet from scolcoin_chain.environment import ScolCoinEnvironment</p> <p>testnet_env = ScolCoinEnvironment.get_testnet_env(, env=testnet_env) wallet = Wallet.create_random_wallet(env=env) print(wallet.address) ```</p>"},{"location":"guides/intro.html","title":"Introduction","text":""},{"location":"guides/intro.html#intro","title":"Intro","text":"<p>ScolCoin Chain is a blockchain developed by SCOL and its community that implements a vision of a decentralized exchange (DEX) for digital assets.</p> <p>At the heart of ScolCoin Chain is a highly performant matching engine built on distributed consensus that aims to replicate the &lt;1 second trading efficiency of current centralized exchanges.</p> <p>ScolCoin Chain transactions burns SCOL (the native token of the SCOL ecosystem), according to a fee schedule.</p> <p>ScolCoin Chain also includes efforts to implement listing assets from other chains, and cryptographic primitives such as threshold signatures.</p>"},{"location":"guides/intro.html#functionality","title":"Functionality","text":"<p>ScolCoin Chain has the basic features of most blockchains:</p> <ul> <li>Sending and receiving SCOL and digital assets</li> <li>Issuing new digital assets (we have a standard called BEP-2)</li> <li>Mint/burn, freeze/unfreeze, lock/unlock of digital assets</li> </ul> <p>It has DEX and trading-specific functionality:</p> <ul> <li>Propose exchange listing for trading pairs</li> <li>Creating maker/taker orders for traders</li> <li>Listing assets from other chains using atomic swaps (BEP-3)</li> </ul> <p>ScolCoin Chain also implements new features, such as</p> <ul> <li>Threshold Signatures (an alternative to multisig)</li> <li>Smart Contracts sidechain (in-progress)</li> </ul>"},{"location":"guides/intro.html#participate","title":"Participate","text":"<p>There are different ways to participate in the network, from light nodes to full validators.</p> <p>ScolCoin Chain follows a philosophy of progressive decentralization. We envision a future where organizations and individuals can run validator nodes, and SCOL can be staked to join governance.</p>"},{"location":"guides/lightd.html","title":"Light Client","text":""},{"location":"guides/lightd.html#introduction","title":"Introduction","text":"<p>A light client allows clients, such as mobile phones, to receive proofs of the state of the blockchain from any full node. Light clients do not have to trust any full node, since they are able to verify any proof they receive.</p> <p>A light client can provide the same security as a full node with minimal requirements for bandwidth, computing and storage resource. It can also provide modular functionality according to users' configuration. These features allow developers to build secure, efficient, and usable mobile apps, websites, and other applications without deploying or maintaining any full blockchain nodes.</p>"},{"location":"guides/lightd.html#light-client-versus-full-node","title":"Light Client Versus Full Node","text":"<ul> <li>Light client does not store blocks or states,this way it needs less disk space (50 megabytes will be enough).</li> <li>Light client does not join p2p network and it does not produce any network cost when it is idle. The network overhead depends on how many requests the light client handles concurrently.</li> <li>Light client does not replay state of the chain so that there is not CPU cost when idle. The CPU cost also depends on how many requests the light client handles concurrently.</li> <li>Light client is faster than a full node even if it lagged behind the core network for a few months. It only needs a few seconds to catch up with core network.</li> </ul>"},{"location":"guides/lightd.html#install-light-client","title":"Install Light Client","text":"<p>We have a community-maintained installer script (<code>install.sh</code>) that takes care of chain directory setup. This uses the following defaults:</p> <ul> <li>Home folder in <code>~/.scolchaind</code></li> <li>Client executables stored in <code>/usr/local/bin</code> (i.e. <code>lightd</code> or <code>scolchaind</code>)</li> </ul> <p><pre><code># One-line install\nsh &lt;(wget -qO- https://raw.githubusercontent.com/shree-chain/node-binary/master/install.sh)\n</code></pre> The script will install the <code>lightd</code> binaries. Verify that everything is OK:</p> <pre><code>./lightd --help\nThis node will run a secure proxy to a shree rpc server.\n\nAll calls that can be tracked back to a block header by a proof\nwill be verified before passing them back to the caller. Other that\nthat it will present the same interface as a full shree node,\njust with added trust and running locally.\n\nUsage:\n  lite [flags]\n\nFlags:\n      --cache-size int             Specify the memory trust store cache size (default 10)\n--chain-id string            Specify the shree chain ID (default \"scolchain\")\n-h, --help                       help for lite\n      --home-dir string            Specify the home directory (default \".shree-lite\")\n--laddr string               Serve the proxy on the given address (default \"tcp://localhost:27147\")\n--max-open-connections int   Maximum number of simultaneous connections (including WebSocket). (default 900)\n--node string                Connect to a shree node at this address (default \"tcp://localhost:27147\")\n</code></pre>"},{"location":"guides/lightd.html#get-started","title":"Get Started","text":"<p>Start your Light Client with the following command: <pre><code>lightd --chain-id \"{chain-id}\" --node tcp://{full node addr}:80 &gt; node.log  &amp;\n</code></pre> * chain-id: it should be the network that you want join in * full node addr: it can be your own Full Node or public Witness Node</p> <pre><code>./lightd --chain-id \"SCOL-Chain-Tigris\" --node tcp://dataseed1.scolcoin.com:80 &gt; node.log  &amp;\n</code></pre> <pre><code>./lightd --chain-id \"SCOL-Chain-Ganges\" --node tcp://data-seed-pre-0-s1.scolcoin.com:80 &gt; node.log  &amp;\n</code></pre>"},{"location":"guides/lightd.html#working-with-the-light-client","title":"Working with the Light Client","text":"<p>Light client has the same RPC interface as Node RPC. The default port of light client is <code>27147</code>.</p>"},{"location":"guides/testnet.html","title":"Testnet","text":"<p>The testnet is a test environment for ScolCoin Chain network, run by the ScolCoin Chain development community, which is open to developers.</p> <p>The validators on the testnet are from development team.</p> <p>You can connect a node to the testnet by downloading the node binary to use this configuration.</p> <p>There is also a web wallet that can directly interact with the DEX. testnet.</p>"},{"location":"guides/testnet.html#what-is-the-testnet-good-for","title":"What is the testnet good for?","text":"<ul> <li>Create your test address and get your testnet funds.</li> <li>Develop applications and try tutorials on ScolCoin Chain without the potential to lose your own assets.</li> <li>Test your applications against new versions of ScolCoin Chain.</li> <li>Analyze blockchain data on a smaller, non-trivial data set compared to the public network.</li> </ul>"},{"location":"guides/testnet.html#how-to-get-testnet-fund","title":"How to get Testnet Fund","text":"<p>Note: The previous ScolCoin Chain Testnet Faucet is retired at 2020/08/11 at 1:00 PM (UTC). The testnet faucet has migrated to this page: https://testnet-explorer.scolcoin.com/faucet-smart</p> <p>Steps to claim testnet SCOL:</p> <ol> <li>Create a new Wallet of ScolCoin Chain testnet with MetaMask or MathWallet</li> <li>Get Testnet Fund: https://testnet-explorer.scolcoin.com/faucet-smart</li> </ol> <p>To request funds, please make a tweet with your ScolCoin Chain address pasted into the contents. Then, copy-paste the tweets URL! SCOL will be sent to your SCOL wallet right away.</p> <ol> <li>Transfer From ScolCoin Chain to ScolCoin Chain</li> </ol> <p>You can use SCOL Extension Wallet for cross-chain transfer.</p> <p>If you wish to test ScolCoin Chain features, you could transfer SCOL cross-chain with MathWallet dApp: https://docs.scolcoin.com/smart-chain/wallet/math.html#transfer-scol-from-nc-to-bc</p>"},{"location":"guides/trading-interface.html","title":"SCOL DEX Trading Interface","text":"<p>SCOL DEX trading page is designed to provide a user-friendly trading interface to everyone. To get started, go to the trading page first at https://www.scolcoin.com/trade. The trading page is composed of the following part:</p> <ul> <li>Tradig Pairs info</li> <li>TradingView Chart</li> <li>Trade history and orderbook</li> <li>Your Trading Activities</li> <li>Order Form</li> </ul> <p></p> <p>Trading Video on Youtube</p>"},{"location":"guides/trading-interface.html#trading-pairs-info","title":"Trading Pairs Info","text":"<p>At the left-right part of the trading page, there is the section of \u201cTrading Pairs\u201d. The trading pairs are categorized into four markets: - SCOL - BTC - ALT - FIATS</p> <p>Click on tabs to switch between markets. Start Icon will show your favorite trading pairs.  You can click at the star icon to add this trading pair to your list. </p> <p>Trading pairs can be ordered by two \u201cVolume\u201d or \u201cPrice Change\u201d. The list is in descending order by default. You can also change to ascending by clicking the header.</p>"},{"location":"guides/trading-interface.html#trading-view-and-market-depth","title":"Trading View and Market Depth","text":"<p> At the center of the trading page, there is the TradingView chart. The TradingView displays information about your selected trading pair. The chart allows you to display indicators such as the RSI, moving average, Bollinger Bands and many more. The chart also allows you to draw on the chart using the tools within the TradingView charts. More information on how to use TradingView charts can be found on the TradingView Wiki. Click on Depth button to switch to Depth View. Market depth is the market's ability to sustain relatively large market orders without impacting the price of the security. Market depth considers the overall level and breadth of open orders and usually refers to trading within individual trading pairs. The number of levels can be zoomed in and out. The key indicator of market depth is the spread. The spread is the gap between the bid and the ask prices. If the bid price for a stock is $19 and the ask price for the same stock is $20, then the spread for the stock in question is 1 divided by the lowest ask price) to yield a bid-ask spread of 5% (1 / $20 x 100). Market with thinner spread is much liquid than others. </p>"},{"location":"guides/trading-interface.html#trade-history-and-orderbook","title":"Trade history and Orderbook","text":"<p>The order book shows a list of open orders on the exchange. The top half is the asking side of the order book, where you will see sell orders. The bottom half is the bidding side of the order book where you can see the buy orders for that trading pair. You can switch to different display mode: buy order only or sell order only to see more levels. </p> <p>You can see the trading history from all users that have occurred on the trading pair that you currently have selected. The color of trades indicates taker/maker information. * Green: buyer is taker * Red: Seller is taker </p>"},{"location":"guides/trading-interface.html#your-trading-activities","title":"Your Trading Activities","text":"<p> In the bottom left-hand side of the interface, you can locate Open Orders, Order History, Trade History, and Balances. - Open Orders: This section shows which orders are not filled in their entirety and are still currently open. You can view all of the orders on the blockchain by looking at their TxHash. - Order History: This section shows the orders you have placed, filled, unfilled or canceled. You can view all of the orders on the blockchain by looking at their TxHash. - Trade History: This section shows your executed trades on the exchange. - Balances: This section displays the current balance of your ScolCoin Chain Wallet.</p>"},{"location":"guides/trading-interface.html#order-form","title":"Order Form","text":"<p>SCOL DEX currently only supports Limit orders. The Limit order section allows you to define the bid/ask price and the quantity you wish to trade. Please note that all order\u2019s parameters\u2019 constrains: * Price:  Order price must be changed by multiple of tick size. Tick size stands for the smallest unit on price change * Quantity: Order quantity must be multiple of lot size.  Lot size stands for the smallest quantity change * Timeinforce: It is Good Till Expire (GTE). The order would stay effective until expire time. The order may expire in the UTC midnight after more than 259, 200 blocks, which is 72 hours in terms of blocking time. </p>"},{"location":"guides/concepts/BEP8.html","title":"BEP8","text":""},{"location":"guides/concepts/BEP8.html#introduction","title":"Introduction","text":"<p>Currently, the cost to get a BEP2 token listed on SCOL DEX is about 1500SCOL, which is a big barrier to many small, promising projects. As explained in BEP8,the idea of BEP8 Tokens is raised to accommodate the small or micro projects, intellectual properties, and other small token economies to build a more comprehensive venue for token trading.</p> <p>Based on the limitation usage of the network, the cost of issuing and listing of such BEP8 tokens are minimized to a different magnitude. Besides, any BEP8 token issuer can choose to directly list against SCOL and BUSD without the voting process of validators. Stablecoin pairs of BEP8 will provide a UX advantage and make any two BEP82 tokens exchangeable.</p> <p>Similar to SME board in the traditional stock markets, BEP8 tokens markets will increase the liquidity of utility tokens of startups or Intellectual Property (IP) tokens by removing the capital requirements for listing. One good example is the open-source license model. A software developer can issue a BEP8 token and link his work to it. This token will be used to cover licensing fees for his work in the future.</p>"},{"location":"guides/concepts/BEP8.html#token-management","title":"Token Management","text":""},{"location":"guides/concepts/BEP8.html#issue","title":"Issue","text":"<p><code>Issue</code> is a transaction used to create a new asset. Anyone can issue a new token with fee paid. After issuing, the token would appear in the issuer's account as free balance.</p> <p>An issuance transaction contains:</p> <ul> <li>Symbol: The length of the string for representing this asset is between 3 and 8 alphanumeric characters and is case insensitive. The symbol will have a suffix autogenerated by the algorithm: the first 3 bytes of the issue transaction hash, plus letter \u201cM\u201d.</li> <li>TokenURI: Optional field. A distinct Uniform Resource Identifier (URI) for the token. The URI may point to a JSON file that conforms to the \"Mini-BEP2 Metadata JSON Schema\". The schema is also optional.</li> <li>TokenType: 1 for <code>tiny token</code> and 2 for <code>Mini token</code>. Total supply range of tiny token is [1-10K] and mini-token is [1, 1 milllion]. Mini-token will charge more than tiny-token for issue.</li> <li>TotalSupply: The total supply for this token can have a maximum of 8 digits of decimal and is boosted by 1e8 in order to store as int64. The amount before boosting should not exceed upper bound of supply range.</li> <li>Owner: The initial issuer of this token, the SCOL balance of issuer should be more than the fee for issuing tokens</li> <li>Mintable: Whether this token could be minted(increased) after the initial issuing, <code>--mintable</code> means the token can be inflationary.</li> </ul>"},{"location":"guides/concepts/BEP8.html#commands","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token issue-tiny --home $home -s $symbol --token-name $token_name -n 10000 --mintable --from $from --token-uri http://www.example.com --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> <pre><code>./eth-cli token issue-mini --home $home -s $symbol --token-name $token_name -n 1000000 --mintable --from $from --token-uri http://www.example.com --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#transfer","title":"Transfer","text":"<p>BEP8 Transfer type is the same as BEP2. The difference from BEP2 transfer is that the Mini-BEP2 transfer amount should be larger than or equal to 1, unless the sender sends the total amount of the free Mini-BEP2 token in his account.</p>"},{"location":"guides/concepts/BEP8.html#commands_1","title":"Commands","text":"<p>Example on mainnet: <pre><code>./eth-cli send --from $from-key-alias --to to-address --amount 200000000:mini-token-symbol --chain-id SCOL-Chain-Tigris --node  https://dataseed5.defibit.io:443 --json\n</code></pre></p>"},{"location":"guides/concepts/BEP8.html#freeze","title":"Freeze","text":"<p>The transaction type, message structure and transaction process are the same as BEP2, except that the amount should be larger than or equal to 1, or equal to the free account balance.</p>"},{"location":"guides/concepts/BEP8.html#commands_2","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token freeze --amount 200000000 --symbol $mini-token-symbol --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#unfreeze","title":"Unfreeze","text":"<p>The transaction type, message structure and transaction process are the same as BEP2 Tokens, except that the amount should be larger than or equal to 1, or equal to the frozen account balance.</p>"},{"location":"guides/concepts/BEP8.html#commands_3","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token unfreeze --amount 200000000 --symbol $mini-token-symbol --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#mint","title":"Mint","text":"<p>The transaction type, message structure and transaction process are the same as BEP2 Tokens, except that the amount should be larger than or equal to 1.</p>"},{"location":"guides/concepts/BEP8.html#commands_4","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token mint --amount 10000000000 --symbol $mini-token-symbol --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#burn","title":"Burn","text":"<p>The transaction type, message structure and transaction process are the same as BEP2 Tokens. The difference from BEP2 burn is that the Mini-BEP2 burn amount should be larger than or equal to 1, or equal to the free account balance.</p>"},{"location":"guides/concepts/BEP8.html#commands_5","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token burn --amount 100000000000 --symbol $mini-token-symbol --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#set-token-uri","title":"Set Token URI","text":"<p>The SetURI transaction is to change the value of <code>TokenURI</code>. Only token issuer can send this transaction. The URI may point to a JSON file that conforms to the \"Mini-BEP2 Metadata JSON Schema\".</p> <pre><code>{\n\"name\": \"Mini Token Metadata\",\n\"description\": \"Metadata description for the Mini Token\",\n\"external_url\": \"https://example.com/token\",\n\"image\": \"https://example.com/token/1.png\",\n\"attributes\": [\n{\n\"name\": \"custom field\",\n\"value\": \"custom value\"\n},\n...\n]\n}\n</code></pre>"},{"location":"guides/concepts/BEP8.html#commands_6","title":"Commands","text":"<p>Example on mainnet:</p> <pre><code>./eth-cli token set-uri-mini --symbol $mini-token-symbol --token-uri http://www.efg.com --from alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#list-bep8-tokens-on-scol-dex","title":"List BEP8 Tokens on SCOL DEX","text":"<p>The listing process is different from BEP2 token list. BEP8 token issuer can list the Mini-BEP2 token without the agreement of ScolCoin Chain validators. The BEP8 token can only be listed against SCOL or BUSD and they cannot be listed as a quote symbol.</p> <p>The following parameters are required for the transaction:</p> Field Type Description base-asset-symbol string the Mini BEP2 token to list quote-asset-symbol string only support SCOL and BUSD as quote asset init-price int64 the initial price for your asset, it is boosted by 1e8 from Bech32_address this address should be the issuer of base asset"},{"location":"guides/concepts/BEP8.html#commands_7","title":"Commands","text":"<pre><code>./eth-cli dex list-mini -s=$mini-token-symbol --quote-asset-symbol=SCOL --init-price=1000000000 --from=alice --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443  --trust-node\n</code></pre>"},{"location":"guides/concepts/BEP8.html#bep8-token-trading-pair-matching","title":"BEP8 Token Trading Pair Matching","text":"<p>The number of BEP8 trading pairs could be much bigger than BEP2 pairs due to the cheap issue/listing fee. As they are designed to use limited network resource, SCOL DEX match engine will only allocate a fixed resource on matching the BEP8 pairs. Unlike BEP2 token, BEP8 trading pairs are not matched every block, but they are guaranteed to be matched at least once in every 16 blocks.</p>"},{"location":"guides/concepts/BEP8.html#place-order","title":"Place Order","text":"<p>The minimum amount of the Mini-BEP2 token should be larger than or equal to 1, which is presented as 1e8 with the 8 digit decimal rule internally. The only exceptional case is that the user sells the total amount of the free BEP8 token in his account</p>"},{"location":"guides/concepts/BEP8.html#delist","title":"Delist","text":"<p>Delist a trading pair of Mini-BEP2 token is the same as BEP2 delist. It needs the agreement of ScolCoin Chain validators.</p>"},{"location":"guides/concepts/BEP8.html#fee-table-for-testnet","title":"Fee Table for Testnet","text":"<p>API URL: https://testnet-dex.scolcoin.com/api/v1/fees?format=amino</p> Transaction Type Pay in SCOL TinyIssueFee 2 MiniIssueFee 3 SetUri 0.000375 List BEP8 8"},{"location":"guides/concepts/BEP82.html","title":"BEP82","text":"<p>Note: this feature is only available in Testnet after Lagrange Upgrade.</p>"},{"location":"guides/concepts/BEP82.html#introduction","title":"Introduction","text":"<p>Before implementing BEP82, many token-related transactions, such as token listing, minting, burning, can only be proposed by the token owner.  The owner of any BEP2/BEP8  token can not be changed once the token is issued on ScolCoin Chain.</p> <p>BEP82 introduced the changes related to the token owner who issued a token on ScolCoin Chain. It provides more convenience and flexibility for these transactions.</p>"},{"location":"guides/concepts/BEP82.html#status","title":"Status","text":"<p>This BEP is already implemented.</p>"},{"location":"guides/concepts/BEP82.html#changes","title":"Changes","text":"<p>BEP82 introduce the following changes:</p> <ul> <li>Token issuers can renounce their ownership and promote others</li> <li>Allows token holders to burn their tokens</li> </ul>"},{"location":"guides/concepts/BEP82.html#new-transaction-type","title":"New Transaction Type","text":"<p>TransferOwnership transaction can transfer ownership of a specific token to another address, and only the original owner has the permission to send this transaction.</p>"},{"location":"guides/concepts/BEP82.html#commands","title":"Commands","text":"<p>Example on mainnet:</p> <p><pre><code>./eth-cli token transfer-ownership --from  $current-owner --symbol $symbol --new-owner $new-owner  --chain-id SCOL-Chain-Tigris   --node  https://dataseed5.defibit.io:443 --trust-node\n</code></pre> Example on testnet:</p> <pre><code>./eth-cli token transfer-ownership --from  $current-owner --symbol $symbol --new-owner $new-owner --chain-id SCOL-Chain-Nile  --node=data-seed-pre-2-s1.scolcoin.com:80--trust-node\n</code></pre>"},{"location":"guides/concepts/BEP82.html#fees","title":"Fees","text":"<p>0.01 SCOL will be charged on TransferOwnership transactions.</p>"},{"location":"guides/concepts/accounts.html","title":"Accounts","text":"<p>Whenever a new address receives an asset, the corresponding transaction would create an Account for that address, which contains balances across all assets that are owned on this address.</p>"},{"location":"guides/concepts/accounts.html#account-balance","title":"Account Balance","text":"<p>The balance (the amount of tokens) of each asset is composed of 3 different parts:</p> <ul> <li>Available: the amount of tokens that can be transferred, and spent to swap (buy) other assets</li> <li>Locked: the amount of tokens that has been used in any outstanding orders. Once the order terminates (either filled, canceled or expired), the locked amount will decrease.</li> <li>Frozen: the amount of tokens that has been frozen via Freeze transactions.</li> </ul> <p>You can query the account info with the following command on mainnet:</p> <pre><code>./eth-cli account &lt;your-address&gt; --chain-id SCOL-Chain-Tigris --node https://dataseed5.defibit.io:443 --indent --trust-node\n</code></pre> <p>Example output:</p> <p>Please note that the amount is boosted by e^8 for the decimal part.</p> <pre><code>{\"type\":\"scolchain/Account\",\"value\":{\"base\":{\"address\":\"tscol1sylyjw032eajr9cyllp26n04300qzzre38qyv5\",\"coins\":[{\"denom\":\"000-0E1\",\"amount\":\"10530\"},{\"denom\":\"SCOL\",\"amount\":\"247349863800\"},{\"denom\":\"BTC.B-918\",\"amount\":\"113218800\"},{\"denom\":\"COSMOS-587\",\"amount\":\"50000101983748977\"},{\"denom\":\"EDU-DD0\",\"amount\":\"139885964\"},{\"denom\":\"MFH-9B5\",\"amount\":\"1258976083286\"},{\"denom\":\"NASC-137\",\"amount\":\"0\"},{\"denom\":\"PPC-00A\",\"amount\":\"205150260\"},{\"denom\":\"TGT-9FC\",\"amount\":\"33251102828\"},{\"denom\":\"UCX-CC8\",\"amount\":\"1398859649\"},{\"denom\":\"USDT.B-B7C\",\"amount\":\"140456966268\"},{\"denom\":\"YLC-D8B\",\"amount\":\"210572645\"},{\"denom\":\"ZZZ-21E\",\"amount\":\"13988596\"}],\"public_key\":{\"type\":\"tendermint/PubKeySecp256k1\",\"value\":\"AhOb3ZXecsIqwqKw+HhTscyi6K35xYpKaJx10yYwE0Qa\"},\"account_number\":\"406226\",\"sequence\":\"29\"},\"name\":\"\",\"frozen\":null,\"locked\":[{\"denom\":\"KOGE48-35D\",\"amount\":\"10000000000\"}]}}\n</code></pre> <p>From the output you can see that this account account_number is 406226 and its sequence is 29. This is the important information about this account.</p>"},{"location":"guides/concepts/accounts.html#account-and-sequence-number","title":"Account and Sequence Number","text":"<p>After Account is created, besides the balances, Account also contains:</p> <ul> <li>Account Number: an internal identifier for the account</li> <li>Sequence Number: an ever-changing integer.</li> </ul> <p>The <code>Sequence Number</code> is the way how ScolCoin Chain prevents Replay Attack (the idea is borrowed from Cosmos network, but varies a bit in handling). Every transaction should have a new Sequence Number increased by 1 from the current latest sequence number of the Account, and after this transaction is recorded on the block chain, the Sequence Number will be set to the same number as the one of latest transaction.</p> <p>This logic forces the client to be aware of the current Sequence Number, either by reading from the blockchain via API, or keep the counting locally by themselves. The recommended way is to keep counting locally and re-synchronize from the blockchain periodically.</p>"},{"location":"guides/concepts/architecture.html","title":"Architecture","text":""},{"location":"guides/concepts/architecture.html#consensus-details","title":"Consensus Details","text":"<p>ScolCoin Chain is a peer-to-peer distributed system, connecting together multiple clients that reach consensus on their views of the \"state of the world\". ScolCoin Chain uses Tendermint BFT consensus and has a dedicated <code>application layer</code> that runs upon it. A simplified overview of the application's architecture might look something like this:</p> <pre><code>+------------+-----------+\n| RPC API    | Web API   |\n+------------------------+---------+\n| Asset Management | Match Engine  |\n+----------------------------------+\n| Account Management | Governance  |---------&gt; crypto and blockchain governance\n+----------------------------------+\n| State Caching and Persisence     +-+\n+----------------------------------+ |\n| Consensus Protocol               | |\n+----------------------------------+ |-----&gt; revised Tendermint\n| P2P Protocol                     | |\n+----------------------------------+ |\n| Networking    |  Database        +-+\n+----------------------------------+\n</code></pre> <p>For more information, please have a look at the Tendermint spec.</p>"},{"location":"guides/concepts/architecture.html#block-size","title":"Block Size","text":"<p>ScolCoin Chain uses a similar block structure as Tendermint proposes, with a size limit of 1 megabyte.</p> <p>It is expected a block will be produced on a-few-of-seconds level among validators, and can include from 0 up to several thousands of transactions.</p>"},{"location":"guides/concepts/architecture.html#blockchain-state","title":"Blockchain State","text":"<p>Blockchain state stores the below information:</p> <ul> <li>account and balances</li> <li>fees</li> <li>token information</li> <li>trading pairs</li> <li>tick size and lot size</li> <li>governance information</li> </ul> <p>please note the transactions are not stored as chain state, because they are stored in blocks, while trades are not stored as state either, because they can be reproduced via balances and transactions.</p>"},{"location":"guides/concepts/architecture.html#cryptographic-design","title":"Cryptographic Design","text":""},{"location":"guides/concepts/architecture.html#account-and-address","title":"Account and Address","text":"<p>For normal users, all the keys and addresses can be generated via SCOL Web Wallet.</p> <p>This default wallet would use a similar way to generate keys as Bitcoin, i.e. use 256 bits entropy to generate a 24-word mnemonic based on BIP39, and then use the mnemonic and an empty passphrase to generate a seed; finally use the seed to generate a master key, and derive the private key using BIP32/BIP44 with HD prefix as <code>\"44'/714'/\"</code>, which is reserved at SLIP 44.</p> <p>714 comes from SCOL's birthday, July 14th. :)</p>"},{"location":"guides/concepts/architecture.html#keys","title":"Keys","text":"<p>ScolCoin Chain uses the same elliptic curve cryptography as the current Bitcoin implementation, i.e. <code>secp256k1</code>. Its private key is 32 bytes while public key is 33 bytes.</p>"},{"location":"guides/concepts/architecture.html#address","title":"Address","text":"<p>Addresses on ScolCoin Chain are 20 bytes and may be expressed as:</p> <pre><code>Address = RIPEMD160(SHA256(compressed public key))\n</code></pre> <p>Typically, an address is encoded in the bech32 format which includes a checksum and human-readable prefix (HRP). However, it doesn't use the <code>SegWit</code> address format (because we do not have <code>SegWit</code> function anyway, so no <code>witness program version</code> etc.).</p> <p>A ScolCoin Chain address is therefore more similar to a Bitcoin Cash address, which does not include a SegWit program script.</p> <p>Address format pseudo-code:</p> <pre><code>Address_Bech32 = HRP + '1' + bech32.encode(convert8BitsTo5Bits(RIPEMD160(SHA256(compressed public key))))\n</code></pre> <p>For ScolCoin Chain address, the prefix is <code>scol</code> for production network, and <code>tscol</code> for testnet.</p>"},{"location":"guides/concepts/architecture.html#signature","title":"Signature","text":"<p>ScolCoin Chain uses an ECDSA signature on curve secp256k1 against a <code>SHA256</code> hash of the byte array of a JSON-encoded canonical representation of the transaction. For more information, please see this page.</p>"},{"location":"guides/concepts/assets.html","title":"Assets","text":"<p>Assets are stored as <code>tokens</code> on ScolCoin Chain, and the below management actions are available. All the assets are complied with BEP2 standard. BEP stands for ScolCoin Chain Evolution Proposal. Each BEP will be a proposal document providing information to the ScolCoin Chain/DEX community. The BEP should provide a concise technical specification of the feature or improvement and the rationale behind it. Each BEP proposer is responsible for building consensus within the community and documenting dissenting opinions. Each BEP has a unique index number.</p>"},{"location":"guides/concepts/assets.html#bep2-token-properties","title":"BEP2 Token Properties","text":"<ul> <li> <p>Source Address: Source Address is the owner of the issued token.</p> </li> <li> <p>Token Name: Token Name represents the long name of the token - e.g. \"MyToken\".</p> </li> <li> <p>Symbol: Symbol is the identifier of the newly issued token.</p> </li> <li> <p>Total Supply: Total supply will be the total number of issued tokens.</p> </li> <li> <p>Mintable: Mintable means whether this token can be minted in the future, which would increase the total supply of the token</p> </li> </ul>"},{"location":"guides/concepts/assets.html#symbol-convention","title":"Symbol Convention:","text":"<p>[Symbol][b]-[Suffix]</p> <p>Explanations: Suffix is the first 3 bytes of the issue transaction\u2019s hash, for example: BUSD-BD1. It helps to remove the constraint of requiring unique token names. If this token pegs to an existing blockchain, there should be an additional suffix of \u201cB\u201d.</p>"},{"location":"guides/concepts/assets.html#issue-process","title":"Issue Process:","text":"<ol> <li>Issuer signed an issue transaction and make it broadcasted to one of ScolCoin Chain nodes</li> <li>This ScolCoin Chain node will check this transaction. If there is no error, then this transaction will be broadcasted to other ScolCoin Chain nodes</li> <li>Issue transaction is committed on the blockchain by block proposer</li> <li>Validators will verify the constraints on total supply and symbol and deduct the fee from issuer\u2019s account</li> <li>New token\u2019s symbol is generated based on the transaction hash. It is added to the issuer\u2019s address and token info is saved on the ScolCoin Chain</li> </ol>"},{"location":"guides/concepts/assets.html#scol","title":"SCOL","text":"<p>The ScolCoin, <code>SCOL</code>, is the native asset on ScolCoin Chain. There are 200MM ScolCoins in total. There will be no mining. The existing coin burns and freezes will still be in effect on the new ScolCoin Chain blockchain.</p> <p>The exact number of ScolCoins will be destroyed based on the same number of SCOL ERC20 tokens that have already been destroyed.</p> <p>Since ScolCoin Chain is live, all SCOL ERC20 tokens will be swapped for ScolCoin Chain coins. All users who hold SCOL ERC20 tokens can deposit them to SCOL.com, and upon withdrawal, the new ScolCoin Chain native coins will be sent to their new wallets.</p>"},{"location":"guides/concepts/atomic-swaps.html","title":"Cross-chain Atomic Swaps","text":""},{"location":"guides/concepts/atomic-swaps.html#atomic-swap","title":"Atomic Swap","text":"<p>The problem of an atomic swap is one where (at least) two parties, Alice and Bob, own coins, and want to exchange them without having to trust a third party (centralized exchange).</p> <p>A non-atomic trivial solution would have Alice send her coins to Bob, and then have Bob send other coins to Alice - but Bob has the option of going back on his end of the bargain and simply not following through with the protocol, ending up with both sets of coins.</p> <p>Atomic swaps can be used for trading between BEP2 tokens, or for trading crosss different blockchains.</p>"},{"location":"guides/concepts/atomic-swaps.html#hash-timer-locked-contract","title":"Hash Timer Locked Contract","text":"<p>HSCOL has been used for Atomic Swap and cross payment channel for a few years on Bitcoin and its variant blockchains, and also Ethereum. This BEP defines native transactions to support HSCOL on ScolCoin Chain, and also proposes the standard infrastructure and procedure to use HSCOL for inter-chain atomic swap to easily create and use pegged token, which is called <code>Atomic Peg</code>.</p>"},{"location":"guides/concepts/atomic-swaps.html#hscol-on-scolcoin-chain","title":"HSCOL on ScolCoin Chain","text":"<p>As explained in BEP3, Hash Timer Locked Contract(HSCOL) has been used for Atomic Swap and cross payment channels between different blockchains. BEP3 defines native transactions to support HSCOL on ScolCoin Chain and also proposes the standard infrastructure and procedure to use HSCOL for inter-chain atomic swap to easily create and use pegged token. During the swap process, the related fund will be locked to a purely-code-controlled escrow account. A purely-code-controlled escrow account is a kind of account which is derived from a hard-coded string in shree chain protocol. This kind of account has no its own private key and it's only controled by code in protocol. The code for calculating escrow account is the same as how it's done in cosmos-sdk: <pre><code>AtomicSwapCoinsAccAddr = sdk.AccAddress(crypto.AddressHash([]byte(\"ScolCoin ChainAtomicSwapCoins\")))\n</code></pre> The account for mainnet is: scol1wxeplyw7x8aahy93w96yhwm7xcq3ke4f8ge93u and the account for testnet is: tscol1wxeplyw7x8aahy93w96yhwm7xcq3ke4ffasp3d. Once the swap is claimed or refunded, the fund will be transfered from the purely-code-controlled escrow account to client accounts.</p>"},{"location":"guides/concepts/atomic-swaps.html#hash-timer-locked-transfer","title":"Hash Timer Locked Transfer","text":"<p>Hash Timer Locked Transfer (HTLT) is a new transaction type on ScolCoin Chain, to serve as HSCOL in the first step of Atomic Swap,</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters","title":"Parameters","text":"Name Type Description Optional From Address Sender address, where the asset is from No recipient-addr Address Receiver address, where the asset is to, if the proper condition meets. No recipient-other-chain bytes a byte array, maximum 32 bytes, in any proper encoding. leave it empty for single chain swap Yes sender-other-chain bytes a byte array, maximum 32 bytes, in any proper encoding. leave it empty for single chain swap Yes RandomNumberHash 32 bytes hash of a random number and timestamp, based on SHA256. If left out, a random value will be generated True Timestamp int64 Supposed to be the time of sending transaction, counted by second. It should be identical to the one in swap contract. If left out, current timestamp will be used. No OutAmount Coins similar to the Coins in the original Transfer defined in BEP2, assets to swap out No ExpectedIncome string Expected income from swap counter party, example: \"100:SCOL\" or \"100:SCOL,10000:BTCB-1DE\" The amount needs to be bumped by e^8 No HeightSpan int64 number of blocks to wait before the asset may be returned to From if not claimed via Random. The number must be larger than or equal to 360 (&gt;2 minutes), and smaller than 518400 (&lt; 48 hours) No CrossChain bool Specify if the HTLT is for cross chain atomic swap True, the default value is False"},{"location":"guides/concepts/atomic-swaps.html#outputs","title":"Outputs","text":"Name Type Description Random number 32 bytes Timestamp int64 Random number hash 32 bytes Swap ID 32 bytes"},{"location":"guides/concepts/atomic-swaps.html#examples","title":"Examples","text":"<ol> <li> <p>Swap between BEP2 tokens</p> </li> <li> <p>On testnet:</p> </li> </ol> <p>Command line <pre><code>./eth-cli token HTLT --recipient-addr &lt;recipient-addr&gt; --amount 100:SCOL --expected-income &lt;expectedIncome&gt; --height-span &lt;heightSpan&gt; --from &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"// 32 bytes random number\nconst timestamp = Math.floor(Date.now()/1000)// take the current timestamp\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp)\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}]\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400// height span\nconst res = client.swap.HTLT(from, recipient, \"\", \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, false)\n</code></pre></p> <p>Example output:</p> <p>Please take a note of returned <code>swapID</code>:</p> <pre><code>Random number: 927c1ac33100bdbb001de19c626a05a7c3c11304fc825f5eabb22e741507711b\nTimestamp: 1568792486\nRandom number hash: 5768702259ee55983378d7b8207890c666648264524b9dada551386f832ba6b1\nPassword to sign with 'guest':\nCommitted at block 39984169 (\ntx hash: B5A3DD92A40E98745BBE9F608944FE5511B81071B34E9947A754A04A5F378A85,\nresponse: {\n    Code:0\n    Data:[77 137 139 200 85 141 170 77 129 116 134 215 169 59 119 178 200 47 206 194 18 58 191 74 30 183 210 82 18 55 236 205]\n    Log:Msg 0: swapID: 4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\n    Info: GasWanted:0 GasUsed:0\n    ...\n)\n</code></pre> <p>Besides, the <code>Data</code> field in the committed result is the byte array of <code>swapID</code>:</p> <pre><code>Data:[77 137 139 200 85 141 170 77 129 116 134 215 169 59 119 178 200 47 206 194 18 58 191 74 30 183 210 82 18 55 236 205]\n\nswapID: 4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\n</code></pre> <ol> <li> <p>Swap from ScolCoin Chain to Ethereum</p> </li> <li> <p>Clients send HTLT on ScolCoin Chain on testnet:</p> </li> </ol> <p>Command line: <pre><code>./eth-cli token HTLT --from &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges  --height-span &lt;heightSpan&gt; --amount &lt;amount&gt; --expected-income &lt;expectedIncome&gt; --recipient-addr &lt;deputy-bep2-addr&gt;  --recipient-other-chain &lt;client ethereum address&gt;  --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst recipientOtherChain=\"0x37B8516a0F88E65D677229b402ec6C1e0E333004\"//client ethereum address\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"// 32 bytes random number\nconst timestamp = Math.floor(Date.now()/1000)// take the current timestamp\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp)\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}] // swap out token amount\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400 // height span\nconst res = client.swap.HTLT(from, recipient, recipientOtherChain, \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\n</code></pre></p> <ol> <li>Swap from Ethereum to ScolCoin Chain</li> </ol> <p>Note: Once cross-chain is true, --recipient-other-chain must not be empty</p> <ul> <li>Deputy send HTLT on ScolCoin Chain on testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token HTLT --from  &lt;from-addr&gt; --chain-id SCOL-Chain-Ganges --height-span  &lt;heightSpan&gt;  --amount &lt;amount&gt; --expected-income &lt;expectedIncome&gt; --recipient-other-chain &lt;deputy ethereum address&gt; --sender-other-chain &lt;client ethereum address&gt; --recipient-addr &lt;client bep2 address&gt; --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst recipient = \"tscol1prrujx8kkukrcrppklggadhuvegfnx8pemsq77\"// recipient address\nconst recipientOtherChain=\"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"//client ethereum address\nconst senderOtherChain=\"0x37B8516a0F88E65D677229b402ec6C1e0E333004\" //client ethereum address\nconst randomNumberHash = \"6632eda86c4f19190c8a986e188526eee865e1ce2758ba59c8bf45e20ffa3bb5\" //deputy get this value from the event log of swap contract\nconst timestamp = 1571383800 //deputy get this value from the event log of swap contract\nconst amount = [{\ndenom: \"SCOL\",\namount: 100\n}] // swap out token amount\nconst expectedIncome = \"100:SCOL\"// expected income\nconst heightSpan = 400 // height span\nconst res = client.swap.HTLT(from, recipient, recipientOtherChain, senderOtherChain, randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\n</code></pre></p>"},{"location":"guides/concepts/atomic-swaps.html#deposit-htlt","title":"Deposit HTLT","text":"<p>Deposit Hash Timer Locked Transfer is to lock new BEP2 asset to an existed HTLT which is for single chain atomic swap.</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_1","title":"Parameters","text":"Name Type Description Optional From Address Sender address, where the assets are from No SwapID 32 bytes ID of previously created swap, hex encoding No Amount Coins The swapped out amount BEP2 tokens, example: \"100:SCOL\" or \"100:SCOL,10000:BTCB-1DE\" No"},{"location":"guides/concepts/atomic-swaps.html#examples_1","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token deposit --swap-id &lt;swapID&gt;  --amount 10000:TEST-599 --from &lt;from-key&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst from = \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\"// sender address\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst amount = [{\ndenom: \"TEST-599\",\namount: 10000\n}]\nconst res = client.swap.depositHTLT(from, swapID, amount)\n</code></pre></p> <p>Example output</p> <pre><code>Committed at block 39984686 (tx hash: AA118F7CFCB3FFF86EF5EED8D2B9ADEAC5D9F242497910DAA232BDE5F6A84C1E, response: {Code:0 Data:[] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Tags:[{Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 110 107 120 57 57 52 113 118 113 109 113 103 107 53 55 118 103 117 113 104 54 122 106 108 97 99 113 122 120 100 107 117 101 53 122 106 121 120] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[97 99 116 105 111 110] Value:[100 101 112 111 115 105 116 72 84 76 84] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\n</code></pre> <p>After the deposit, you may observe that the balance of sender is decreased. The amount in deposit transaction must be positive. Besides, you can query the swap by <code>swapID</code> and the <code>in_amount</code> must equal to the amount that you balance decreased.</p>"},{"location":"guides/concepts/atomic-swaps.html#claim-htlt","title":"Claim HTLT","text":"<p>Claim Hash Timer Locked Transfer is to claim the locked asset by showing the random number value that matches the hash. Each HTLT locked asset is guaranteed to be release once.</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_2","title":"Parameters","text":"Name Type Description Optional From Address Sender address No SwapID 32 bytes ID of previously created swap, hex encoding No RandomNumber 32 bytes The random number to unlock the locked hash, 32 bytes, hex encoding No"},{"location":"guides/concepts/atomic-swaps.html#examples_2","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token claim --swap-id  &lt;swapID&gt; --random-number &lt;random-number&gt; --from &lt;from-key&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\" // the random number generated in htlt\nconst res = client.swap.claimHTLT(from, swapID, randomNumber)\n</code></pre></p> <p>Example output:</p> <pre><code>Committed at block 39984971 (tx hash: 15B8625E0247DE54700D3C5C110BE0CE279D33CC13A73845F3E0305758A40902, response: {Code:0 Data:[] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Tags:[{Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 110 107 120 57 57 52 113 118 113 109 113 103 107 53 55 118 103 117 113 104 54 122 106 108 97 99 113 122 120 100 107 117 101 53 122 106 121 120] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[115 101 110 100 101 114] Value:[116 98 110 98 49 119 120 101 112 108 121 119 55 120 56 97 97 104 121 57 51 119 57 54 121 104 119 109 55 120 99 113 51 107 101 52 102 102 97 115 112 51 100] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[114 101 99 105 112 105 101 110 116] Value:[116 98 110 98 49 103 57 114 122 99 48 101 50 106 102 56 101 102 51 113 112 57 97 120 56 104 48 112 109 112 109 118 106 122 119 109 116 113 52 106 120 102 114] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[97 99 116 105 111 110] Value:[99 108 97 105 109 72 84 76 84] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\n</code></pre>"},{"location":"guides/concepts/atomic-swaps.html#refund-htlt","title":"Refund HTLT","text":"<p>Refund Hash Timer Locked Transfer is to refund the locked asset after timelock is expired.</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_3","title":"Parameters","text":"Name Type Description Optional From Address Sender address No SwapID 32 bytes ID of previously created swap, hex encoding No"},{"location":"guides/concepts/atomic-swaps.html#examples_3","title":"Examples","text":"<ul> <li>On testnet:</li> </ul> <p>Command line: <pre><code>./eth-cli token refund --swap-id &lt;swapID&gt; --from &lt;from-key&gt;  --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p>Javascript: <pre><code>  const client = new BncClient(\"https://testnet-dex.scolcoin.com\")\nconst privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic)\nclient.setPrivateKey(privateKey)\nconst swapID = \"61daf59e977c5f718f5aaedeaf69ccbea1c376db5274a84bca88848696164ffe\" // the ID of an existing swap\nconst res = client.swap.refundHTLT(from, swapID, randomNumber)\n</code></pre></p> <p>Common error:</p> <ul> <li>Already complete <pre><code>ERROR: {\"codespace\":8,\"code\":12,\"abci_code\":524300,\"message\":\"Expected swap status is Open, actually it is Completed\"}\n</code></pre></li> <li>Not expired <pre><code>ERROR: {\"codespace\":8,\"code\":8,\"abci_code\":524296,\"message\":\"Current block height is 40003412, the expire height (40013236) is still not reached\"}\n</code></pre></li> </ul>"},{"location":"guides/concepts/atomic-swaps.html#query-atomic-swap","title":"Query Atomic Swap","text":"<p>Query atomic swap allows you to search swap information by <code>swapID</code></p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_4","title":"Parameters","text":"Name Type Description Optional SwapID 32 bytes ID of previously created swap, hex encoding No"},{"location":"guides/concepts/atomic-swaps.html#examples_4","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swap --swap-id &lt;swapID&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> Expected output <pre><code>{\n\"from\": \"tscol1g9rzc0e2jf8ef3qp9ax8h0pmpmvjzwmtq4jxfr\",\n\"to\": \"tscol1nkx994qvqmqgk57vguqh6zjlacqzxdkue5zjyx\",\n\"out_amount\": [\n{\n\"denom\": \"SCOL\",\n\"amount\": \"100\"\n}\n],\n\"in_amount\": [\n{\n\"denom\": \"TEST-599\",\n\"amount\": \"10000\"\n}\n],\n\"expected_income\": \"10000:TEST-599\",\n\"recipient_other_chain\": \"\",\n\"random_number_hash\": \"5768702259ee55983378d7b8207890c666648264524b9dada551386f832ba6b1\",\n\"random_number\": \"927c1ac33100bdbb001de19c626a05a7c3c11304fc825f5eabb22e741507711b\",\n\"timestamp\": \"1568792486\",\n\"cross_chain\": false,\n\"expire_height\": \"39994169\",\n\"index\": \"53\",\n\"closed_time\": \"1568792927\",\n\"status\": \"Completed\"\n}\n</code></pre></li> </ul>"},{"location":"guides/concepts/atomic-swaps.html#query-atomic-swap-id-by-recipient","title":"Query Atomic Swap ID By Recipient","text":"<p>Query atomic swap ID allows you to search swap history of an recipient. As this is a heavy query interface, some public nodes might close this query interface.</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_5","title":"Parameters","text":"Name Type Description Optional recipient-addr Address Swap recipient address No"},{"location":"guides/concepts/atomic-swaps.html#examples_5","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swapIDs-by-recipient  --recipient-addr &lt;address&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></li> </ul> <p>Example output: <pre><code>[\n  \"4d898bc8558daa4d817486d7a93b77b2c82fcec2123abf4a1eb7d2521237eccd\",\n  \"e7cc2e2eb025cc4617ff0bb84fcffc973d7ba34f15dbc51383fe3543ff143e9c\"\n]\n</code></pre></p>"},{"location":"guides/concepts/atomic-swaps.html#query-atomic-swap-id-by-creator","title":"Query Atomic Swap ID By Creator","text":"<p>Query atomic swap ID allows you to search swap history of an initiator. As this is a heavy query interface, some public nodes might close this query interface.</p>"},{"location":"guides/concepts/atomic-swaps.html#parameters_6","title":"Parameters","text":"Name Type Description Optional creator-addr Address Swap creator address No"},{"location":"guides/concepts/atomic-swaps.html#examples_6","title":"Examples","text":"<ul> <li>On testnet: <pre><code>./eth-cli token query-swapIDs-by-creator  --creator-addr &lt;address&gt; --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></li> </ul> <p>Example output: <pre><code>[\n  \"7341d4ea0519af90d98f60fee45fdc7e385621875ea982bc8caf1fd7a49af8c3\",\n  \"290664c1e8123966d8f9050fdc9d93e94b0e51b36e2e2a6978e492d3796423f1\",\n  \"b260dad3cf63e558fe102a050afbe52d5dd2e30c7db76da33d02ce5f85d07fcf\",\n  \"2b532bf9171c4d33d80fc4a8d6603581a86345b41552337482224d8476fcf5f7\",\n  \"20d22bbfa579520f0ba79cd176fb2b06aa8dbe5b0a6ba8c9b761129f6a42a94c\"\n]\n</code></pre></p>"},{"location":"guides/concepts/atomic-swaps.html#fees","title":"Fees","text":"Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related HTLT N/A 0.000375 SCOL Y depositHTLT N/A 0.000375 SCOL Y claimHTLT N/A 0.000375 SCOL Y refundHTLT N/A 0.000375 SCOL Y"},{"location":"guides/concepts/atomic-swaps.html#workflows","title":"Workflows","text":""},{"location":"guides/concepts/atomic-swaps.html#preparations","title":"Preparations","text":"<ol> <li>Deploy smart-contract which supports Atomic Peg Swap (APS), there is  already one example for Ethereum</li> <li>Deploy <code>deputy</code> process for handling swap activities by token owners, there is an existing open-source solution here: https://github.com/githubusername/githubrepo/bep3-deputy</li> <li>Issue and transfer enough tokens</li> </ol>"},{"location":"guides/concepts/atomic-swaps.html#testnet-deployment","title":"Testnet Deployment","text":"<ul> <li>ERC20 contract has been deployed here: https://ropsten.etherscan.io/address/0xd93395b2771914e1679155f3ea58c41d89d96098</li> <li>Token Symbol: PPC</li> <li>SmartContract has been deployed here:  https://ropsten.etherscan.io/address/0x12dcbf79be178479870a473a99d91f535ed960ad</li> <li>Its corresponding address on testnet is: <code>tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr</code>on ScolCoin Chain and <code>0xD93395B2771914E1679155F3EA58C41d89D96098</code> on Ethereum testnet</li> </ul>"},{"location":"guides/concepts/atomic-swaps.html#swap-tokens-from-ethereum-to-scolcoin-chain","title":"Swap Tokens from Ethereum to ScolCoin Chain","text":""},{"location":"guides/concepts/atomic-swaps.html#1-approve-swap-transaction","title":"1.  Approve Swap Transaction","text":"<p>Go to this page and approve some amount of tokens.</p> <ul> <li>Function: Approve</li> <li>Prameters:<ul> <li>_spender: address of smartcontract, which is <code>0x12DCBf79BE178479870A473A99d91f535ed960AD</code></li> <li>_value: approved amount, should be bumped by e^10</li> </ul> </li> </ul> <p>Note: Please approve more than 1token.  In the following example, 100 PPC token was approved:</p> <p>Example of approve 100 PPC on ropsten testnet</p>"},{"location":"guides/concepts/atomic-swaps.html#2-call-htlt-function-from-ethereum","title":"2. Call <code>HTLT</code> function From Ethereum","text":"<p>Go to smartcontract and call <code>HTLT</code> function</p> <ul> <li>Function: htlt</li> <li>Prameters:<ul> <li>_randomNumberHash: SHA256(randomNumber||timestamp), randomNumber is 32-length random byte array</li> <li>_timestamp: it should be about 10 mins span around current timestamp</li> <li>_heightSpan: it's a customized filed for deputy operator. it should be more than 200 for this deputy.</li> <li>_recipientAddr: deputy address on Ethereum, it's <code>0x1C002969Fe201975eD8F054916b071672326858e</code> for this one</li> <li>_bep2SenderAddr: omit this field with <code>0x0</code></li> <li>_bep2RecipientAddr: Decode your testnet address from bech32 encoded to hex, for example: 0xc41f2a85e1d3629637de1222017dce46c6c8e4b9</li> <li>_outAmount:  approved amount, should be bumped by e^10</li> <li>_bep2Amount: _outAmount * exchange rate, the default rate is 1</li> </ul> </li> </ul> <p>Example of <code>htlt</code> transaction</p>"},{"location":"guides/concepts/atomic-swaps.html#3-deputy-call-htlt-on-scolcoin-chain","title":"3. Deputy Call HTLT on ScolCoin Chain","text":"<p>Then, Deputy will send <code>HTLT</code> transaction here</p>"},{"location":"guides/concepts/atomic-swaps.html#4-claim-htlt-on-scolcoin-chain","title":"4. Claim HTLT on ScolCoin Chain","text":"<ul> <li>Get the <code>swapID</code> on ScolCoin Chain</li> </ul> <pre><code>./eth-cli token query-swapIDs-by-recipient  --recipient-addr tscol1cs0j4p0p6d3fvd77zg3qzlwwgmrv3e9e63423w --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n[\n  \"12aacc3bdc2cef97e8e45cc9b409796df57904a4e9c76863ad8420ff75f13128\"\n]\n</code></pre> <p>You can also get swapID by calculateSwapID in javascript-sdk. It requires three parameters:</p> Name Type Description Example randomNumberHash string randomNumberHash in client HTLT transaction on Ethereum 5a3728a8f4ecb8b4cb0b983a9441b7d69f95229c4aa531e6e3827d7c19beac82 sender string deputy bep2 address tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr senderOtherChain string client ethereum address 0x133d144f52705ceb3f5801b63b9ebccf4102f5ed <ul> <li>Query the swap by <code>swapID</code></li> </ul> <pre><code>{\n  \"from\": \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\",\n  \"to\": \"tscol1cs0j4p0p6d3fvd77zg3qzlwwgmrv3e9e63423w\",\n  \"out_amount\": [\n    {\n      \"denom\": \"PPC-00A\",\n      \"amount\": \"9999999000\"\n    }\n  ],\n  \"in_amount\": null,\n  \"expected_income\": \"\",\n  \"recipient_other_chain\": \"0x1C002969Fe201975eD8F054916b071672326858e\",\n  \"random_number_hash\": \"5a3728a8f4ecb8b4cb0b983a9441b7d69f95229c4aa531e6e3827d7c19beac82\",\n  \"random_number\": \"\",\n  \"timestamp\": \"1569497984\",\n  \"cross_chain\": true,\n  \"expire_height\": \"41380567\",\n  \"index\": \"1947\",\n  \"closed_time\": \"\",\n  \"status\": \"Open\"\n}\n</code></pre> <ul> <li> <p>Verify parameters in the swap:</p> <ul> <li><code>random_number_hash</code> must equal to the randomNumberHash in client HTLT transaction on ethereum</li> <li><code>to</code> must equals to client wallet address</li> <li><code>timestamp</code> must equal to the timestamp in client HTLT transaction on ethereum</li> <li><code>out_amount</code> should be reasonable. Please note that the decimals of bep2 tokens is 8, the out_amount should be something around 10000000000:PPC, deputy will deduct some fees.</li> <li><code>expire_height</code> must not be passed and should be enough for send claim transaction</li> </ul> </li> <li> <p>Send claim transaction on ScolCoin Chain</p> </li> </ul> <pre><code>./eth-cli token claim --swap-id  12aacc3bdc2cef97e8e45cc9b409796df57904a4e9c76863ad8420ff75f13128  --random-number &lt;random-number&gt; --from &lt;from-key&gt;  --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>Example of <code>claim</code> tx on testnet</p>"},{"location":"guides/concepts/atomic-swaps.html#5-deputy-claim-erc20-token","title":"5. Deputy Claim ERC20 Token","text":"<p>Deputy will claim ERC20 tokens afterwards with claim transaction</p>"},{"location":"guides/concepts/atomic-swaps.html#6-demo-for-client-app-swap-erc20-to-bep2","title":"6. Demo for Client APP: swap erc20 to bep2","text":"<p>This is a javascript implementation for client app to swap PPC to PPC-00A with deputy.</p> <pre><code>  const erc20ContractAddr = \"0xd93395b2771914e1679155f3ea58c41d89d96098\"\nconst swapContractAddr = \"0x12DCBf79BE178479870A473A99d91f535ed960AD\"\n\nconst deputyEthWalletAddr = \"0x1C002969Fe201975eD8F054916b071672326858e\"\nconst deputySCOLWalletAddr = \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\"\n\nconst clientEthWalletAddr = \"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"\nconst clientEthWalletKey = new Buffer(\"89A0F0E0732ACAA7AD37C9E6D7A9798ECCE6940C63FF0290A58B1C1C1697486A\", \"hex\")\n\nconst clientBnbWalletAddr = \"tscol17vwyu8npjj5pywh3keq2lm7d4v76n434pwd8av\"\nconst clientBnbWalletMnemonic = \"lawsuit margin siege phrase fabric matrix like picnic day thrive correct velvet stool type broom upon flee fee ten senior install wrestle soap sick\"\n\nconst web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/1c5b38a27f92410cb5feb13b6efb2e14\"))\nconst scolClient = new BncClient(\"https://testnet-dex.scolcoin.com\")\nawait scolClient.initChain()\nscolClient.setPrivateKey(crypto.getPrivateKeyFromMnemonic(clientBnbWalletMnemonic))\nscolClient.useDefaultSigningDelegate()\nscolClient.useDefaultBroadcastDelegate()\nconst scolRPC = new rpcClient(\"https://seed-pre-s3.scolcoin.com\", \"testnet\")\n\nconst erc20Contract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_evilUser\",\"type\":\"address\"}],\"name\":\"addBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isPauser\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_maker\",\"type\":\"address\"}],\"name\":\"getBlackListStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renouncePauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"addPauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"issue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"redeem\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isBlackListed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_clearedUser\",\"type\":\"address\"}],\"name\":\"removeBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_blackListedUser\",\"type\":\"address\"}],\"name\":\"destroyBlackFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_initialSupply\",\"type\":\"uint256\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_symbol\",\"type\":\"string\"},{\"name\":\"_decimals\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Issue\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Redeem\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_blackListedUser\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_balance\",\"type\":\"uint256\"}],\"name\":\"DestroyedBlackFunds\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"AddedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"RemovedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserRemoved\",\"type\":\"event\"}],erc20ContractAddr)\nconst swapContract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"ERC20ContractAddr\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"isSwapExist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refund\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_swapSender\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"}],\"name\":\"calSwapID\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"claim\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_heightSpan\",\"type\":\"uint256\"},{\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"},{\"name\":\"_bep2RecipientAddr\",\"type\":\"bytes20\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"htlt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"claimable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refundable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"queryOpenSwap\",\"outputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_sender\",\"type\":\"address\"},{\"name\":\"_recipient\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_erc20Contract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"_bep2Addr\",\"type\":\"bytes20\"},{\"indexed\":false,\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"HTLT\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"}],\"name\":\"Refunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"Claimed\",\"type\":\"event\"}], swapContractAddr)\n\n//--------------------------------------------\n//Step1 approve erc20 to swap contract address\n//--------------------------------------------\nconst approveData = erc20Contract.methods.increaseAllowance(swapContractAddr, 10000000000).encodeABI()\nlet nonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\nlet gasPrice = await web3.eth.getGasPrice()\nlet gasLimit = 3000000\nlet rawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: erc20ContractAddr,\nvalue: '0x00',\ndata: approveData\n}\nvar ethereumjs = require('ethereumjs-tx')\nvar signTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nvar serializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n//----------------------------------------------------------------------------\n//Step2 call swap contract to send htlt transaction on Ethereum\n//----------------------------------------------------------------------------\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"\nconst timestamp = Math.floor(Date.now()/1000)\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp).toString(\"hex\")\nconst heightSpan = 1000\nconst hexEncodingClientSCOLaddr = '0x'+crypto.decodeAddress(clientBnbWalletAddr).toString(\"hex\")\nconst amount = 10000000000 // 10000000000:PPC\uff0c decimal is 10\nconst expectedIncome = 99999000 //\"99999000:PPC-00A\", decimal is 8, deputy will deduct swap fee, the swap fee is 1000:PPC-00A\n\nconst htltData = swapContract.methods.htlt(\"0x\"+randomNumberHash, timestamp, heightSpan, deputyEthWalletAddr, \"0x0\", hexEncodingClientSCOLaddr, amount, expectedIncome).encodeABI()\nnonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\ngasPrice = await web3.eth.getGasPrice()\ngasLimit = 3000000\nrawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: swapContractAddr,\nvalue: '0x00',\ndata: htltData\n}\nethereumjs = require('ethereumjs-tx')\nsignTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nserializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n\n//----------------------------------------------------------------------------\n//Step3 query swap created by deputy on ScolCoin Chain and verify swap parameters\n//----------------------------------------------------------------------------\nconst swapID = calculateSwapID(randomNumberHash.replace(\"0x\", \"\"), deputySCOLWalletAddr, clientEthWalletAddr).toString()\nconsole.log(swapID)\nlet atomicSwapList = await scolClient.getSwapByRecipient(clientBnbWalletAddr,1000, 0)\nwhile (atomicSwapList.result.atomicSwaps[0].swapId != swapID) {\nconsole.log(\"Waiting for the atomic swap created by deputy\")\nawait wait(5000)\natomicSwapList = await scolClient.getSwapByRecipient(clientBnbWalletAddr,1000, 0)\n}\nconst atomicSwap = await scolClient.getSwapByID(swapID)\nconsole.log(atomicSwap)\nconst status = await scolRPC.status()\nexpect(atomicSwap.result.toAddr).toBe(clientBnbWalletAddr)\nexpect(atomicSwap.result.randomNumberHash).toBe(randomNumberHash.replace(\"0x\", \"\"))\nexpect(atomicSwap.result.timestamp).toBe(timestamp)\nexpect(atomicSwap.result.outAmount).toBe(\"99999000:PPC-00A\")\nexpect(Number(atomicSwap.result.expireHeight)).toBeGreaterThan(Number(status.sync_info.latest_block_height)+100)\n\n//----------------------------------------------------------------------------\n//Step4 claim on ScolCoin Chain\n//----------------------------------------------------------------------------\nconst res = await scolClient.swap.claimHTLT(clientBnbWalletAddr, swapID, randomNumber)\nconsole.log(res)\n\n//----------------------------------------------------------------------------\n//If step3 or step4 are failed and the expire height on Ethereum is passed, try to call refund method on Ethereum\n//----------------------------------------------------------------------------\n</code></pre>"},{"location":"guides/concepts/atomic-swaps.html#swap-tokens-from-scolcoin-chain-to-ethereum","title":"Swap Tokens from ScolCoin Chain to Ethereum","text":""},{"location":"guides/concepts/atomic-swaps.html#1-send-htlt-transaction-from-scolcoin-chain","title":"1. Send <code>HTLT</code> Transaction from ScolCoin Chain","text":"<p>Please read this section to generate a valid <code>HTLT</code> transaction. Please write down the <code>randomNumber</code> and <code>randomNumberHash</code>.</p> <pre><code>./eth-cli token HTLT --from atomic --recipient-addr tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr  --chain-id SCOL-Chain-Ganges  --height-span 10000 --amount  9900000000:PPC-00A  --expected-income 9900000000:PPC  --recipient-other-chain 0x133D144F52705cEb3f5801B63b9EBcCF4102f5Ed  --cross-chain --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\nRandom number: 4811959406ea3e69721d944d308880ec41323b7f89e51a78df3693348779315e\nTimestamp: 1569578936\nRandom number hash: b03f256c9efdb97b9815faa1417e1da4cca7672e0bb26e4e7d9bfc82d0f1f15e\nCommitted at block 634510 (\n    tx hash: 9DEF124E12DE123BA1CC75AA6E68F20CC48EBBE9D7693CE4D0416267C6C0F159,\n    response: {\n        Code:0 Data:[229 50 241 60 76 91 112 146 93 68 100 222 83 84 180 133 181 151 241 174 93 125 132 82 245 198 5 66 0 123 32 113]\n        Log:Msg 0: swapID: f85dd907df0a5897927b949c0f9e2563d453ba698ff9941fed1ce91f8057afc2\n        ...\n)\n</code></pre> <p>Note: the swap amount must be positive.</p> <p>Please write down the <code>random number</code>, <code>random number hash</code>, <code>swapID</code> and <code>timestamp</code> for next steps.</p> <p>Example is here</p> <p>Then, you can query the the swap by <code>SwapID</code>:</p> <pre><code>./eth-cli token query-swap --swap-id f85dd907df0a5897927b949c0f9e2563d453ba698ff9941fed1ce91f8057afc2 --chain-id SCOL-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>You can use this <code>swapID</code> for refund if the deputy doesn't send htlt transaction on ethereum with proper parameters.</p>"},{"location":"guides/concepts/atomic-swaps.html#2-deputy-approve-tokens","title":"2.  Deputy Approve Tokens","text":"<p>You should see that Deputy has approve enough amount of tokens for atomic swap.</p>"},{"location":"guides/concepts/atomic-swaps.html#3-deputy-send-htlt-on-ethereum","title":"3. Deputy Send HTLT on Ethereum","text":"<p>You should see that Deputy has sent the <code>htlt</code> transaction afterwards</p> <p>To get the <code>swapID</code> on Ethereum, you can check this page 0xd3bacf63906af5459ead39f27cae189e2f3e76fda34523714a4c61d76c79ee4e is the <code>swapID</code> on Ethereum.</p>"},{"location":"guides/concepts/atomic-swaps.html#4-claim-erc20-tokens-on-ethereum","title":"4. Claim ERC20 Tokens on Ethereum","text":"<p>You should see that Deputy has already approved enough tokens and</p> <p>In its event log, you should see the <code>swapID</code>. Before calling <code>claim</code> function on ethereum, clients should verify the parameters in the <code>HTLT</code> event.</p> <ul> <li><code>_randomNumberHash</code> must equal to the randomNumberHash in client HTLT transaction on ScolCoin Chain</li> <li><code>_recipientAddr</code> must equal to client ethereum wallet address</li> <li><code>_timestamp</code> must equal to the timestamp in client HTLT transaction on ScolCoin Chain</li> <li><code>_outAmount</code> should be reasonable. Please note that the decimals erc20 contract and deputy will deduct some fees.</li> <li><code>_expireHeight</code> must not be passed and should be enough for send claim transaction</li> </ul> <p>Then, you can call the <code>claim</code> function:</p> <ul> <li>Function: claim</li> <li>Prameters:<ul> <li>_swapID: this is get from event, you can also calculate it from <code>calSwapID</code> function in the contract. calSwapID(randomNumberHash, {deputy ethereum address}, {hex encoding client shree address})</li> <li>_randomNumber: reveal your randomNumber</li> </ul> </li> </ul> <p>Example is here</p>"},{"location":"guides/concepts/atomic-swaps.html#5-deputy-claim-on-scolcoin-chain","title":"5. Deputy Claim on ScolCoin Chain","text":"<p><code>Claim HTLT</code> transaction from Deputy is sent afterwards:</p>"},{"location":"guides/concepts/atomic-swaps.html#6-demo-for-client-app-swap-bep2-to-erc20","title":"6. Demo for Client APP: swap bep2 to erc20","text":"<p>This is a javascript implementation for client app to swap  PPC-00A to PPC with deputy.</p> <pre><code>  const erc20ContractAddr = \"0xd93395b2771914e1679155f3ea58c41d89d96098\"\nconst swapContractAddr = \"0x12DCBf79BE178479870A473A99d91f535ed960AD\"\n\nconst deputyEthWalletAddr = \"0x1C002969Fe201975eD8F054916b071672326858e\"\nconst deputySCOLWalletAddr = \"tscol1pk45lc2k7lmf0pnfa59l0uhwrvpk8shsema7gr\"\n\nconst clientEthWalletAddr = \"0xfA5E36a04EeF3152092099F352DDbe88953bB540\"\nconst clientEthWalletKey = new Buffer(\"89A0F0E0732ACAA7AD37C9E6D7A9798ECCE6940C63FF0290A58B1C1C1697486A\", \"hex\")\n\nconst clientBnbWalletAddr = \"tscol17vwyu8npjj5pywh3keq2lm7d4v76n434pwd8av\"\nconst clientBnbWalletMnemonic = \"lawsuit margin siege phrase fabric matrix like picnic day thrive correct velvet stool type broom upon flee fee ten senior install wrestle soap sick\"\n\nconst web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/1c5b38a27f92410cb5feb13b6efb2e14\"))\nconst scolClient = new BncClient(\"https://testnet-dex.scolcoin.com\")\nawait scolClient.initChain()\nscolClient.setPrivateKey(crypto.getPrivateKeyFromMnemonic(clientBnbWalletMnemonic))\nscolClient.useDefaultSigningDelegate()\nscolClient.useDefaultBroadcastDelegate()\nconst scolRPC = new rpcClient(\"https://seed-pre-s3.scolcoin.com\", \"testnet\")\n\nconst erc20Contract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_evilUser\",\"type\":\"address\"}],\"name\":\"addBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isPauser\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_maker\",\"type\":\"address\"}],\"name\":\"getBlackListStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renouncePauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"account\",\"type\":\"address\"}],\"name\":\"addPauser\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"issue\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"redeem\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isBlackListed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_clearedUser\",\"type\":\"address\"}],\"name\":\"removeBlackList\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_blackListedUser\",\"type\":\"address\"}],\"name\":\"destroyBlackFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_initialSupply\",\"type\":\"uint256\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_symbol\",\"type\":\"string\"},{\"name\":\"_decimals\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Issue\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Redeem\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_blackListedUser\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_balance\",\"type\":\"uint256\"}],\"name\":\"DestroyedBlackFunds\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"AddedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"RemovedBlackList\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"account\",\"type\":\"address\"}],\"name\":\"PauserRemoved\",\"type\":\"event\"}],erc20ContractAddr)\nconst swapContract = new web3.eth.Contract([{\"constant\":true,\"inputs\":[],\"name\":\"ERC20ContractAddr\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"isSwapExist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refund\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_swapSender\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"}],\"name\":\"calSwapID\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"claim\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_heightSpan\",\"type\":\"uint256\"},{\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"name\":\"_bep2SenderAddr\",\"type\":\"bytes20\"},{\"name\":\"_bep2RecipientAddr\",\"type\":\"bytes20\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"htlt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"claimable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"refundable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_swapID\",\"type\":\"bytes32\"}],\"name\":\"queryOpenSwap\",\"outputs\":[{\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"name\":\"_sender\",\"type\":\"address\"},{\"name\":\"_recipient\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_erc20Contract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_timestamp\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"_bep2Addr\",\"type\":\"bytes20\"},{\"indexed\":false,\"name\":\"_expireHeight\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_outAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_bep2Amount\",\"type\":\"uint256\"}],\"name\":\"HTLT\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"}],\"name\":\"Refunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_msgSender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_recipientAddr\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_swapID\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumberHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_randomNumber\",\"type\":\"bytes32\"}],\"name\":\"Claimed\",\"type\":\"event\"}], swapContractAddr)\n\n//--------------------------------------------\n//Step1 send htlt on ScolCoin Chain\n//--------------------------------------------\nconst randomNumber = \"e8eae926261ab77d018202434791a335249b470246a7b02e28c3b2fb6ffad8f3\"\nconst timestamp = Math.floor(Date.now()/1000)\nconst randomNumberHash = calculateRandomNumberHash(randomNumber, timestamp).toString(\"hex\")\nconst heightSpan = 10000\nconst amount = [{\ndenom: \"PPC-00A\",\namount: 100000000\n}]\nconst expectedIncome = \"9999990000:PPC\" //\"9999990000:PPC\", decimal is 10, deputy will deduct swap fee, the swap fee is 10000:PPC\n\nscolClient.swap.HTLT(clientBnbWalletAddr, deputySCOLWalletAddr, clientEthWalletAddr, \"\", randomNumberHash, timestamp, amount, expectedIncome, heightSpan, true)\nawait wait(1000)\n\n//----------------------------------------------------------------------------\n//Step2 query swap created by deputy on Ethereum and verify swap parameters\n//----------------------------------------------------------------------------\nconst hexEncodingClientSCOLaddr = '0x'+crypto.decodeAddress(clientBnbWalletAddr).toString(\"hex\")\nconst swapID = await swapContract.methods.calSwapID(\"0x\"+randomNumberHash, deputyEthWalletAddr, hexEncodingClientSCOLaddr).call()\nconsole.log(swapID)\n\nlet openSwap = await swapContract.methods.queryOpenSwap(swapID).call()\nwhile (openSwap._randomNumberHash == '0x0000000000000000000000000000000000000000000000000000000000000000') {\nconsole.log(\"Waiting for the atomic swap created by deputy\")\nawait wait(5000)\nopenSwap = await swapContract.methods.queryOpenSwap(swapID).call()\n}\nlet ethBlock = await web3.eth.getBlock('latest')\nlet ethLatestHeight = ethBlock.number\nexpect(openSwap._randomNumberHash).toBe(\"0x\"+randomNumberHash)\nexpect(Number(openSwap._timestamp)).toBe(timestamp)\nexpect(Number(openSwap._outAmount)).toBe(9999990000)\nexpect(openSwap._recipient).toBe(clientEthWalletAddr)\nexpect(Number(openSwap._expireHeight)).toBeGreaterThan(Number(ethLatestHeight)+20)\n\n//----------------------------------------------------------------------------\n//Step3 claim on Ethereum\n//----------------------------------------------------------------------------\nconst claimData = swapContract.methods.claim(swapID, \"0x\"+randomNumber).encodeABI()\nlet nonce = await web3.eth.getTransactionCount(clientEthWalletAddr, 'pending')\nlet gasPrice = await web3.eth.getGasPrice()\nlet gasLimit = 3000000\nlet rawTx = {\nnonce: web3.utils.toHex(nonce),\ngasPrice: web3.utils.toHex(gasPrice),\ngasLimit: web3.utils.toHex(gasLimit),\nto: swapContractAddr,\nvalue: '0x00',\ndata: claimData\n}\nvar ethereumjs = require('ethereumjs-tx')\nvar signTx = new ethereumjs(rawTx)\nsignTx.sign(clientEthWalletKey)\nvar serializedTx = signTx.serialize();\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', console.log)\nawait wait(20000)\n\n//----------------------------------------------------------------------------\n//If step2 or step3 are failed and the expire height on ScolCoin Chain is passed, try to send refundHTLT transaction on ScolCoin Chain\n//----------------------------------------------------------------------------\n</code></pre>"},{"location":"guides/concepts/atomic-swaps.html#swap-between-several-bep2-tokens","title":"Swap between Several BEP2 tokens","text":""},{"location":"guides/concepts/atomic-swaps.html#swap-between-several-bep2-tokens-fails","title":"Swap between Several BEP2 tokens fails","text":""},{"location":"guides/concepts/bc-bridge.html","title":"BC &lt;-&gt; SCOL Token Bridge","text":"<p>Note</p> <p>Please note that BC &lt;-&gt; SCOL Token Bridge is a module of ScolCoin Chain fullnode to facilitate cross-chain transfer between ScolCoin Chain and ScolCoin Chain, while  SCOL Bridge, a bridge service providing access to inter-blockchain liquidity for ScolCoin Chain, ScolCoin Chain decentralized applications, and bring valuable assets to ScolCoin Chain ecosystems.</p>"},{"location":"guides/concepts/bc-bridge.html#what-is-bc-scol-bridge","title":"What is BC &lt;-&gt; SCOL  bridge","text":"<p>BC &lt;-&gt; SCOL token bridge for self transfers of BEP2 tokens to SRC20 (ERC20 representation). The BC &lt;-&gt; SCOL  bridge connects two chains (BC and TC). When a user deposits BEP2 into the BC &lt;-&gt; SCOL bridge contract contract on BC they get the same amount of SRC20 tokens on TC, and they can convert them back as well.</p> <p>A purely-code-controlled escrow account is a kind of account which is derived from a hard-coded string in shree chain protocol. This kind of account doesn't have its own private key and it's only controlled by code in protocol. The code for calculating escrow account is the same as how it's done in cosmos-sdk: <pre><code>AtomicSwapCoinsAccAddr = sdk.AccAddress(crypto.AddressHash([]byte(\"ScolCoin ChainPegAccount\")))\n</code></pre> The account for mainnet is: scol1v8vkkymvhe2sf7gd2092ujc6hweta38xadu2pj and the account for testnet is: tscol1v8vkkymvhe2sf7gd2092ujc6hweta38xnc4wpr. Once the swap is claimed or refunded, the fund will be transferred from the purely-code-controlled escrow account to client accounts.</p>"},{"location":"guides/concepts/bc-bridge.html#fee-table","title":"Fee Table","text":"Transaction Type Pay in SCOL BC &lt;-&gt; SCOL Bridge Bind 0.01 Transfer Out 0.01 BC &lt;-&gt; SCOL Bridge Bind Relayer Fee 0.01 Transfer Out Relayer Fee 0.01"},{"location":"guides/concepts/bc-bridge.html#commands","title":"Commands","text":""},{"location":"guides/concepts/bc-bridge.html#download","title":"Download","text":"<p>Please download <code>eth-cli</code> binary from here</p>"},{"location":"guides/concepts/bc-bridge.html#bind","title":"Bind","text":""},{"location":"guides/concepts/bc-bridge.html#parameters-for-bc-scol-bridge-bind","title":"Parameters for BC &lt;-&gt; SCOL  bridge bind","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from alice account name Yes --symbol DEF-0E9 chain-id of the side  chain the validator belongs to Yes --amount 1000000000 amount of tokens to bind Yes --contract-address 0x6aade9709155a8386c63c1d2e5939525b960b4e7 contract address of token  in smart chain Yes --contract-decimals 18 decimals of token in  smart chain Yes --expire-time 1594715271 timestamp of bind expire  time Yes"},{"location":"guides/concepts/bc-bridge.html#for-example","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli bridge bind --symbol DEF-0F9 --amount 6000000000000000 --expire-time 1594715271 --contract-decimals 18 --from alice --chain-id SCOL-Chain-Tigris --contract-address 0x6aade9709155a8386c63c1d2e5939525b960b4e7 --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-bridge.html#unbind","title":"Unbind","text":""},{"location":"guides/concepts/bc-bridge.html#parameters-for-bc-scol-bridge-unbind","title":"Parameters for BC &lt;-&gt; SCOL  bridge unbind","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from alice account name Yes --symbol DEF-0E9 chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-bridge.html#for-example_1","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli bridge unbind --symbol DEF-0F9 --from alice --chain-id SCOL-Chain-Tigris --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-bridge.html#transfer-out","title":"Transfer out","text":""},{"location":"guides/concepts/bc-bridge.html#parameters-for-bc-scol-bridge-transfer-out","title":"Parameters for BC &lt;-&gt; SCOL bridge transfer-out","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from alice account name Yes --to 0xf9f609f9f4309f191654aa1fd691a6be6aefa7ac receiver address in smart  chain Yes --amount 1000000000:SCOL  (10 SCOL) amount of token to  transfer Yes --expire-time 1594715271 timestamp of transfer out  expire time Yes"},{"location":"guides/concepts/bc-bridge.html#for-example_2","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli bridge transfer-out --to 0xf9f609f9f4309f191654aa1fd691a6be6aefa7ac --expire-time 1594715271 --chain-id SCOL-Chain-Tigris --from alice --amount 100000000:DEF-0F9 --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-slashing.html","title":"Slashing","text":""},{"location":"guides/concepts/bc-slashing.html#slashing_1","title":"Slashing","text":"<p>Slashing is part of the on-chain governance, to ensure the malicious or negative behaviors are punished. SCOL slash can be submitted by anyone. The transaction submission requires slash evidence and cost fees but also brings a larger reward when it is successful.</p> <p>So far there are two slashable cases.</p>"},{"location":"guides/concepts/bc-slashing.html#double-sign","title":"Double Sign","text":"<p>Anyone can submit a slash request on BC with the evidence of Double Sign of TC</p>"},{"location":"guides/concepts/bc-slashing.html#evidence-validation","title":"Evidence Validation","text":"<ul> <li>Two block headers have same height and same parent block hash</li> <li>Two block headers are sealed by the same validator</li> <li>Two signatures of these two blocks must not be the same</li> <li>The time of these two blocks must be within the validity of the evidence, which is 24 hours</li> </ul> <p>If the evidence is valid:</p> <ol> <li>1000SCOL would be slashed from the self-delegated SCOL of the validator</li> <li>If the self-delegator\u2019s stake amount on the validator is less than 1000SCOL, then the unbonding delegation balance would be slashed if it exists until totally 1000SCOL slashed from self-delegator of the validator. However, if all the slashed SCOL is less than 1000, all the remaining stake of the self-delegator will be slashed</li> <li>100 of slashed SCOL would allocate to the submitter as a reward</li> <li>The rest of slashed SCOL will allocate to the custody addresses of which validators would take part in the next distribution. If no matched validators found, then the rest of slashed SCOL will allocate to validators on BC as block fee</li> <li>Set the validator \u2018jailed\u2019 with duration of 7 days, and remove it from validator set by an instance SCOL validator set update Cross-Chain update</li> </ol>"},{"location":"guides/concepts/bc-slashing.html#inavailability","title":"Inavailability","text":"<p>There can be an internal smart contract responsible for recording the missed blocking metrics of each validator.</p> <p>If a validator missed more than 50 blocks in 24h, the blocking reward for validator will not be relayed to BC for distribution but shared with other better validators. If it missed more than 150 blocks in 24h, then this will be propagated back to BC where another Slashing will happen:</p> <ol> <li>50SCOL would be slashed from the  self-delegated SCOL of the validator</li> <li>If the self-delegator\u2019s stake amount on the validator is less than 50SCOL, then the unbonding delegation balance would be slashed if it exists until totally 50SCOL slashed from self-delegator of the validator. However, if all the slashed SCOL is less than 1000, all the remaining stake of the self-delegator will be slashed</li> <li>10 of slashed SCOL would allocate to the validators on BC as block fee</li> <li>The rest of slashed SCOL will allocate to the custody addresses of which validators would take part in the next distribution. If no matched validators found, then the rest of slashed SCOL will allocate to validators on BC as block fee</li> <li>Set the validator \u2018jailed\u2019 with duration of 2 days, and remove it from validator set by an instance SCOL validator set update Cross-Chain update</li> </ol>"},{"location":"guides/concepts/bc-slashing.html#unjail","title":"Unjail","text":"<p>The malicious validators who are slashed by the previous cases will be set to <code>jailed</code> along with a duration setting as well due to the malicious or negative behaviors. We can set it to \u2018unjailed\u2019 by sending a side-unjail transaction if the validation passed.</p> <p>When your validator is <code>unjailed</code> on shree chain, it must wait for the next UTC 0:00 to join validatorsest again.</p>"},{"location":"guides/concepts/bc-slashing.html#transaction-validation","title":"Transaction Validation","text":"<ul> <li>validator address must not be empty</li> <li>side chain id exists</li> <li>self-delegation of the validator exists and the tokens of it must be greater than the min-self-delegation setting by 20000SCOL</li> <li>the validator is in \u2018jailed\u2019 now</li> <li>already passed the duration set when \u2018jailed\u2019 happened</li> </ul>"},{"location":"guides/concepts/bc-slashing.html#fee-table","title":"Fee Table","text":"Transaction Type Pay in SCOL Unjail A Smart Chain Validator 1 Submit Byzaitine Behavior Evidence of A Smart Chain Validator 10"},{"location":"guides/concepts/bc-slashing.html#commands","title":"Commands","text":""},{"location":"guides/concepts/bc-slashing.html#download-binary","title":"Download Binary","text":"<p>Please download <code>eth-cli</code> binary from here</p>"},{"location":"guides/concepts/bc-slashing.html#submit-scol-evidence","title":"Submit SCOL evidence","text":"<p>Slashing validators of SCOL for the malicious behavior of double-sign by submitting evidence consisting of two block headers with same height but signed by one signer</p>"},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-nc-submit-evidence","title":"Parameters for  slashing nc-submit-evidence","text":"parameter name example comments required --chan-id SCOL-Chain-Tigris the chain id of shree  chain Yes --from scol19awsmku5ch689lp0rj0c6su7x0n5wxhjm65hdd Name or address of  private key with which to sign Yes --evidence [{\"difficulty\":\"0x2\",\"extraData\":\"0xd98301...},{\"difficulty\":\"0x3\",\"extraData\":\"0xd64372...}] Evidence details,  including two bsc block headers with json format Option --evidence-file /user/evidence.json File of evidence details,  if evidence-file is not empty, --evidence will be ignored Option"},{"location":"guides/concepts/bc-slashing.html#examples","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli slashing nc-submit-evidence --from=scol19awsmku5ch689lp0rj0c6su7x0n5wxhjm65hdd --evidence=[{\"parentHash\":\"0x6116de25352c93149542e950162c7305f207bbc17b0eb725136b78c80aed79cc\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"miner\":\"0x0000000000000000000000000000000000000000\",\"stateRoot\":\"0xe7cb9d2fd449f7bd11126bff55266e7b74936f2f230e21d44d75c04b7780dfeb\",\"transactionsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"receiptsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"logsBloom\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"difficulty\":\"0x20000\",\"number\":\"0x1\",\"gasLimit\":\"0x47e7c4\",\"gasUsed\":\"0x0\",\"timestamp\":\"0x5eb2a363\",\"extraData\":\"0x0000000000000000000000000000000000000000000000000000000000000000a2852203a9da8bb555ec98a78c66365437bb1dde6707a08032e9eb916a8a454e37a1fffeab272bcffc2fc1d82aee6f3124bbdc8ed884efcbadfb6ff862cf4c3801\",\"mixHash\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\"nonce\":\"0x0000000000000000\",\"hash\":\"0xd977f1acfd035cf717193a9c3a2351cdccdc2ea0719aff871dade0e8daf8069d\"},{\"parentHash\":\"0x6116de25352c93149542e950162c7305f207bbc17b0eb725136b78c80aed79cc\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"miner\":\"0x0000000000000000000000000000000000000000\",\"stateRoot\":\"0xe7cb9d2fd449f7bd11126bff55266e7b74936f2f230e21d44d75c04b7780dfeb\",\"transactionsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"receiptsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"logsBloom\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"difficulty\":\"0x20000\",\"number\":\"0x1\",\"gasLimit\":\"0x47e7c4\",\"gasUsed\":\"0x64\",\"timestamp\":\"0x5eb2a363\",\"extraData\":\"0x00000000000000000000000000000000000000000000000000000000000000005eab7a9bf40635d056ccab45ac0d8b4e99be4b4ed859e4246f651b95c0adaacc050760a0afc2d9383f821baab7f995cde07271f286c4805095b413e7ad69d9f401\",\"mixHash\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\"nonce\":\"0x0000000000000000\",\"hash\":\"0x917c38a507c9807426fc9e3e9e8ded2db07c7f61070bd1c7b57b9df287e8f7b2\"}]     --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-slashing.html#side-chain-unjail","title":"Side chain Unjail","text":""},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-side-unjail","title":"Parameters for slashing side-unjail","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol19awsmku5ch689lp0rj0c6su7x0n5wxhjm65hdd This address has to be  the operator address of the validator to be unjailed. Name or address of  private key with which to sign. Yes --side-chain-id TC-XXX chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-slashing.html#for-example","title":"For example","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli slashing side-unjail --from scol19awsmku5ch689lp0rj0c6su7x0n5wxhjm65hdd --side-chain-id=bsc --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-slashing.html#query-side-chain-signing-info","title":"Query side chain Signing Info","text":""},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-side-signing-info","title":"Parameters for slashing side-signing-info","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id TC-XXX chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-slashing.html#for-example_1","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli slashing side-signing-info 0x625448c3f21AB4636bBCef84Baaf8D6cCdE13c3F --side-chain-id=bsc --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-slashing.html#query-side-chain-slash-history","title":"Query side chain slash history","text":""},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-side-slash-history-validator-sideconsaddr","title":"Parameters for slashing side-slash-history [validator-sideConsAddr]","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --infraction-height 100 infraction height Yes --infraction-type DoubleSign infraction type, 'DoubleSign;Downtime' Yes --side-chain-id TC-XXX chain-id of the side chain the validator belongs to Yes"},{"location":"guides/concepts/bc-slashing.html#for-example_2","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli slashing side-slash-history 0x625448c3f21AB4636bBCef84Baaf8D6cCdE13c3F --infraction-height 100 --infraction-type DoubleSign --side-chain-id=bsc --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-slashing.html#query-side-chain-slash-histories","title":"Query side chain slash histories","text":""},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-side-slash-histories","title":"Parameters for slashing side-slash-histories","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --infraction-type DoubleSign infraction type, 'DoubleSign;Downtime' Option --side-chain-id TC-XXX chain-id of the side chain the validator belongs to Yes"},{"location":"guides/concepts/bc-slashing.html#for-example_3","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli slashing side-slash-histories 0x625448c3f21AB4636bBCef84Baaf8D6cCdE13c3F --infraction-type DoubleSign --side-chain-id=bsc --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-slashing.html#query-all-side-chain-slash-historiesfor-internal","title":"Query all side chain slash histories(for internal)","text":""},{"location":"guides/concepts/bc-slashing.html#parameters-for-slashing-side-all-slash-histories","title":"Parameters for slashing side-all-slash-histories","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id TC-XXX chain-id of the side chain the validator belongs to Yes"},{"location":"guides/concepts/bc-slashing.html#for-example_4","title":"For example","text":"<ul> <li>Mainnet <pre><code>eth-cli slashing side-all-slash-histories --side-chain-id=bsc --chain-id=test-chain-8d7sJz --home ~/home_cli\n</code></pre></li> </ul>"},{"location":"guides/concepts/bc-staking.html","title":"Staking","text":""},{"location":"guides/concepts/bc-staking.html#posa-consensus-of-scolcoin-chain","title":"PoSA Consensus of ScolCoin Chain","text":"<p>ScolCoin Chain is an innovative solution to bring programmability and interoperability to ScolCoin Chain. ScolCoin Chain relies on a system of 21 validators with Proof of Staked Authority (PoSA) consensus that can support short block time and lower fees. The most bonded validator candidates of staking will become validators and produce blocks. The double-sign detection and other slashing logic guarantee security, stability, and chain finality.</p>"},{"location":"guides/concepts/bc-staking.html#staking-on-scolcoin-chain","title":"Staking on ScolCoin Chain","text":"<p>Ideally, ScolCoin Chain should build such staking and reward logic into the blockchain, and automatically distribute rewards as the blocking happens. Cosmos Hub, who also build on top of Tendermint consensus like ScolCoin Chain, works in this way.</p> <p>However, as SCOL wants to remain compatible with Ethereum as much as possible. On the other side, ScolCoin Chain already has a staking module and could be extended to support both BC and TC. In this way, all the staking related operations are recorded in BC. Once there are any changes about TC's validator set or voting power, the new message will be transferred to SCOL through cross-chain communication.</p>"},{"location":"guides/concepts/bc-staking.html#staking-economics","title":"Staking Economics","text":"<ol> <li>The staking token is SCOL, as it is a native token on both blockchains anyway</li> <li>The staking, i.e. token bond and delegation actions and records for TC, happens on BC.</li> <li>The SCOL validator set is determined by its staking and delegation logic, via a staking module built on BC for TC, and propagated every day UTC 00:00 from BC to SCOL via Cross-Chain communication.</li> <li>The reward distribution happens on BC around every day UTC 00:00 after.</li> </ol>"},{"location":"guides/concepts/bc-staking.html#ranking-algorithm","title":"Ranking Algorithm","text":"<p>Validators are ranked by their power and operator address. The more its delegation tokens, the higher ranking is. If two validators get the same amount of delegated tokens, validator with smaller address bytes has higher ranking.</p>"},{"location":"guides/concepts/bc-staking.html#reward-distrubution","title":"Reward Distrubution","text":"<p>Since SCOL uses PoSA as its consensus engine, all the delegators of validators can receive some share of the validators\u2019 reward.</p> <p>However, the rewards(fees) are collected on SCOL while the staking info is stored on BC.</p> <p>So the main idea is we transfer all the rewards from SCOL to BC once every day and execute the distribution on BC.</p>"},{"location":"guides/concepts/bc-staking.html#main-workflow","title":"Main Workflow:","text":"<ol> <li>ValidatorSet is updated in BreatheBlock, the frequency is once a day. let\u2019s assume it happens on day N.</li> <li>The info of validator set changes of day N would be transmitted to NCthrough interchain communication.</li> <li>The validator set contract on SCOL would receive and update the new validatorset. After that, it would trigger several interchain transfer to transfer the fees that every previous validators collected in this period to their addresses on BC. we can see that fees belongs to the validators of day N-1.</li> <li>To make some room for the error handling, we distribute the fees of day N-1 in the next breathe block (day N+1).</li> </ol>"},{"location":"guides/concepts/bc-staking.html#details","title":"Details","text":"<ol> <li>even if validator set or any their voting powers are not changed on that day, we still transmit the validator set info to TC.</li> <li>the validator set contract maintains the history of the fees that every validators collected after the previous period(We define the period as the time between two contract calls of validator set changes). The actual fees are collected on the contract address.</li> <li> <p>the interchain transfer to send fees from the contract address to each validator\u2019s distribution address on BC. Note the distribution address is auto generated on BC when handling the create-validator tx, so no private key is corresponded to that address and no one except the distribution module can move the tokens on that address. This address is displayed as Distribution Addr in validator info. <pre><code>Validator\nFee Address: tscol15mgzha93ny878kuvjl0pnqmjygwccdadpw5dxf\nOperator Address: bva15mgzha93ny878kuvjl0pnqmjygwccdad08uecu\nValidator Consensus Pubkey:\nJailed: false\nStatus: Bonded\nTokens: 5000000000000\nDelegator Shares: 5000000000000\nDescription: {Elbrus \"\" www.scolcoin.com This is Elbrus org on chapel network.}\nBond Height: 74158\nUnbonding Height: 0\nMinimum Unbonding Time: 1970-01-01 00:00:00 +0000 UTC\nCommission: {rate: 75000000, maxRate: 90000000, maxChangeRate: 3000000, updateTime: 2020-05-22 12:24:19.478568234 +0000 UTC}\nDistribution Addr: tscol1srkkfjk8qctvvy4s3cllhpnkz9679jphr30t2c\nSide Chain Id: chapel\nConsensus Addr on Side Chain: 0xF474Cf03ccEfF28aBc65C9cbaE594F725c80e12d\nFee Addr on Side Chain: 0xe61a183325A18a173319dD8E19c8d069459E2175\n</code></pre></p> </li> <li> <p>we have a lower limit of the value of interchain transfer, at least the value can cover the transfer fee. Also, interchain transfer will only allow max 8 decimals for the amount. The tiny left part would be kept in the contract or put into the system reward pool.</p> </li> <li>the reward: (totalfees * (1-commissionRate)) would be distributed in proportion to the delegations, the left part would be sent to the validator fee address.</li> </ol>"},{"location":"guides/concepts/bc-staking.html#error-handling","title":"Error handling:","text":"<ol> <li>if the cross-chain transfer failed, the tokens would be sent back to a specified address(i.e. the  <code>SideFeeAddr</code> in the store section, validators can change this address via the EditValidator tx). After that, validators can manually deposit the tokens to its own <code>DistributionAddr</code> on BC via Transfer tx. We do not force the validator to do so, but it\u2019s an indicator that can help delegators choose validators.</li> </ol>"},{"location":"guides/concepts/bc-staking.html#fee-table","title":"Fee Table","text":"Transaction Type Pay in SCOL Create A New Smart Chain Validator 10 Edit Smart Chain Validator Information 1 Delegate Smart Chain Validator 0.001 Redelegate Smart Chain Validator 0.003 Undelegate Smart Chain Validator 0.002"},{"location":"guides/concepts/bc-staking.html#commands","title":"Commands","text":""},{"location":"guides/concepts/bc-staking.html#download","title":"Download","text":""},{"location":"guides/concepts/bc-staking.html#mainnet","title":"Mainnet","text":"<p>Please download <code>eth-cli</code> binary from here</p>"},{"location":"guides/concepts/bc-staking.html#testnet","title":"Testnet","text":"<p>Please download <code>eth-cli</code> binary from here</p>"},{"location":"guides/concepts/bc-staking.html#create-scol-validator","title":"Create SCOL Validator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-nc-create-validator","title":"Parameters for nc-create-validator","text":"parameter name example comment required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol1xxx/tscol1xxx address of private key  with which to sign this tx, also be used as the validator operator address Yes --address-delegator scol1xxx/tscol1xxx optional, bech32 address  of the self-delegator. if not provided, --from address will be used as  self-delegator. No --amount 2000000000000:SCOL  (means 20000 SCOL) self-delegation amount,  it has 8 decimal places Yes --moniker myval1 validator name Yes --identity xxx optional identity  signature (ex. UPort or Keybase) No --website www.example.com optional website No --details some details optional details No --commission-rate 80000000(that means 0.8  or 80%) The initial commission  rate percentage, it has 8 decimal places. Yes --commission-max-rate 95000000  (0.95 or 95%) The maximum commission  rate percentage, it has 8 decimal places. You can not update this rate. Yes --commission-max-change-rate 3000000   (0.03 or 3%) The maximum commission  change rate percentage (per day). You can not update this rate. Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes --side-cons-addr 0x1234abcd consensus address of the  validator on side chain, please use hex format prefixed with 0x Yes --side-fee-addr 0xabcd1234 address that validator  collects fee rewards on side chain, please use hex format prefixed with 0x. Yes --home /path/to/cli_home home directory of eth-cli  data and config, default to \u201c~/.eth-cli\u201d No <p>Some address parameters we need to highlight here:</p> Field Name Usage DelegatorAddr Self  delegator address. For BC, this address also used to collect fees. ValidatorAddr validator  operator\u2019s address, used in governance ops like voting. SideConsAddr block  producer\u2019s address on side chain, i.e. consensus address. BC has another  parameter named <code>PubKey</code>, here SideConsAddr replaced that for TC.  Only  SCOL validators need this parameter. SideFeeAddr fees  are collected in this address on TC,   Only  SCOL validators need this parameter. Due to different token units, there are some SCOL left as dust when sending block rewards from ScolCoin Chain to ScolCoin Chain. Those SCOL will be sent to fee address."},{"location":"guides/concepts/bc-staking.html#examples","title":"Examples","text":"<ol> <li> <p>If you want to create a validator with the same operator address and self-delegator address, you only need one signature for this transaction.</p> </li> <li> <p>Mainnet</p> </li> </ol> <pre><code>## mainnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Tigris --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --amount 1000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"[www.example.](http://www.scolcoin.com)com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id bsc --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli\n\n## testnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Ganges --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --amount 2000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"[www.example.](http://www.scolcoin.com)com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id chapel --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli\n</code></pre> <ul> <li>Testnet</li> </ul> <pre><code>## mainnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Tigris --from tscol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --amount 2000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"[www.example.](http://www.scolcoin.com)com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id bsc --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli\n\n## testnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Ganges --from tscol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --amount 2000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"[www.example.](http://www.scolcoin.com)com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id chapel --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli\n</code></pre> <ol> <li>If you want a separated self-delegator address, both <code>self-delegator</code> and <code>validator operator</code> need to sign this transaction. Here we need to use another two commands to support multiple signatures.</li> </ol> <p>a. use the following commands appended with a parameter \u201c--generate-only\u201d and save the result to a json file which would be used to be signed.</p> <pre><code>## mainnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Tigris --from {validator-operator-address}  --address-delegator {delegator-address} --amount 5000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"www.example.com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id bsc --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli --generate-only &gt; unsigned.json\n\n## testnet\neth-cli staking nc-create-validator --chain-id SCOL-Chain-Ganges --from {validator-operator-address}  --address-delegator {delegator-address} --amount 5000000000000:SCOL --moniker bsc_v1 --identity \"xxx\" --website \"www.example.com\" --details \"bsc validator node 1\" --commission-rate 80000000 --commission-max-rate 95000000 --commission-max-change-rate 3000000 --side-chain-id chapel --side-cons-addr 0x9B24Ee0BfBf708b541fB65b6087D6e991a0D11A8 --side-fee-addr 0x5885d2A27Bd4c6D111B83Bc3fC359eD951E8E6F8 --home ~/home_cli --generate-only &gt; unsigned.json\n</code></pre> <p>b. both validator operator(--from) and self-delegator(--address-delegator) use \u201ceth-cli sign\u201d command to sign the file from a).</p> <p>Delegator address need to sign <code>unsigned.json</code> first</p> <ul> <li>Online Mode</li> </ul> <pre><code>## mainnet\n./eth-cli sign unsigned.json --from {delegator-address} --node dataseed4.scolcoin.com:80 --chain-id SCOL-Chain-Tigris &gt;&gt; delegator-signed.json\n\n## testnet\n./eth-cli sign unsigned.json --from {delegator-address} --node data-seed-pre-0-s3.scolcoin.com:80 --chain-id SCOL-Chain-Ganges &gt;&gt; delegator-signed.json\n</code></pre> <ul> <li>Offline Mode</li> </ul> <pre><code>## mainnet\n./eth-cli sign unsigned.json --account-number &lt;delegator-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Tigris --offline --name {delegator-address} &gt;&gt; delegator-signed.json\n\n## testnet\n./eth-cli sign unsigned.json --account-number &lt;delegator-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Ganges --offline --name {delegator-address} &gt;&gt; delegator-signed.json\n</code></pre> <p>Then, validator operator addres will sign it later.</p> <ul> <li>Online Mode</li> </ul> <pre><code>## mainnet\n./eth-cli sign delegator-signed.json --from {validator-address} --node dataseed4.scolcoin.com:80 --chain-id SCOL-Chain-Tigris &gt;&gt; both-signed.json\n\n## testnet\n./eth-cli sign delegator-signed.json --from {validator-address} --node data-seed-pre-0-s3.scolcoin.com:80 --chain-id SCOL-Chain-Ganges &gt;&gt; both-signed.json\n</code></pre> <ul> <li>Offline Mode</li> </ul> <pre><code>## mainnet\n./eth-cli sign delegator-signed.json --account-number &lt;validator-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Tigris --offline --name {validator-address} &gt;&gt; both-signed.json\n\n## testnet\n./eth-cli sign delegator-signed.json --account-number &lt;validator-account-number&gt; --sequence &lt;address-sequence&gt; --chain-id SCOL-Chain-Ganges --offline --name {validator-address} &gt;&gt; both-signed.json\n</code></pre> <p>c. use \u201ceth-cli broadcast\u201d to send the transaction from above to the blockchain nodes.</p> <pre><code>## mainnet\n./eth-cli broadcast both-signed.json  --node dataseed4.scolcoin.com:80 --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli broadcast both-signed.json  --node data-seed-pre-0-s3.scolcoin.com:80 --chain-id SCOL-Chain-Ganges\n</code></pre> <p>Verify your transaction in mainnet-explorer or testnet-explorer</p>"},{"location":"guides/concepts/bc-staking.html#edit-scol-validator","title":"Edit SCOL Validator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-nc-edit-validator","title":"Parameters for nc-edit-validator","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol1xxx/tscol1xxx address of private key  with which to sign this tx, that also indicate the validator that you want to  edit. Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes --moniker myval1 validator name (default  \"[do-not-modify]\") No --identity xxx optional identity  signature (ex. UPort or Keybase) (default \"[do-not-modify]\") No --website www.example.com optional website (default  \"[do-not-modify]\") No --details some details optional details (default  \"[do-not-modify]\") No --commission-rate 80000000(that means 0.8  or 80%) The new commission rate  percentage No --side-fee-addr 0xabcd1234 address that validator  collects fee rewards on side chain, please use hex format prefixed with 0x. No"},{"location":"guides/concepts/bc-staking.html#examples_1","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking nc-edit-validator --chain-id SCOL-Chain-Tigris --side-chain-id bsc --moniker bsc_v1_new --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --home ~/home_cli\n</code></pre> <ul> <li>Testnet</li> </ul> <pre><code>eth-cli staking nc-edit-validator --chain-id SCOL-Chain-Ganges --side-chain-id chapel --moniker bsc_v1_new --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#delegate-scol","title":"Delegate SCOL","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-nc-delegate","title":"Parameters for staking nc-delegate","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol1xxx/tscol1xxx address of private key  with which to sign this tx, that is also the delegator address Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes --validator bva1xxx bech32 address of the  validator, starts with \u201cbva\u201d Yes --amount 1000000000:SCOL  (10 SCOL) delegation amount, it has  8 decimal places Yes"},{"location":"guides/concepts/bc-staking.html#examples_2","title":"Examples","text":"<pre><code>## mainnet\neth-cli staking nc-delegate --chain-id SCOL-Chain-Tigris --side-chain-id bsc --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --validator bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --amount 1000000000:SCOL --home ~/home_cli\n\n## testnet\neth-cli staking nc-delegate --chain-id SCOL-Chain-Ganges --side-chain-id chapel --from tscol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --validator bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --amount 1000000000:SCOL --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#redelegate-scol","title":"Redelegate SCOL","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-nc-redelegate","title":"Parameters for staking nc-redelegate","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol1xxx/tscol1xxx address of private key  with which to sign this tx, that is also the delegator address Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes --addr-validator-source bva1xxx bech32 address of the  source validator, starts with \u201cbva\u201d Yes --addr-validator-dest bva1yyy bech32 address of the  destination validator, starts with \u201cbva\u201d Yes --amount 1000000000:SCOL  (10 SCOL) delegation amount, it has  8 decimal places Yes"},{"location":"guides/concepts/bc-staking.html#examples_3","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking nc-redelegate --chain-id SCOL-Chain-Tigris --side-chain-id bsc --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --addr-validator-source bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --addr-validator-dest bva1jam9wn8drs97mskmwg7jwm09kuy5yjumvvx6r2 --amount1000000000:SCOL --home ~/home_cli\n</code></pre> <ul> <li>Testnet</li> </ul> <pre><code>eth-cli staking nc-redelegate --chain-id SCOL-Chain-Ganges --side-chain-id chapel --from tscol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --addr-validator-source bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --addr-validator-dest bva1jam9wn8drs97mskmwg7jwm09kuy5yjumvvx6r2 --amount1000000000:SCOL --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#undelegate-scol","title":"Undelegate SCOL","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-nc-unbond","title":"Parameters for staking nc-unbond","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --from scol1xxx/tscol1xxx address of private key  with which to sign this tx, that is also the delegator address Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes --validator bva1xxx bech32 address of the  validator, starts with \u201cbva\u201d Yes --amount 1000000000:SCOL  (10 SCOL) delegation amount, it has  8 decimal places Yes"},{"location":"guides/concepts/bc-staking.html#examples_4","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking nc-unbond --chain-id SCOL-Chain-Ganges --side-chain-id chapel --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --validator bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --amount 1000000000:SCOL --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-vaildator-by-operator","title":"Query side chain vaildator by operator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-validator","title":"Parameters for staking side-validator","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-staking.html#examples_5","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking side-validator bva1hz5sg3u0v4gq2veyw5355z7qx6y7uuqhcuzf3f  --side-chain-id bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-delegation-by-delegator-and-operator","title":"Query side chain delegation by delegator and operator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-delegation","title":"Parameters for staking side-delegation","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-staking.html#examples_6","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking side-delegation scol1hz5sg3u0v4gq2veyw5355z7qx6y7uuqhcqre0d bva1hz5sg3u0v4gq2veyw5355z7qx6y7uuqhcuzf3f --chain-id=SCOL-Chain-Tigris --side-chain-id bsc --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-delegations-by-delegator","title":"Query side chain delegations by delegator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-delegations","title":"Parameters for staking side-delegations","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel chain-id of the side  chain the validator belongs to Yes"},{"location":"guides/concepts/bc-staking.html#examples_7","title":"Examples","text":"<ul> <li>Mainnet</li> </ul> <pre><code>eth-cli staking side-delegations scol1hz5sg3u0v4gq2veyw5355z7qx6y7uuqhcqre0d --side-chain-id bsc --node=0.0.0.0:26657 --chain-id=SCOL-Chain-Tigris --trust-node\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-unbonding-delegation","title":"Query side chain unbonding delegation","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-unbonding-delegation","title":"Parameters for staking side-unbonding-delegation","text":"<p>Usage: <pre><code>eth-cli staking side-unbonding-delegation [delegator-addr] [operator-addr] [flags]\n</code></pre></p> parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id bsc/chapel chain-id of the side chain the validator belongs to Yes <p>For example <pre><code>eth-cli staking  side-unbonding-delegation scol1rtzy6szuyzcj4amfn6uarvne8a5epxrdklwhhj bva12hlquylu78cjylk5zshxpdj6hf3t0tahqmr98n --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre></p>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-unbonding-delegations-by-delegator","title":"Query side chain unbonding delegations by delegator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-unbonding-delegations","title":"Parameters for staking side-unbonding-delegations","text":"<p>Usage:</p> <pre><code>eth-cli staking side-unbonding-delegations [delegator-addr] [flags]\n</code></pre> parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id chapel chain-id of the side chain the validator belongs to Yes <p>For example</p> <pre><code>eth-cli staking  side-unbonding-delegations scol1rtzy6szuyzcj4amfn6uarvne8a5epxrdklwhhj --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-unbonding-delegations-by-validator","title":"Query side chain unbonding delegations by validator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-val-unbonding-delegations","title":"Parameters for staking side-val-unbonding-delegations","text":"<p>Usage: <pre><code>eth-cli staking side-val-unbonding-delegation [operator-addr] [flags]\n</code></pre></p> parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id bsc/chapel chain-id of the side chain the validator belongs to Yes <p>For example <pre><code>eth-cli staking side-val-unbonding-delegations bva12hlquylu78cjylk5zshxpdj6hf3t0tahqmr98n --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre></p>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-re-delegation","title":"Query side chain re-delegation","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-redelegation","title":"Parameters for staking side-redelegation","text":"<p>Usage:</p> <pre><code>eth-cli staking side-redelegation [delegator-addr] [src-operator-addr] [dst-operator-addr] [flags]\n</code></pre> parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id bsc/chapel chain-id of the side chain the validator belongs to Yes <p>For example</p> <pre><code>eth-cli staking  side-redelegation scol1rtzy6szuyzcj4amfn6uarvne8a5epxrdklwhhj bva12hlquylu78cjylk5zshxpdj6hf3t0tahqmr98n  bva1hz5sg3u0v4gq2veyw5355z7qx6y7uuqhcuzf3f --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-re-delegations-by-delegator","title":"Query side chain re-delegations by delegator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-redelegations","title":"Parameters for staking side-redelegations","text":"<p>Usage:</p> <pre><code>eth-cli staking side-redelegations [delegator-addr] [flags]\n</code></pre> parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id bsc/chapel chain-id of the side chain the validator belongs to Yes <p>For example</p> <pre><code>eth-cli staking side-redelegations scol1rtzy6szuyzcj4amfn6uarvne8a5epxrdklwhhj --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-re-delegations-by-validator","title":"Query side chain re-delegations by validator","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-val-redelegations","title":"Parameters for staking side-val-redelegations","text":"<p>Usage: <pre><code>eth-cli staking side-val-redelegations [operator-addr] [flags]\n</code></pre> | parameter  name | example       | comments                                        | required | | ------------------- | ----------------- | --------------------------------------------------- | ------------ | | --chan-id           | SCOL-Chain-XXX | the chain id of shree chain                       | Yes          | | --side-chain-id     | bsc/chapel            | chain-id of the side chain the validator belongs to | Yes          |</p> <p>For example</p> <pre><code>eth-cli staking side-val-redelegations bva12hlquylu78cjylk5zshxpdj6hf3t0tahqmr98n --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-staking-pool","title":"Query side chain staking pool","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-pool","title":"Parameters for staking side-pool","text":"parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id bsc/chapel chain-id of the side chain the validator belongs to Yes <p>For example</p> <pre><code>eth-cli staking     side-pool --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home     ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-top-validators","title":"Query side chain top validators","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-top-validators","title":"Parameters for  staking side-top-validators","text":"parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id chapel chain-id of the side chain the validator belongs to Yes --top 10 number of validators to be returned. set as maximum number of  validators  by default Option <p>For example</p> <pre><code>eth-cli staking side-top-validators --top 10 --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/bc-staking.html#query-side-chain-validators-count","title":"Query side chain validators count","text":""},{"location":"guides/concepts/bc-staking.html#parameters-for-staking-side-validators-count","title":"Parameters for staking side-validators-count","text":"parameter  name example comments required --chan-id SCOL-Chain-XXX the chain id of shree chain Yes --side-chain-id chapel chain-id of the side chain the validator belongs to Yes --jail-involved true if true, meaning that the jailed validators will be involved to count Option <p>For example</p> <pre><code>eth-cli staking  side-validators-count --jail-involved --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris --home ~/home_cli\n</code></pre>"},{"location":"guides/concepts/fees.html","title":"Fees","text":"<p>SCOL is the native token on ScolCoin Chain, thus users are charged SCOL for sending transactions.</p>"},{"location":"guides/concepts/fees.html#trading-fees-on-dex","title":"Trading Fees on DEX","text":"<p>Trading fees are subject to complex logic that may mean that individual trades are not charged exactly by the rates below, but between them instead; this is due to the block-based matching engine in use on the DEX.</p> <p>The current fee for trades, applied on the settled amounts, is as follows:</p> Transaction Type Pay in non-SCOL Asset Pay in SCOL Trade 0.1% 0.05% <p>Trading fee can be queried at here. It's under the \"params/DexFeeParam/\".  \"FeeRate\" and \"FeeRateNative\" are both under unit of 10^-6.</p>"},{"location":"guides/concepts/fees.html#fix-fee-table","title":"Fix Fee Table","text":"<p>The difference between ScolCoin Chain and Ethereum is that there is no notion of <code>gas</code>. As a result, fees for the rest transactions are fixed. The details are showned in the table below:</p>"},{"location":"guides/concepts/fees.html#current-fees-table-on-mainnet","title":"Current Fees Table on Mainnet","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Mainnet as of 2021-03-21 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"guides/concepts/fees.html#current-fees-table-on-testnet","title":"Current Fees Table on Testnet","text":"<p>Fees are variable and may change over time as governance proposals are proposed and voted on. The current fees table for Testnet as of 2021-03-17 is as follows:</p> Transaction Type Pay in Non-SCOL Asset Pay in SCOL Exchange (DEX) Related New Order 0 0 Y Cancel (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y Order Expire (No Fill) Equivalent 0.00005 SCOL 0.00001 SCOL Y IOC (No Fill) Equivalent 0.00025 SCOL 0.000005 SCOL Y Transfer N/A 0.000075 SCOL N crossTransferOut N/A 0.000075 SCOL N Multi-send N/A 0.00006 SCOL N Issue Asset N/A 10 SCOL Mint Asset N/A 0.002 SCOL N Transfer ownership N/A 0.002 SCOL N Burn Asset N/A 0.002 SCOL N Freeze/Unfreeze Asset N/A 0.001 SCOL N Lock/unlock/relock Asset N/A 0.002 SCOL N List Asset N/A 200 SCOL N Submit Proposal N/A 1 SCOL N Deposit N/A 0.000125 SCOL N Enable Memo Check N/A 0.2 SCOL N Disable Memo Check N/A 0.2 SCOL N HTLT N/A 0.000075 SCOL N depositHTLT N/A 0.000075 SCOL N claimHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N refundHTLT N/A 0.000075 SCOL N TinyIssueFee N/A 0.4 SCOL N MiniIssueFee N/A 0.6 SCOL N SetTokenUri N/A 0.000075 SCOL N List BEP8 Token N/A 1 SCOL N Create A New Smart Chain Validator N/A 2 SCOL N Edit Smart Chain Validator Information N/A 0.2 SCOL N Delegate Smart Chain Validator N/A 0.0002 SCOL N Redelegate Smart Chain Validator N/A 0.0006 SCOL N Undelegate Smart Chain Validator N/A 0.0004 SCOL N Unjail A Smart Chain Validator N/A 0.5 SCOL N Submit Byzaitine Behavior Evidence of A Smart Chain Validator N/A 0.5 SCOL N Submit Smart Chain Proposal N/A 1 SCOL N Smart Chain Proposal Deposit N/A 0.00025 SCOL N Smart Chain Proposal Vote N/A 0 SCOL N Cross transfer out relayer reward N/A 0.0004 SCOL N"},{"location":"guides/concepts/fees.html#how-to-calculate-multisend-fee","title":"How to calculate multisend fee","text":"<p><code>eth-cli</code>  offers you a multi-send command to transfer multiple tokens to multiple people. 20% discount is available for <code>multi-send</code> transactions. For now, <code>multi-send</code> transaction will send some tokens from one address to multiple output addresses. If the count of output address is bigger than the threshold, currently it's 2, then the total transaction fee is  0.001 SCOL per token per address. For example, if you send 3 ABC token,1 SAT token and 1 ABC to 3 different addresses.</p> <p><pre><code>[\n{\n\"to\":\"scol1g5p04snezgpky203fq6da9qyjsy2k9kzr5yuhl\",\n\"amount\":\"100000000:SCOL,100000000:ABC\"\n},\n{\n\"to\":\"scol1l86xty0m55ryct9pnypz6chvtsmpyewmhrqwxw\",\n\"amount\":\"100000000:SCOL\"\n},\n{\n\"to\":\"scol1l86xty0maxdgst9pnypz6chvtsmpydkjflfioe\",\n\"amount\":\"100000000:SCOL,100000000:SAT\"\n}\n]\n</code></pre> You will pay on mainnet/testnet</p> <pre><code>0.0003 SCOL * 5 = 0.0015 SCOL\n</code></pre>"},{"location":"guides/concepts/fees.html#how-are-rewards-distributed-between-validators","title":"How are rewards distributed between validators?","text":"<p>you can use API to get the latest fee params. <pre><code>[\n{\nmsg_type: \"submit_proposal\",\nfee: 500000000,\nfee_for: 1\n},\n{\nmsg_type: \"deposit\",\nfee: 62500,\nfee_for: 1\n},\n{\nmsg_type: \"vote\",\nfee: 0,\nfee_for: 3\n},\n{\nmsg_type: \"create_validator\",\nfee: 1000000000,\nfee_for: 1\n},\n{\nmsg_type: \"remove_validator\",\nfee: 100000000,\nfee_for: 1\n},\n{\nmsg_type: \"dexList\",\nfee: 100000000000,\nfee_for: 2\n},\n{\nmsg_type: \"orderNew\",\nfee: 0,\nfee_for: 3\n},\n{\nmsg_type: \"orderCancel\",\nfee: 0,\nfee_for: 3\n},\n{\nmsg_type: \"issueMsg\",\nfee: 50000000000,\nfee_for: 2\n},\n{\nmsg_type: \"mintMsg\",\nfee: 500000000,\nfee_for: 2\n},\n{\nmsg_type: \"tokensBurn\",\nfee: 50000000,\nfee_for: 1\n},\n{\nmsg_type: \"tokensFreeze\",\nfee: 500000,\nfee_for: 1\n},\n{\nfixed_fee_params: {\nmsg_type: \"send\",\nfee: 37500,\nfee_for: 1\n},\nmulti_transfer_fee: 30000,\nlower_limit_as_multi: 2\n},\n{\ndex_fee_fields: [\n{\nfee_name: \"ExpireFee\",\nfee_value: 25000\n},\n{\nfee_name: \"ExpireFeeNative\",\nfee_value: 5000\n},\n{\nfee_name: \"CancelFee\",\nfee_value: 25000\n},\n{\nfee_name: \"CancelFeeNative\",\nfee_value: 5000\n},\n{\nfee_name: \"FeeRate\",\nfee_value: 1000\n},\n{\nfee_name: \"FeeRateNative\",\nfee_value: 400\n},\n{\nfee_name: \"IOCExpireFee\",\nfee_value: 10000\n},\n{\nfee_name: \"IOCExpireFeeNative\",\nfee_value: 2500\n}\n]\n},\n{\nmsg_type: \"timeLock\",\nfee: 1000000,\nfee_for: 1\n},\n{\nmsg_type: \"timeUnlock\",\nfee: 1000000,\nfee_for: 1\n},\n{\nmsg_type: \"timeRelock\",\nfee: 1000000,\nfee_for: 1\n},\n{\nmsg_type: \"setAccountFlags\",\nfee: 100000000,\nfee_for: 1\n},\n{\nmsg_type: \"HTLT\",\nfee: 37500,\nfee_for: 1\n},\n{\nmsg_type: \"depositHTLT\",\nfee: 37500,\nfee_for: 1\n},\n{\nmsg_type: \"claimHTLT\",\nfee: 37500,\nfee_for: 1\n},\n{\nmsg_type: \"refundHTLT\",\nfee: 37500,\nfee_for: 1\n}\n]\n</code></pre></p> <p>The <code>fee_for</code>parameter indicate the different distribution way:</p> <ul> <li><code>1</code> means rewards is only for block proposer</li> <li><code>2</code> means rewards are shared among all validators</li> <li><code>3</code> means fee is free.</li> </ul>"},{"location":"guides/concepts/fees.html#how-to-query-fees-in-every-block","title":"How to query fees in every block","text":"<p>The rewards for ScolCoin Chain validators are displayed in explorer. For example: in block 59947302, validator scol1tpagqqqx36gq09kzw4f5a3a9sk3tq54dpl5ldn get <code>0.00005 SCOL</code> as rewards.</p> <p>If you have a fullnode running, you can also get the rewards details exported. To achieve this, you need to set <code>publishBlockFee</code> to be true in your <code>app.toml</code>. To receive rewards stream, there aretwo options <code>publishKafka</code> and <code>publishLocal</code></p> <pre><code># Whether we want publish block fee changes\npublishBlockFee = true\nblockFeeTopic = \"accounts\"\nblockFeeKafka = \"127.0.0.1:9092\"\n# Global setting\npublicationChannelSize = \"10000\"\npublishKafka = false\npublishLocal = true\n</code></pre> <p>The rewards history are saved under <code>{fullnode home}/marketdata/marketdata.json</code>. For example,</p> <p>Note: Quantities here are expressed without decimals, i.e. shifted by 10^8</p> <p><pre><code>{\"Height\":59947302,\"Fee\":\"SCOL:5000\",\"Validators\":[\"scol1tpagqqqx36gq09kzw4f5a3a9sk3tq54dpl5ldn\"]}\n{\"Height\":59947303,\"Fee\":\"SCOL:5000\",\"Validators\":[\"scol1y888axmhzz6yjj464syfy68mkhzy9phlv8fzac\"]}\n{\"Height\":59947304,\"Fee\":\"SCOL:5000\",\"Validators\":[\"scol19klje94mnu53wj7pmrk0zmtpwgr0uz8th0fcvw\"]}\n{\"Height\":59947305,\"Fee\":\"SCOL:21364\",\"Validators\":[\"scol19hunw9ps8n9tkrp2j64jvheezgqmfc2eyrxd7a\"]}\n{\"Height\":59947306,\"Fee\":\"\",\"Validators\":[]}\n...\n{\"Height\":59947480,\"Fee\":\"BUSD-BD1:1486828;XRP-BF2:3311258\",\"Validators\":[\"scol19klje94mnu53wj7pmrk0zmtpwgr0uz8th0fcvw\"]}\n...\n</code></pre> Trading fees can be charged in different BEP2 tokens,</p>"},{"location":"guides/concepts/genesis.html","title":"Genesis File","text":"<p>This document explains how the genesis file of the ScolCoin Chain mainnet is structured. It also explains how you can build a genesis file for your own testnet.</p> <p>Note that you can generate a default genesis file for your own testnet by running the following command:</p> <pre><code>scolchaind init  --chain-id\n</code></pre> <p>The genesis file is stored in <code>~/.scolchaind/config/genesis.json</code>.</p>"},{"location":"guides/concepts/genesis.html#what-is-a-genesis-file","title":"What is a Genesis File","text":"<p>A genesis file is a JSON file which defines the initial state of your blockchain. It can be seen as height <code>0</code> of your blockchain. The first block, at height <code>1</code>, will reference the genesis file as its parent.</p> <p>The state defined in the genesis file contains all the necessary information, like initial token allocation, genesis time, default parameters, and more. Let us break down these information.</p>"},{"location":"guides/concepts/genesis.html#genesis-time-and-chain_id","title":"Genesis Time and Chain_id","text":"<p>The <code>genesis_time</code> is defined at the top of the genesis file. It is a <code>UTC</code> timestamps which specifies when the blockchain is due to start. At this time, genesis validators are supposed to come online and start participating in the consensus process. The blockchain starts when more than 2/3rd of the genesis validators (weighted by voting power) are online.</p> <pre><code>\"genesis_time\": \"2019-04-18T05:59:26.228734998Z\"\n</code></pre> <p>The <code>chain_id</code> is a unique identifier for your chain. It helps differentiate between different chains using the same version of the software. <pre><code>\"chain_id\": \"SCOL-Chain-Tigris\",\n</code></pre></p>"},{"location":"guides/concepts/genesis.html#consensus-parameters","title":"Consensus Parameters","text":"<p>Next, the genesis file defines consensus parameters. Consensus parameters regroup all the parameters that are related to the consensus layer, which is <code>Tendermint</code> in the case of <code>ScolCoin Chain</code>. Let us look at these parameters:</p> <ul> <li>block_size</li> <li><code>max_bytes</code>: Maximum number of bytes per block is 1048576.</li> <li> <p><code>max_gas</code>: Gas limit per block. As gas is not used to calculate transaction fees at the moment. The limit. is set to <code>-1</code>.</p> </li> <li> <p>evidence</p> </li> <li> <p><code>max_age</code>: An evidence is a proof that a validator signed two different blocks at the same height (and round). This is an explicitly malicious behaviour that is punished at the state-machine level. The <code>max_age</code> defines the maximum number of blocks after which an evidence is not valid anymore.</p> </li> <li> <p>validator</p> </li> <li><code>pub_key_types</code>: Currently only <code>ed25519</code> is accepted for validators.</li> </ul> <pre><code>consensus_params: {\nblock_size: {\nmax_bytes: \"1048576\",\nmax_gas: \"-1\"\n},\nevidence: {\nmax_age: \"100000\"\n},\nvalidator: {\npub_key_types: [\n\"ed25519\"\n]\n}\n},\n</code></pre>"},{"location":"guides/concepts/genesis.html#application-state","title":"Application State","text":"<p>The application state defines the initial state of the state-machine.</p>"},{"location":"guides/concepts/genesis.html#genesis-accounts","title":"Genesis Accounts","text":"<p>In this section, initial allocation of tokens is defined. It is possible to add accounts manually by directly editing the genesis file, but it is also possible to edit the balance after genesis file is created.</p> <p>This command creates an item in the <code>accounts</code> list, under the <code>app_state</code> section. In this section, you can see the three different address of all 11 validators.</p> <pre><code>[\n{\nname: \"Aconcagua\",\naddress: \"scol1y888axmhzz6yjj464syfy68mkhzy9phlv8fzac\",\nconsensus_addr: \"\"\n},\n{\nname: \"Aconcagua\",\naddress: \"scol1kdx4xkktr35j2mpxncvtsshswj5gq577me7lx4\",\nconsensus_addr: \"A71E5CD078B8C5C7B1AF88BCE84DD70B0557D93E\"\n},\n</code></pre> <p>Let us break down the list:</p> <ul> <li>The first address <code>scol1y888axmhzz6yjj464syfy68mkhzy9phlv8fzac</code>. At genesis block, according to <code>gentx</code> info, same amount of staking tokens will be allocated to this address. It is also used to receive rewards after chain launched.</li> <li>The second address<code>scol1kdx4xkktr35j2mpxncvtsshswj5gq577me7lx4</code>is used for governance</li> <li><code>consensus_addr</code>is used for signing new blocks</li> </ul>"},{"location":"guides/concepts/genesis.html#token","title":"Token","text":"<p>The <code>tokens</code> module handles tokens. It contains the information of ScolCoin Chain native token <code>SCOL</code> <pre><code>name: \"ScolCoin Chain Native Token\",\nsymbol: \"SCOL\",\ntotal_supply: \"20000000000000000\",\nowner: \"scol1ultyhpw2p2ktvr68swz56570lgj2rdsadq3ym2\",\nmintable: false\n</code></pre></p>"},{"location":"guides/concepts/genesis.html#staking","title":"Staking","text":"<p>The <code>staking</code> module handles the bulk of the Proof-of-Stake logic of the state-machine. This section should look like the following: <pre><code>stake: {\npool: {\nloose_tokens: \"20000000000000000\",\nbonded_tokens: \"0\"\n},\nparams: {\nunbonding_time: \"604800000000000\",\nmax_validators: 21,\nbond_denom: \"SCOL\"\n},\nvalidators: null,\nbonds: null\n},\n</code></pre></p> <p>Let us break down the parameters:</p> <ul> <li>pool</li> <li><code>not_bonded_tokens</code>: Defines the amount of tokens not bonded (i.e. delegated) in genesis. Generally, it equals the total supply of the staking token, it's shifted by 8 digits for representing decimals.</li> <li><code>bonded_tokens</code>: Amount of bonded tokens in genesis. Generally <code>0</code>.</li> <li>params</li> <li><code>unbonding_time</code>: Time in nanosecond it takes for tokens to complete unbonding.</li> <li><code>max_validators</code>: Maximum number of active validators.</li> <li> <p><code>bond_denom</code>: Denomination of the staking token.</p> </li> <li> <p><code>validators</code>: List of last known validators. Generally <code>null</code> in genesis (except if genesis was generated using a previous state).</p> </li> <li> <p><code>bonds</code>: List of last known delegation. Generally <code>null</code> in genesis (except if genesis was generated using a previous state).</p> </li> </ul>"},{"location":"guides/concepts/genesis.html#governance","title":"Governance","text":"<p>The <code>gov</code> module handles all governance-related transactions. The initial state of the <code>gov</code> section looks like the following:</p> <pre><code>gov: {\n  starting_proposalID: \"1\",\n  deposit_params: {\n    min_deposit: [\n      {\n      denom: \"SCOL\",\n      amount: \"100000000000\"\n      }\n      ],\n    max_deposit_period: \"172800000000000\"\n    },\n  tally_params: {\n  quorum: \"50000000\",\n  threshold: \"50000000\",\n  veto: \"33400000\"\n  }\n},\n</code></pre> <p>Let us break down the parameters:</p> <ul> <li><code>starting_proposal_id</code>: This parameter defines the ID of the first proposal. Each proposal is identified by a unique ID.</li> <li>deposit_params</li> <li><code>min_deposit</code>: The minimum deposit required for the proposal to enter <code>Voting Period</code>.</li> <li><code>max_deposit_period</code>: The maximum period (in nanoseconds) after which it is not possible to deposit on the proposal anymore.</li> <li>tally_params</li> <li><code>quorum</code>: Minimum percentage of bonded staking tokens that needs to vote for the result to be valid.</li> <li><code>threshold</code>: Minimum percentage of votes that need to be <code>YES</code> for the result to be valid.</li> <li><code>veto</code>: Maximum percentage <code>NO_WITH_VETO</code> votes for the result to be valid.</li> </ul>"},{"location":"guides/concepts/genesis.html#genesis-transactions","title":"Genesis Transactions","text":"<p>A <code>gentx</code> is a transaction that bonds staking token present in the genesis file under <code>accounts</code> to a validator, essentially creating a validator at genesis. The chain will start as soon as more than 2/3rds of the validators (weighted by voting power) that are the recipient of a valid <code>gentx</code> come online after <code>genesis_time</code>.</p> <p>A <code>gentx</code> can be added manually to the genesis file</p> <pre><code>{\ntype: \"auth/StdTx\",\nvalue: {\nmsg: [\n{\ntype: \"cosmos-sdk/MsgCreateValidatorProposal\",\nvalue: {\nMsgCreateValidator: {\nDescription: {\nmoniker: \"Aconcagua\",\nidentity: \"\",\nwebsite: \"\",\ndetails: \"\"\n},\nCommission: {\nrate: \"0\",\nmax_rate: \"0\",\nmax_change_rate: \"0\"\n},\ndelegator_address: \"scol1y888axmhzz6yjj464syfy68mkhzy9phlv8fzac\",\nvalidator_address: \"bva1kdx4xkktr35j2mpxncvtsshswj5gq577m9l0c3\",\npubkey: {\ntype: \"tendermint/PubKeyEd25519\",\nvalue: \"Xj/NowvRnUXEtzaI2jXn2h/OfGhZssHyDtUgLSQUTj4=\"\n},\ndelegation: {\ndenom: \"SCOL\",\namount: \"1000000000000\"\n}\n},\nproposal_id: \"0\"\n}\n}\n],\nsignatures: [\n{\npub_key: {\ntype: \"tendermint/PubKeySecp256k1\",\nvalue: \"AoeLfC96urAqZtAxg7cCSXh/+tRxGMthLbvXFu/w9nO0\"\n},\nsignature: \"b0wYwS7fJcpg0TerEoH22T1CqcZMc3NHm0BusK/+LPMPtqHQuOkbIlPUM12r1iXJjKZhPM/ItFveKIo1oFtfUg==\",\naccount_number: \"0\",\nsequence: \"0\"\n},\n{\npub_key: {\ntype: \"tendermint/PubKeySecp256k1\",\nvalue: \"AreZUwAj6OlZI+xHZm66K4Nj5G/eNei768x77fdFz1fc\"\n},\nsignature: \"GefEmRyOFk5jGpIZnaGNAOubzPn+wedg62mf8m8yV5cWK7+SByBCcCTHQ+7kB+mkMjOR1AIuXC7Xfou5Q/QhgQ==\",\naccount_number: \"0\",\nsequence: \"0\"\n}\n],\nmemo: \"\",\nsource: \"0\",\ndata: null\n}\n},\n</code></pre> <p>A <code>gentx</code> is just a signed message that validator signed to agree to be validators. Let us break down the parameters:</p> <ul> <li>Signature related info<ul> <li><code>pub_key</code>: pubkey is used for verifying signature</li> <li><code>signature</code>: the signature from validator</li> <li><code>account_number</code>: Unique identifier for the account. It is generated the first time a transaction including this account is included in a block. In gentx, they are all 0</li> <li><code>sequence</code>: This number is used to count the number of transactions sent by this account. It is incremented each time a transaction is included in a block, and used to prevent replay attacks. Initial value is 0.</li> <li><code>memo</code>, <code>source</code> and <code>data</code> are all customized details regarding this transaction</li> </ul> </li> <li><code>Delegation info</code><ul> <li><code>moniker</code>: the name of validator</li> <li><code>delegator_address</code>: this is the address that is listed in <code>app_state</code> section</li> <li><code>validator_address</code>: this is the validator pubkey in <code>bech32</code> encoding with prefix of <code>bva</code></li> <li>delegation: this is the delegation amount. It's shifted by 8 digits for representing decimals.</li> </ul> </li> </ul>"},{"location":"guides/concepts/matching-engine.html","title":"Matching Engine","text":"<p>SCOL DEX is the native marketplace on ScolCoin Chain, allowing you to exchange digital assets issued and listed on it. The matching happens within the blockchain nodes and all of the transactions are recorded on-chain, therefore forming a complete, auditable ledger of activity.</p> <p>ATTENTION: The match logic on DEX is quite different from normal centralized exchange. Please go over the trading and match spec below to get the best interests for your orders.</p> <ul> <li>Order Types</li> </ul> <p>SCOL DEX only accept LIMIT orders, which is adhering to SEC definitions of LIMIT orders</p> <ul> <li> <p>TimeInForce:</p> <pre><code>* GTE: Good Till Expire. Order would stay effective until expire time. Order may expire in the UTC midnight after more than 259, 200 blocks, which is 72 hours in term of blocking time.\n* IOC: Immediate or Cancel. Orders would be executed as much as it can in the booking block round and then got canceled back if there is still quantity left.\n</code></pre> </li> <li> <p>Match Logic</p> </li> </ul> <p>SCOL DEX uses periodic auction to match all available orders. Maker/Taker concepts are introduced to enhance the current periodic auction match algorithm. The match is still executed only once in each block while the execution prices may vary for maker and taker orders.</p> <ul> <li>Anti-front-running</li> </ul> <p>Front-running means someone can get prior knowledge of transactions from other beneficial owners via technology or market advantage, so that they can influence the price beforehand and result in economic gain, which usually brings loss or cost to others. It is a daunting question asked to both centralized and other decentralized exchanges (DEX). Especially on some DEX, front-running actually happens quite often, e.g. via gas or timestamp manipulations, or slow matching.</p> <p>There are several design points in SCOL DEX that make front-running very difficult to execute.</p>"},{"location":"guides/concepts/nc-gov.html","title":"Governance of TC","text":"<p>There are many system parameters to control the behavior of the TC:</p> <ul> <li> <p>All these parameters of SCOL system contracts should be flexible: slashing threshold, cross-chain transfer fees, relayer reward amount and so on.</p> </li> <li> <p>params of Staking/Slash/Oracle/IBC modules on BC</p> </li> </ul> <p>All these parameters will be determined by SCOL Validator Set together through a proposal-vote process based on their staking. Such process will be carried on BC, and the new parameter values will be picked up by corresponding system contracts via cross-chain communication when needed.</p>"},{"location":"guides/concepts/nc-gov.html#fee-table","title":"Fee Table","text":"Transaction Type Fee Fee For Submit Smart Chain Proposal 10 SCOLs Proposer Smart Chain Proposal Deposit 0.00125 SCOL Proposer Smart Chain Proposal Vote 1 SCOL Proposer Relayer reward 0.001 SCOL system reward pool"},{"location":"guides/concepts/nc-gov.html#global-parameters","title":"Global Parameters","text":"<ul> <li><code>min-deposit</code>: The threshold for submitting a proposal on mainnet is 1000SCOL, and the threshold for submitting a proposal on testnet is 2000SCOL</li> </ul>"},{"location":"guides/concepts/nc-gov.html#commands","title":"Commands","text":""},{"location":"guides/concepts/nc-gov.html#query-side-chain-proposals","title":"Query side chain proposals","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --status passed filter proposals by proposal status, status: deposit_period/voting_period/passed/rejected No --voter scol1h9ymecpakr8p8lhchtah2xxx7x4xq099umclqu filter by proposals voted on by voted No <pre><code>## mainnet\n./eth-cli gov  query-proposals --side-chain-id  bsc --trust-node --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli gov  query-proposals --side-chain-id  chapel --trust-node --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#query-side-chain-proposal","title":"Query side chain proposal","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --proposal-id 1 proposalID of proposal being queried Yes <pre><code>## mainnet\n./eth-cli gov  query-proposal  --proposal-id  1  --side-chain-id  bsc --trust-node --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli gov  query-proposal  --proposal-id  1  --side-chain-id  chapel --trust-node --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#query-side-chain-parameters","title":"Query side chain parameters","text":"parameter name example comments required --side-chain-id chapel the id of side chain, default is native chain Yes <pre><code>## mainnet\n./eth-cli params side-params --side-chain-id bsc  --trust-node\n\n## testnet\n./eth-cli params side-params --side-chain-id chapel  --trust-node\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#submit-cross-chain-param-change-proposal","title":"Submit cross chain param change proposal.","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --deposit 200000000000:SCOL deposit of proposal Yes --from alice Name or address of private key with which to sign Yes --key felonyThreshold the parameter name on the side chain Yes --target 0x0000000000000000000000000000000000001001 the address of the contract on side chain Yes --title \"test csc change\" title of proposal Yes --value 0x000000000000000000000000000000000000000000000000000000000000001b the specified value of the parameter on side chain, should encoded in hex Yes --voting-period 604800 voting period in seconds (default 604800) No <pre><code>## mainet\n./eth-cli params  submit-bscParam-change-proposal  --key \"felonyThreshold\" --value \"0x000000000000000000000000000000000000000000000000000000000000001b\"   --target 0x0000000000000000000000000000000000001001   --deposit 200000000000:SCOL     --voting-period 100   --side-chain-id  bsc  --title \"test csc change\"  --from alice  --trust-node   --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli params  submit-bscParam-change-proposal  --key \"felonyThreshold\" --value \"0x000000000000000000000000000000000000000000000000000000000000001b\"   --target 0x0000000000000000000000000000000000001001   --deposit 200000000000:SCOL     --voting-period 100   --side-chain-id  chapel  --title \"test csc change\"  --from alice  --trust-node   --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#submit-cross-chain-channel-management-proposal","title":"Submit cross chain channel management proposal.","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --deposit 200000000000:SCOL deposit of proposal Yes --from alice Name or address of private key with which to sign Yes --channel-id 1 the the channel id that want to manage Yes --enable true enable the channel or not (default true) Yes --title \"test csc change\" title of proposal Yes --voting-period 604800 voting period in seconds (default 604800) No <pre><code>## mainnet\n./eth-cli side-chain  submit-channel-manage-proposal  --channel-id  2 --enable=true  --deposit 200000000000:SCOL     --voting-period 100   --side-chain-id  bsc  --title \"test csc change\"  --from alice  --trust-node   --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli side-chain  submit-channel-manage-proposal  --channel-id  2 --enable=true  --deposit 200000000000:SCOL     --voting-period 100   --side-chain-id  chapel  --title \"test csc change\"  --from alice  --trust-node   --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#submit-side-chain-module-param-change-proposal","title":"Submit side chain module param change proposal.","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --deposit 200000000000:SCOL deposit of proposal Yes --from alice Name or address of private key with which to sign Yes --title \"test csc change\" title of proposal Yes --sc-param-file param.json the file of Side Chain params (json format) Yes --voting-period 604800 voting period in seconds (default 604800) No <pre><code>## mainnet\n./eth-cli params  submit-sc-change-proposal  --sc-param-file param.json  --deposit 200000000000:SCOL  --voting-period 100   --side-chain-id  bsc  --title \"test proposal\"  --from delegator1  --trust-node  --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli params  submit-sc-change-proposal  --sc-param-file param.json  --deposit 200000000000:SCOL  --voting-period 100   --side-chain-id  chapel  --title \"test proposal\"  --from delegator1  --trust-node  --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#vote-for-side-chain-proposal","title":"Vote for side chain proposal","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --proposal-id 1 proposalID of proposal being queried Yes --option Yes vote option {yes, no, no_with_veto, abstain} Yes <pre><code>## mainnet\n./eth-cli gov vote --from alice   --side-chain-id  bsc    --proposal-id 1 --option Yes  --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli gov vote --from alice   --side-chain-id  chapel    --proposal-id 1 --option Yes  --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/nc-gov.html#deposit-for-side-chain-proposal","title":"Deposit for side chain proposal","text":"parameter name example comments required --chan-id SCOL-Chain-XXX the chain id of shree  chain Yes --side-chain-id chapel the id of side chain, default is native chain Yes --proposal-id 1 proposalID of proposal being queried Yes --deposit Yes amount of deposit Yes <pre><code>## mainnet\n./eth-cli gov deposit --from alice   --side-chain-id  bsc    --proposal-id 1 --deposit 1000000000:SCOL --chain-id SCOL-Chain-Tigris\n\n## testnet\n./eth-cli gov deposit --from alice   --side-chain-id  chapel    --proposal-id 1 --deposit 1000000000:SCOL --chain-id SCOL-Chain-Ganges\n</code></pre>"},{"location":"guides/concepts/signature.html","title":"Signatures","text":"<p>Signature is the evidence to prove the sender owns the transaction. It will be created from the actions outlined below:</p> <ol> <li> <p>Compose a data structure. please note <code>msgs</code>, <code>memo</code>, <code>source</code>, <code>data</code> are the same as in the above <code>payload</code>.</p> <ul> <li><code>chain_id</code>: a string, unique ID for the Chain, it stays the same for most time, but may vary as ScolCoin Chain evolves;</li> <li><code>account_number</code>: a string for a 64-bit integer, an identifier number associated with the signing address</li> <li><code>sequence</code>: a string for a a 64-bit integer, please check accounts</li> <li><code>memo</code>: a string, a short sentence of remark for the transaction</li> <li><code>msgs</code>: a byte array, json encoded transaction messages, please check the encoding doc.</li> <li><code>source</code>: a string for a 64 bits integer, which is an identifier for transaction incoming tools</li> <li><code>data</code>: byte array, reserved for future use</li> </ul> </li> </ol> <p>Here is an example in go-sdk:  <code>golang  // StdSignMsg def type StdSignMsg struct {     ChainID       string    `json:\"chain_id\"`     AccountNumber int64     `json:\"account_number\"`     Sequence      int64     `json:\"sequence\"`     Msgs          []msg.Msg `json:\"msgs\"`     Memo          string    `json:\"memo\"`     Source        int64     `json:\"source\"`     Data          []byte    `json:\"data\"` }</code></p> <ol> <li> <p>Encode the above data structure in json, with ordered key, Specifically:</p> <ul> <li>Maps have their keys sorted lexicographically</li> <li>Structs keys are marshalled in the order defined in the struct</li> </ul> </li> <li> <p>Sign SHA256 of the encoded byte array, to create an ECDSA signature on curve Secp256k1 and serialize the <code>R</code> and <code>S</code> result into a 64-byte array. (both <code>R</code> and <code>S</code> are encoded into 32-byte big endian integers, and then <code>R</code> is put into the first 32 bytes and <code>S</code> are put into the last 32 bytes of the byte array. In order to break <code>S</code> 's malleability, <code>S</code> set to <code>curve.Order() - S</code> if <code>S &gt; curnve.Order()/2</code>.)</p> </li> </ol> <p>The <code>signature</code> will be encoded together with transaction message and sent as <code>payload</code> to ScolCoin Chain node via RPC or http REST API, as described in the above section.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html","title":"Threshold Signature Scheme","text":""},{"location":"guides/concepts/threshold-signature-scheme.html#introduction","title":"Introduction","text":"<p>Threshold Signature Scheme (TSS) is a cryptographic protocol for distributed key generation and signing. TSS allows constructing a signature that is distributed among different parties (for example three users), and each user receives a share of the private signing key. To sign a transaction, at least two of these three users need to join. For individuals, threshold signatures allow for two-factor security or splitting the ability to sign between two devices so that a single compromised device won\u2019t put the money at risk. For businesses, threshold signatures allow for the realization of access control policies that prevent both insiders and outsiders from stealing corporate funds. TSS technology allows us to replace all signing commands with distributed computations.The private key is no longer a single point of failure.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#motivation","title":"Motivation","text":"<p>A physical key must fit exactly into a keyhole to unlock a physical vault. But if this key is compromised or lost, the funds locked in the vault may no longer be safe. This simple approach of key management may make sense when a small sum is at stake. However, when the amount stored in the vault is large, it is wise to consider spreading the responsibility of key ownership between several trusted parties.</p> <p>Traditional MultiSig (multi-signature) is a more refined unlocking system that requires multiple independent keys to unlock the vault. MultiSig requires generating a larger private key and the vault has multiple locks - one for each key . More processing power is needed as participants have to sign additional signatures, which must then be checked individually by the network. This is not ideal, because a participant must leave traces showing exactly who signed and multiple parties must be online at the same time.</p> <p>With Threshold Signatures, all of the parties must forge the vault\u2019s lock together, in a modular way, where each party owns a share of the key. A TSS vault is indistinguishable from a regular vault and is hence universal, and it has the same privacy and verification cost of a regular vault. Even if only a subset of the keys is available, the vault may still be unlocked (this is known as meeting a threshold of participation).</p> <p>Combining TSS feature  with ScolCoin Chain client will help users manage their funds in a much safer way. TSS will be offered in an independent binary, but it will have some impact on the existing functions of eth-cli/eth-cli.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#implementation","title":"Implementation","text":"<p>Many development resources have been poured into implementing TSS, a cryptographic protocol for distributed key generation and signing. TSS is now compatible and reusable for ECDSA-based blockchains, including ScolCoin Chain, Bitcoin, and Ethereum networks. We expect that members of the SCOL ecosystem and partner community can integrate this TSS library with their applications, such as wallets and custodians, and further develop this exciting new technology.</p> <p>With the support of the ScolCoin Chain community, we are happy to share the open-source code athttps://github.com/githubusername/githubrepo/tss-lib.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#security-audit","title":"Security Audit","text":"<p>The implementation of a multi-party threshold ECDSA library is open source so it can be publicly audited by anyone. An independent third party auditors from Kudelski Security  are hired to validate the security of the cryptography in TSS solution. The latest report in October by can be found here.</p> <p>Security checks are routinely and continuously planed for all parts of TSS lib implmentations and future audits  will be reported to ScolCoin Chain community.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#workflow","title":"Workflow","text":"<p>Let\u2019s take a look at the major steps in TSS:</p> <ul> <li> <p>Vault Initialization: the first step is for setting up tss parameters of each party. This will initialize the node's p2p listen address and setup a directory to save key. It's recommended that you should save your tss key in a different folder other than normal key info.</p> </li> <li> <p>Key Generation: the second step is also the most complex. We need to define the quorum policy: count of total parties (n) that holds secret shares and threshold (t) which means at least t + 1 parties need to take part in the signing process. We need to generate a key which will be public and used to verify future signatures. However, we also have to generate an individual secret for each party, which is called a secret share. The functions guarantee the same public key to all parties and a different secret share for each. In this way, we achieve: (1) privacy: no secret shares data is leaked between any parties, and (2) correctness: the public key is intact with secret share. They need to agree on the channel which they want to use for sending messages between each other. The channel will have its corresponding password. Both ID and password needs to be shared offline.</p> </li> <li> <p>Signing: this step involves a signature generation function. The input of each party will be its own secret share, created as output of the distributed key generation in the previous step. There is also public input known to all, which is the message to be signed. The output will be a digital signature, and the property of privacy ensures that no leakage of secret shares occurred during the computation.</p> </li> <li> <p>Verification: the verification algorithm remains as it is in the classical setting. To be compatible with single key signatures, ScolCoin Chain validator nodes can be able to verify the signature with the public key. The transaction will be no different from others.</p> </li> <li> <p>Vault Regroup:  Regroup will reset secret share and configs between all parties.It's recommend to switch the configuration periodically, say once a month. If some party lost his key, it's also necessory to reset the distribution once some party lost their key. Regroup will generate new_n secret share with new_t threshold. At least old_t + 1 should participant</p> </li> </ul>"},{"location":"guides/concepts/threshold-signature-scheme.html#where-can-i-download-the-scol-tss-cli","title":"Where can I download the SCOL TSS CLI?","text":"<p>You can download tss client and ScolCoin Chain Commandline here: * Mainnet: https://github.com/githubusername/githubrepo/node-binary/tree/master/cli/prod/0.6.3 * Testnet: https://github.com/githubusername/githubrepo/node-binary/tree/master/cli/testnet/0.6.3</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#how-to-use","title":"How to Use","text":"<ul> <li>Warning: Please test your TSS setup before use this on mainnet.</li> </ul> <p>Please backup your eth-cli home before use this tool:</p> <p><pre><code>cp -r ~/.eth-cli ~/.eth-cli_backup_tss (replace ~/.eth-cli with their eth-cli home)\n</code></pre> Please refer to this Example to help you understand the whole process</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#init","title":"Init","text":"<p><code>tss init</code> will create home directory of a new tss setup, generate p2p key pair.</p> <ul> <li>Here are the global transaction flags:</li> </ul> Name Type Description Note vault_name string name of the vault of this party password string the password of the vault must be 32 bytes or more, the default value is 48 home string Path to config/route_table/node_key/tss_key files, configs in config file can be overridden by command line argument the default value is \"~/.tss\" <ul> <li>Here are the flags for <code>tss init</code>:</li> </ul> Name Type Description Note kdf.iterations uint32 The number of iterations (or passes) over the memory. the default value is 13 kdf.key_length uint32 Length of the generated key (or password hash) \"must be 32 bytes or more, the default value is 48\" kdf.memory uint32 The amount of memory used by the algorithm (in kibibytes) the default value is 65536 kdf.parallelism uint8 The number of threads (or lanes) used by the algorithm. the default value is 4 kdf.salt_length uint32 Length of the random salt. 16 bytes is recommended for password hashing. the default value is 16 moniker string moniker of current party p2p.listen string Adds a multiaddress to the listen list"},{"location":"guides/concepts/threshold-signature-scheme.html#describe","title":"Describe","text":"<p><code>tss describe</code> will show config and address of a tss vault</p> <ul> <li>Here are the flags for <code>tss describe</code>:</li> </ul> Name Type Description Note address_prefix string bech32 prefix of address (default \"scol\") <ul> <li>Example <pre><code>./tss describe\n\n&gt; please set vault of this party:\n[input vault name]\n&gt; Password to sign with this vault:\n[input password]\naddress of this vault: scol1\nconfig of this vault:\n{\n        \"p2p\": {\n                \"listen\": \"/ip4/0.0.0.0/tcp/59968\",\n                \"bootstraps\": null,\n                \"relays\": null,\n                \"peer_addrs\": [\n                        \"/ip4/127.0.0.1/tcp/59748\",\n                        \"/ip4/127.0.0.1/tcp/60022\"\n                ],\n                \"peers\": [\n                        \"test3\",\n                        \"test2\"\n                ],\n                \"DefaultBootstap\": false\n        },\n        \"Id\": \"\",\n        \"Moniker\": \"tss1\",\n        \"vault_name\": \"vault1\",\n        \"Threshold\": 1,\n        \"Parties\": 3,\n        \"log_level\": \"info\",\n        \"profile_addr\": \"\",\n        \"Home\": \"~/.tss\"\n}\n</code></pre></li> </ul>"},{"location":"guides/concepts/threshold-signature-scheme.html#channel","title":"Channel","text":"<p><code>tss channel</code> will generate a channel ID for bootstrapping. One party can generate a channel, then share the generated channel ID with others offline.</p> <ul> <li>Here are the flags for <code>tss channel</code>:</li> </ul> Name Type Description Note channel_expire int expire time in minutes of this channel Default value is 30mins <p>It's advised to refresh the channels regularly.</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#keygen","title":"Keygen","text":"<p>This command will generated the private key and share the secret. Everyone needs to agree on the password of this private key. The lenght of password must be more than eight.</p> <p>Note: you need to make sure that all the parties are online.</p> <ul> <li>Here are the flags for <code>tss keygen</code>:</li> </ul> Name Type Description Note address_prefix string prefix of bech32 address the default value is <code>scol</code> channel_id string channel id for this session channel_password string password to this channel This password has to be set offline. And its length should be more than eight. p2p.peer_addrs []sting peer's multiplex addresses parties int total parities of this scheme threshold int threshold of this scheme, at least threshold + 1 parties need participant signing <p>if you want to add the generated key files in the eth-cli home, you can copy it to the home folder: <pre><code>eth-cli keys add --tss -t tss --tss-home ~/.test1 --tss-vault third test1_third\n</code></pre></p>"},{"location":"guides/concepts/threshold-signature-scheme.html#regroup","title":"Regroup","text":"<p>This command will generate new_n secret from the same private key, and it will be shared with new_t threshold. At least old_t + 1 should participante in signing</p> <ul> <li>Here are the flags for <code>tss regroup</code>:</li> </ul> Name Type Description Note channel_password string channel password of this session channel_id string channel id of this session is_old string whether this party is old committee. If it is set to true, it will participant signing in regroup. There should be only t+1 parties set this to true for one regroup is_new_member string whether this party is new committee, for new party it will changed to true automatically. if an old party set this to true, its share will be replaced by one generated one new_parties int new total parties of regrouped scheme new_threshold int new threshold of regrouped scheme p2p.new_peer_addrs []sting unknown peer's multiple addresses parties int total parities of this scheme threshold int threshold of this scheme, at least threshold + 1 parties  need participant signing"},{"location":"guides/concepts/threshold-signature-scheme.html#changes-to-eth-clieth-cli","title":"Changes to <code>eth-cli/eth-cli</code>","text":"<p>We added a new key type \u201ctss\u201d (just like the existing types: \u201clocal\u201d, \u201coffline\u201d, \u201cledger\u201d) to eth-cli which stands for tss secret share.</p> <p>To add a tss key into eth-cli\u2019s keystore: 1. Tss keygen command will automatically add generated secret share into default keystore (~/.eth-cli) with name \u201ctss__\u201d 2. User can manually specify tss\u2019s home, vault_name and a customized eth-cli home like: <pre><code>eth-cli keys add --home ~/.customized_cli --tss -t tss --tss-home ~/.test1 --tss-vault \u201cdefault\u201d my_name\n</code></pre> All other commands (i.e. send token, place order, delete key etc.) of eth-cli should support tss type key."},{"location":"guides/concepts/threshold-signature-scheme.html#example","title":"Example","text":"<p>In this example, A, B and C are the parties who decided to share a private key together. They decided that any two of them can sign a transaction. To complete a TSS signing process, they need to follow the following steps:</p>"},{"location":"guides/concepts/threshold-signature-scheme.html#step-1-init-tss","title":"Step 1: Init TSS","text":"<p>During this step, all parties from different machines have to initialite their P2P settings before generate the shared key.</p> A B C command ./tss init ./tss init ./tss init Interactive input &gt; please set moniker of this party:  tss1&gt; please set vault of this party:vault1&gt; please set password of thisvault:[input password]&gt; please input again:[input password] &gt; please set moniker of this party: tss2&gt; please set vault of this party:vault1&gt; please set password of this vault:[input password]&gt;please input again:[input password] &gt; please set moniker of this party:tss3&gt; please set vault of this party:vault1&gt; please set password of this vault:[input password]&gt; please input again:[input password] output Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 Files touched or generated ~/.tss/vault1/config.json        ~/.tss/vault1/node_key ~/.tss/vault1/config.json   ~/.tss/vault1/node_key ~/.tss/vault1/config.json    ~/.tss/vault1/node_key"},{"location":"guides/concepts/threshold-signature-scheme.html#step-2-generate-channel-id-for-bootstraping","title":"Step 2: Generate Channel ID for bootstraping","text":"<p>In this step, the parties will create a secrect communication channel between them. One of then will generate the channel ID and share with others. In this example, A will generate the channel ID. B and C will not have to do anything. A can also specify the length for this channel session and the default time is 30 mins.</p> A B C command ./tss channel N/A N/A Interactive input &gt; please set expire time in minutes, (default: 30):[input time] N/A N/A output channel id: 5185D3EF597 N/A N/A"},{"location":"guides/concepts/threshold-signature-scheme.html#step-3-generate-and-share-secret","title":"Step 3: Generate and Share Secret","text":"<p>In this step, the private key will be generated and shared between these three parties. All the parties have to be online at the sme time.</p> A B C command ./tss keygen --vault_name vault1 ./tss keygen --vault_name vault1 ./tss keygen --vault_name vault1 Interactive input &gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties  need participant signing: 1&gt; please set channel id of this session[enter ID]&gt; please input password (AGREED offline with peers) of this session:[enter password]&gt; please input password of this tss vault: [enter password] &gt;please input&gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties need participant signing: 1&gt; please set channel id of this session[enter ID]&gt;please input password (AGREED offline with peers) of this session: [enter password]&gt;please input password of this tss vault: [enter password] &gt; Password to sign with this vault:[enter password]&gt; please set total parties(n): 3&gt; please set threshold(t), at least t + 1 parties need participant signing: 1&gt; please set channel id of this session3085D3EC76D&gt; please input password (AGREED offline with peers) of this session: [enter password]Password of this tss vault: [enter password] output 18:00:09.777  INFO    tss-lib: party {0,tss1}: keygen finished! party.go:11318:00:09.777  INFO        tss: [tss1] received save data client.go:30418:00:09.777  INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss1_vault1        tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc 18:00:09.777  INFO : party {1,tss2}: keygen finished! party.go:11318:00:09.777  INFO        tss: [tss2] received save data client.go:30418:00:09.777  INFO        tss: [tss2] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss2_vault1       tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc 18:00:09.773  INFO    tss-lib: party {2,tss3}: keygen finished! party.go:11318:00:09.773  INFO        tss: [tss3] received save data client.go:30418:00:09.773  INFO        tss: [tss3] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp client.go:309Password of this tss vault:NAME:   TYPE:   ADDRESS:                                                PUBKEY:tss_tss3_vault1        tss     tscol19277gzv934ayctxeg5k9zdwnx3j48u6tydjv9p     scolp1addwnpepqwazk6d3f6e3f5rjev6z0ufqxk8znq8z89ax2tgnwmzreaq8nu7sx2u4jcc Files touched or generated ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/config.json"},{"location":"guides/concepts/threshold-signature-scheme.html#step-4-sign-transaction","title":"Step 4: Sign Transaction","text":"<p>In this steo, A and B decided to sign a transaction together. Both A and B will try to broadcast the transaction and only one of them will succeed.</p> A B C command eth-cli send --amount 1000000:SCOL --to tscol1mh3w2kxmdmnvctt7t5nu7hhz9jnp422edqdw2d --from tss_tss1_vault1 --chain-id SCOL-Chain-Ganges --node https://data-seed-pre-0-s1.scolcoin.com:443 --trust-node eth-cli send --amount 1000000:SCOL --to tscol1mh3w2kxmdmnvctt7t5nu7hhz9jnp422edqdw2d --from tss_tss2_vault1 --chain-id SCOL-Chain-Ganges --node https://data-seed-pre-0-s1.scolcoin.com:443 --trust-node NA Interactive input Password to sign with tss_tss1_vault1:[Enter password]&gt; Channel id:5185D3EF597please input password (AGREED offline with peers) of this session: [Enter password] Password to sign with tss_tss2_vault1:[Enter password]&gt; Channel id:5185D3EF597please input password (AGREED offline with peers) of this session: [Enter password] N/A output Committed at block 33600477 (tx hash: 4FB8096A93D545612A3B5DCE520622608C299C7742103A6BE34C444829BD83A5 ERROR: broadcast_tx_commit: Response error: RPC error -32603 - Internal error: Error on broadcastTxCommit: Tx already exists in cache N/A Files touched or generated N/A N/A N/A"},{"location":"guides/concepts/threshold-signature-scheme.html#step-5-regroup-vault","title":"Step 5: Regroup Vault","text":"<p>First, please generate a new channel for messaging:</p> A B C command ./tss channel N/A N/A Interactive input &gt; please set expire time in minutes, (default: 30):[input time] N/A N/A output channel id: 3415D3FBE00 N/A N/A <p>Then, we can switch to the new channel for sending messages to each others.</p> A B C command ./tss regroup ./tss regroup ./tss regroup Interactive input &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] &gt; please set vault of this party:vault1&gt; Password to sign with this vault:Password to sign with tss_tss1_vault1:[Enter password]&gt; Participant as an old committee? [Y/n]:Y&gt; Participant as a new committee? [Y/n]:Y&gt; please set new total parties(n): 3&gt; please set new threshold(t), at least t + 1 parties   participant signing: 1&gt; Channel id:3415D3FBE00please input password (AGREED offline with peers) of this session: Password to sign with tss_tss1_vault1:[Enter password] output INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp INFO        tss: [tss1] bech32 address is: tscol1mcn0tl9rtf03ke7g2a6nedqtrd470e8l8035jp Files touched or generated ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key ~/.tss/vault1/config.json ~/.tss/vault1/pk.json ~/.tss/vault1/sk.json ~/.tss/vault1/node_key <ul> <li>New committee having different t-n from old committee</li> <li>Change 1-3 into 2-4 scheme.</li> <li>old parties (A, B) join new committee</li> <li>new parties (D, E) are newly-joined</li> </ul> D E command ./tss init  --vault_name vault1 ./tss init  --vault_name vault1 Interactive input &gt; please set moniker of this party: tss4&gt; please set password for key share:[Enter password]&gt; please intput again: [Enter password] &gt; please set moniker of this party: tss4&gt; please set password for key share:[Enter password]&gt; please intput again:[Enter password] output Local party has been initialized under: ~/.tss/vault1 Local party has been initialized under: ~/.tss/vault1 <ul> <li>Regroup from 1-3 to 2-4, with 2 old parties (A and B) and 2 new parties (D and E)</li> </ul> A (old&amp;new committee) B (old&amp;new committee) D (new committee) E (new committee) command ./tss regroup/ --vault_name vault1 ./tss regroup  --vault_name vault1 ./tss regroup  --vault_name vault1 ./tss regroup  --vault_name vault1 Interactive input &gt; please input password: [Enter password] &gt; Participant as an old committee? [Y/n]: Y &gt; Participant as a new commitee? [Y/n]: Y &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties   participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password: [Enter password] &gt; Participant as an old committee? [Y/n]: Y &gt; Participant as a new committee? [Y/n]: Y &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password: [Enter password] &gt; please set Old total parties(n): 3 &gt; please set Old threshold(t), at least t + 1 parties need participant signing: 1 &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] &gt; please input password:[Enter password] &gt; please set Old total parties(n): 3 &gt; please set Old threshold(t), at least t + 1 parties need participant signing: 1 &gt; please set NEW total parties(n): 4 &gt; please set NEW threshold(t), at least t + 1 parties need participant signing: 2 &gt; Channel id: 3415D3FBE00 &gt; please input password (AGREED offline with peers) of this session: [Enter password] output Files touched or generated ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/vault1/config.json  ~/.tss/vault1/pk.json  ~/.tss/vault1/sk.json ~/.tss/payment/config.json  ~/.tss/payment/pk.json  ~/.tss/vault1/sk.json"},{"location":"guides/concepts/trading-specification.html","title":"Trading Specification","text":"<ul> <li>[ ] https://docs.scolcoin.com/trading-spec.html</li> <li>[ ] https://docs.scolcoin.com/match.html</li> <li>[ ] https://docs.scolcoin.com/anti-frontrun.html</li> </ul>"},{"location":"guides/concepts/transaction.html","title":"Transaction","text":""},{"location":"guides/concepts/transaction.html#scolcoin-chain-transaction-basics","title":"ScolCoin Chain Transaction Basics","text":"<p>A blockchain is a globally shared, transactional database. This means that everyone can read entries in the database just by participating in the network. If you want to change something in the database, you have to create a so-called transaction which has to be accepted by all others. The word transaction implies that the change you want to make (assume you want to change two values at the same time) is either not done at all or completely applied. Furthermore, while your transaction is being applied to the database, no other transaction can alter it.</p> <p>As an example, imagine a table that lists the balances of all accounts in an electronic currency. If a transfer from one account to another is requested, the transactional nature of the database ensures that if the amount is subtracted from one account, it is always added to the other account. If due to whatever reason, adding the amount to the target account is not possible, the source account is also not modified.</p> <p>Furthermore, a transaction is always cryptographically signed by the sender (creator). This makes it straightforward to guard access to specific modifications of the database. In the example of the electronic currency, a simple check ensures that only the person holding the keys to the account can transfer money from it.</p>"},{"location":"guides/concepts/walletconnect.html","title":"Wallet Connect","text":"<ul> <li>[ ] https://docs.scolcoin.com/walletconnect.html</li> </ul>"},{"location":"guides/concepts/walletconnect.html#what-is-walletconnect","title":"What is WalletConnect?","text":"<p>WalletConnect is an open protocol for connecting desktop Dapps to mobile Wallets using end-to-end encryption by scanning a QR code. Opening up a whole world of Dapps that were once only available to Metamask. The user can interact with any Dapp without comprising their private keys and will be notified to sign any transaction requests on their mobile.</p>"},{"location":"guides/concepts/walletconnect.html#how-does-it-work","title":"How does it work?","text":"<p>WalletConnect is a simple infrastructure that can be setup by any developer. Using a Bridge server to relay the messages without having access to any of its contents. The contents are encrypted using the session data shared by the QR code between the desktop and mobile. There are libraries for Web, iOS and Android. Read more about it in our documentation introduction.</p>"},{"location":"guides/concepts/walletconnect.html#wallets-with-walletconnect-support-for-scolcoin-chain","title":"Wallets with WalletConnect Support for ScolCoin Chain","text":"<ul> <li>List of Wallets Supporting WalletConnect on ScolCoin Chain</li> </ul> Number Wallet Name Network 1 Trust Wallet Mainnet 2 Math Wallet Mainnet 3 Meet.One Wallet Mainnet 4 Equal Wallet Mainnet&amp;Testnet 5 SafePal Wallet Mainnet 6 CoolWallet Mainnet 7 XWallet Mainnet 8 Atomic Wallet Mainnet"},{"location":"guides/concepts/walletconnect.html#get-started","title":"Get Started","text":"<p>Currently the WalletConnect protocol has references implementations written in Typescript for the Client (browser/react-native/nodejs), the Bridge Server and the Push server.</p> <p>To learn more about how to develop, please read the official documentation.</p> <p>The ScolCoin Chain Web Wallet supports connecting with external wallet providers via the WalletConnect protocol.</p> <p>WalletConnect allows the user to scan a QR code from the wallet app to unlock and use their wallet seamlessly in the web UI.</p> <p>In order for this to work, some modifications to the standard WalletConnect protocol are used in the ScolCoin Chain wallet's implementation.</p> <p>See the list of wallets which support WalletConnect on ScolCoin Chain here</p>"},{"location":"guides/concepts/walletconnect.html#connecting-via-walletconnect","title":"Connecting via WalletConnect","text":"<p>Wallet providers should make use of the WalletConnect Client SDK for their target programming language and OS. There are implementations on GitHub for iOS, Android, React Native, etc.</p>"},{"location":"guides/concepts/walletconnect.html#protocol-differences","title":"Protocol Differences","text":"<p>Since we do not use Ethereum transactions, there are some differences:</p> <ul> <li> <p>Typically <code>sendTransaction</code> is used with Ethereum transaction parameters in WalletConnect dApp integrations. But in ScolCoin Chain's case, instead of invoking <code>sendTransaction</code> in the WalletConnect flow, the new <code>sendCustomRequest</code> call is used instead with a method called <code>scol_sign</code> (see below).</p> </li> <li> <p>The external wallet provider is responsible for sending back the signature and public key of the transaction but should not broadcast the transaction itself. We have instead defined a custom <code>result</code> format in the form of stringified JSON containing the signature and public key. The reason for this is that the wallet app probably does not have access to the complete serialized binary form of the transaction (as this requires Amino encoding).</p> </li> <li> <p>The web wallet will send back a second custom call (after <code>scol_sign</code>) called <code>scol_tx_confirmation</code>, which contains the boolean result of the transaction build/broadcast and any error message encountered by the web wallet during broadcasting. In a complete implementation, this confirmation callback should be responded to with a call to <code>approveRequest</code>.</p> </li> </ul>"},{"location":"guides/concepts/walletconnect.html#sequence-diagram","title":"Sequence Diagram","text":"<p>This sequence diagram shows the flow of messages when the web wallet interacts with an external wallet provider via WalletConnect.</p> <p></p>"},{"location":"guides/concepts/walletconnect.html#custom-requests","title":"Custom Requests","text":"<p>A custom call request adheres to this structure:</p> <pre><code>{\n\"id\": 1,\n\"jsonrpc\": \"2.0\",\n\"method\": \"method_name\",\n\"params\": [{ ... }],\n}\n</code></pre> <p>We have two custom call request formats, here are examples of them:</p>"},{"location":"guides/concepts/walletconnect.html#example-scol_sign","title":"Example: scol_sign","text":"<pre><code>{\n\"method\": \"scol_sign\",\n\"params\": [\n{\n\"account_number\": \"34\",\n\"chain_id\": \"SCOL-Chain-Ganges\",\n\"data\": null,\n\"memo\": \"test\",\n\"msgs\": [\n{\n\"inputs\": [\n{\n\"address\": \"tscol1hgm0p7khfk85zpz5v0j8wnej3a90w709zzlffd\",\n\"coins\": [\n{\n\"amount\": 1000000000,\n\"denom\": \"SCOL\",\n},\n],\n},\n],\n\"outputs\": [\n{\n\"address\": \"tscol1ss57e8sa7xnwq030k2ctr775uac9gjzglqhvpy\",\n\"coins\": [\n{\n\"amount\": 1000000000,\n\"denom\": \"SCOL\",\n},\n],\n},\n],\n},\n],\n\"sequence\": \"31\",\n\"source\": \"1\",\n}\n]\n}\n</code></pre>"},{"location":"guides/concepts/walletconnect.html#response-approverequest","title":"Response (approveRequest)","text":"<p>A response like this should be sent back from the wallet app:</p> <pre><code>{\n\"id\": 1553682007906047,\n\"result\": \"{\\\"signature\\\":\\\"...\\\",\\\"publicKey\\\":\\\"...\\\"}\"\n}\n</code></pre> <p>In <code>result</code>, a JSON-encoded object must be included containing the following hex-string properties: <code>signature</code>, <code>publicKey</code>.</p> <p>Note that:</p> <ul> <li> <p><code>id</code> and <code>jsonrpc</code> are usually pre-filled by the client SDK, so there should be no need to set this in the object yourself.</p> </li> <li> <p><code>signature</code> should be 64 bytes in length (128 hex chars)</p> </li> <li> <p><code>publicKey</code> should be 65 bytes in length (130 hex chars, non-compressed form, prefixed with <code>0x04</code>)</p> </li> </ul>"},{"location":"guides/concepts/walletconnect.html#example-scol_tx_confirmation","title":"Example: scol_tx_confirmation","text":"<pre><code>{\n\"method\": \"scol_tx_confirmation\",\n\"params\": [\n{\n\"ok\": true,\n\"error\": \"Error message (optional)\"\n}\n]\n}\n</code></pre> <p>Receipt of the <code>scol_tx_confirmation</code> should be confirmed by the app with <code>approveRequest</code> as per the WalletConnect protocol flow.</p> <p>For this response, <code>result</code> may be empty or contain an empty JSON-encoded object:</p>"},{"location":"guides/concepts/walletconnect.html#response-approverequest_1","title":"Response (approveRequest)","text":"<p>A response like this should be sent back from the wallet app:</p> <pre><code>{\n\"id\": 1553682007906050,\n\"result\": \"\"\n}\n</code></pre>"},{"location":"guides/concepts/walletconnect.html#ending-the-session","title":"Ending the Session","text":"<p>Remember to call <code>killSession()</code> when the user has finished using the integration from your app!</p> <p>This will redirect the user back to the unlock screen in the web wallet.</p>"},{"location":"guides/concepts/encoding/amino-example.html","title":"Encoding Examples","text":""},{"location":"guides/concepts/encoding/amino-example.html#encoding-output","title":"Encoding Output","text":"<p>ScolCoin Chain (Amino) encoding logic may encode a data structure into two output formats: Binary and JSON.</p>"},{"location":"guides/concepts/encoding/amino-example.html#json-marshal","title":"JSON Marshal","text":"<p>Amino supports JSON encoding natively, which is the same as other usual json marshalers. Except that it can add one more <code>type</code> info for registered type, as shown below.</p> <pre><code>{\n\"type\": \"&lt;amino type name&gt;\",\n\"value\": &lt;JSON&gt;\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#examples-in-go-sdk","title":"Examples in Go-SDK","text":"<p>Let's take a look at an example function of ScolCoin Chain go-sdk.</p> <pre><code>func (c *HTTP) GetProposal(proposalId int64) (types.Proposal, error) {\nparams := types.QueryProposalParams{\nProposalID: proposalId,\n}\nbz, err := c.cdc.MarshalJSON(params)\nif err != nil {\nreturn nil, err\n}\nrawProposal, err := c.ABCIQuery(\"custom/gov/proposal\", bz)\nif err != nil {\nreturn nil, err\n}\nif !rawProposal.Response.IsOK(){\nreturn nil, fmt.Errorf(rawProposal.Response.Log)\n}\nvar proposal types.Proposal\n\nerr = c.cdc.UnmarshalJSON(rawProposal.Response.GetValue(), &amp;proposal)\nreturn proposal, err\n}\n</code></pre> <p>In order to query the proposal, you can use Amino to marshal the request JSON first.</p> <pre><code>  bz, err := c.cdc.MarshalJSON(params)\n</code></pre> <p>Then, use the unmarshal method to get the returned result. <pre><code>  err = c.cdc.UnmarshalJSON(rawProposal.Response.GetValue(), &amp;proposal)\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#binary-marshal","title":"Binary Marshal","text":"<p>Binary encoding is a variant of Google protocol buffer. The bytes are layed out in the below sequence:</p> <ol> <li>a varint encoded integer - it contains the length of the encoded bytes for the object, which is displayed as <code>SIZE-OF-ENCODED</code> in the below structs. Please note that it contains the length of encoded bytes and also the type prefix (below), but not itself, e.g. if the encoded msg is 20 bytes, then the length would be 20 + 4 = 24, while 4 is used for the type prefix bytes.</li> <li>an object type prefix of 4-8 bytes - For different type of objects, there will be different type prefixes, and they are displayed as in the specific objects below (data structures).</li> <li>a binary encoded object - the encoding is mostly the same as protocol buffer encoding mechanism, except the embedded fields of complex type:<ul> <li>to encode data field of some specific types, an object type prefix for the field will be added ahead of the real encoding.</li> </ul> </li> <li>repeated (array) Encoding - it is the same as google protocol buffer, while encoding of the object/struct may contain the type prefix as shown below.</li> </ol>"},{"location":"guides/concepts/encoding/amino-example.html#examples-in-go-sdk_1","title":"Examples in Go-SDK","text":"<p>Let's take a look at an example function of ScolCoin Chain go-sdk.   The signed transaction needs to be amino-encoded, thus ready to be posted to BncChain API.</p> <pre><code>rawBz, err := c.keyManager.Sign(*signMsg)\nif err != nil {\nreturn nil, err\n}\nhexTx := []byte(hex.EncodeToString(rawBz))\nparam := map[string]string{}\nif sync {\nparam[\"sync\"] = \"true\"\n}\ncommits, err := c.basicClient.PostTx(hexTx, param)\n</code></pre> <p><code>hexTx</code> is derived from the following function: <pre><code>  bz, err := tx.Cdc.MarshalBinaryLengthPrefixed(&amp;newTx)\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#scolcoin-chain-transaction-encoding","title":"ScolCoin Chain Transaction Encoding","text":"<p>Below are the data types that can be sent to ScolCoin Chain as requests, and their encoding layout. To simplify the presentation, we will use a variant of Google protocol buffer proto3 language to illustrate how the data fields are organized. Except the all-capitalized fields, other fields will use the default <code>proto3</code> encoding logic.</p>"},{"location":"guides/concepts/encoding/amino-example.html#standard-transaction","title":"Standard Transaction","text":"<p>Transactions are each wrapped in the below \"Standard Transaction\": structure:</p> <pre><code>// please note the field name is the JSON name.\nmessage StdTx {\nuint64 SIZE-OF-ENCODED // varint encoded length of the structure after encoding, please note this includes both the below type prefix (4 bytes) and the all encoding bytes\n0xF0625DEE // hardcoded, object type prefix in 4 bytes\nrepeated Msg msgs // array of size 1, containing the transaction message, which are one of the transaction types below. please check the above \"Array Encoding\"\nrepeated StdSignature signatures // array of size 1, containing the standard signature structure of the transaction sender\nstring memo // a short sentence of remark for the transaction. Please only `Transfer` transaction allows 'memo' input, and other transactions with non-empty `Memo` will be rejected.\nint64 source // an identifier for tools triggerring this transaction, set to zero if unwilling to disclose.\nbytes data // byte array, reserved for future use\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#stdsignbytes","title":"StdSignBytes","text":"<pre><code>type StdSignDoc struct {\nAccountNumber int64             `json:\"account_number\"`\nChainID       string            `json:\"chain_id\"`\nMemo          string            `json:\"memo\"`\nMsgs          []json.RawMessage `json:\"msgs\"`\nSequence      int64             `json:\"sequence\"`\nSource        int64             `json:\"source\"`\nData          []byte            `json:\"data\"`\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#canonical-bytes-for-signing","title":"Canonical Bytes for Signing","text":"<p>A transaction signature is not formed from the Amino-encoded transaction bytes themselves. Rather, a canonical represenation of the transaction is generated in JSON format for signing.</p> <p>This would allow for clients to sign a transaction off-chain, for example, a hardware HSM device like a Ledger, or within a micro-service in an algorithmic trading system. For example an external system will not have to understand Amino encoding to be able to approve of the transaction's content and produce the signed JSON string.</p> <p>The canonical bytes for signing are generated from the StdSignBytes method. It produces a JSON string similar to the format below (formatted for clarity):</p> <pre><code>{\n\"sequence\" : \"64\",\n\"account_number\" : \"12\",\n\"data\" : null,\n\"chain_id\" : \"chain-scol\",\n\"memo\" : \"smiley\",\n\"msgs\" : [\n{\n\"inputs\" : [\n{\n\"coins\" : [\n{\n\"denom\" : \"SCOL\",\n\"amount\" : \"200000000\"\n}\n],\n\"address\" : \"bnc1hgm0p7khfk85zpz5v0j8wnej3a90w7098fpxyh\"\n}\n],\n\"outputs\" : [\n{\n\"address\" : \"bnc1cku54wwn66w2rkgs3h6v5zxrwtzyew8chcl720\",\n\"coins\" : [\n{\n\"denom\" : \"SCOL\",\n\"amount\" : \"200000000\"\n}\n]\n}\n]\n}\n],\n\"source\" : \"1\"\n}\n</code></pre> <p>This JSON string, with all whitespace removed and keys sorted in alphabetical order, is signed with the private key of the sender. This signature is then attached to the <code>StdTx</code> structure described in the above section. Please note that the transaction broadcasted to the blockchain is not JSON - the JSON is merely used as a canonical representation to generate the signature.</p> <p>The next section describes how the generated signature is attached to a transaction.</p>"},{"location":"guides/concepts/encoding/amino-example.html#standard-signature","title":"Standard Signature","text":"<p>The sender's signature is stored in the <code>Standard Transaction</code> data via a <code>Standard Signature</code>, as shown below. This structure is included in the <code>StdTx</code> (see above).</p> <p>Please note that <code>StdSignature</code> itself doesn't have type prefix, while the <code>PubKey</code> does.</p> <pre><code>message StdSignature {\nuint64 SIZE-OF-ENCODED // varint encoded length of the structure after encoding\n// please note there is no type prefix for StdSignature\nmessage PubKey {\n0xEB5AE987 // hardcoded, object type prefix in 4 bytes\nuint64 SIZE-OF-ENCODED // varint encoded length of the bytes below\nbytes // no name or field id, just encode the bytes\n}\nPubKey pub_key // public key bytes of the signer address\nbytes signature // signature bytes, please check chain access section for signature generation\nint64 account_number // another identifier of signer, which can be read from chain by account REST API or RPC\nint64 sequence // sequence number for the next transaction of the client, which can be read from the chain by account REST API or RPC. Please check chain acces section for details.\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#message-types","title":"Message Types","text":"<p>Messages represent the individual operations possible on ScolCoin Chain, and these can be inserted into <code>StdTx.msgs</code> field. Message types are otherwise known as \"transaction types\", and these terms are used interchangably in this document and in our technical documentation. So far every <code>StdTx</code> transaction \"container\" can only contain one \"message\".</p>"},{"location":"guides/concepts/encoding/amino-example.html#transfer","title":"Transfer","text":"<p>Transfer is the transaction for transfering funds to different addresses.</p> <pre><code>// please note the field name is the JSON name.\nmessage Send {\n0x2A2C87FA   // hardcoded, object type prefix in 4 bytes\nmessage Token {\nstring denom\nint64 amount\n}\nmessage Input {\nbytes address\nrepeated Token coins\n}\nmessage Output {\nbytes address\nrepeated Token coins\n}\nrepeated Input inputs\nrepeated Output outputs\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#neworder","title":"NewOrder","text":"<p>NewOrder transaction will create a new order to buy or sell tokens on SCOL DEX.</p> <pre><code>// please note the field name is the JSON name.\nmessage NewOrder {\n0xCE6DC043 // hardcoded, object type prefix in 4 bytes\nbytes sender // order originating address\nstring id // order id, please check the Order ID section below for details.\nstring symbol // symbol for trading pair in full name of the token\nint64 ordertype // only accept 2 for now, meaning limit order\nint64 side // 1 for buy and 2 fory sell\nint64 price // price of the order, which is the real price multiplied by 1e8 (10^8) and rounded to integer\nint64 quantity // quantity of the order, which is the real quantity multiplied by 1e8 (10^8) and rounded to integer\nint64 timeinforce // 1 for Good Till Expire(GTE) order and 3 for Immediate Or Cancel (IOC)\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#order-id","title":"Order ID","text":"<p>Order ID is unique across the world. It is generated by sender and acknowledged by SCOL DEX. The current implementation is composed from 3 parts:</p> <ol> <li>Sender address in HEX format, without human-readable prefix</li> <li>A dash sign: <code>-</code></li> <li>Sequence number</li> </ol> <p>E.g. <code>40C2979694BBC961023D1D27BE6FC4D21A9FEBE6-5</code></p>"},{"location":"guides/concepts/encoding/amino-example.html#cancel","title":"Cancel","text":"<p>Cancel transactions (cancel the outstanding/unfilled) orders from the SCOL DEX. After cancel success, the locked quantity on the orders will return back to the originating address balance and become free to use, i.e. transfer or send new orders.</p> <pre><code>// please note the field name is the JSON name.\nmessage CancelOrder {\n0x166E681B // hardcoded, object type prefix in 4 bytes\nbytes sender // order originating address\nstring symbol // symbol for trading pair in full name of the token\nstring refid // order id of the order to cancel\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#freeze","title":"Freeze","text":"<p>Freeze transaction will move the amount of the tokens into a <code>frozen</code> state, in which they cannot be used for transfers or sending new orders.</p> <pre><code>// please note the field name is the JSON name.\nmessage TokenFreeze {\n0xE774B32D // hardcoded, object type prefix in 4 bytes\nbytes from // owner address\nstring symbol // token symbol, in full name with \"-\" suffix\nint64 amount // amount of tokens to freeze\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#unfreeze","title":"Unfreeze","text":"<p>Unfreeze will reversely turn the amount of <code>frozen</code> tokens back to free state.</p> <pre><code>// please note the field name is the JSON name.\nmessage TokenUnfreeze {\n0x6515FF0D // hardcoded, object type prefix in 4 bytes\nbytes from // owner address\nstring symbol // token symbol, in full name with \"-\" suffix\nint64 amount // amount of tokens to unfreeze\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#vote","title":"Vote","text":"<p>Vote transactions for proposals.</p> <pre><code>// please note the field name is the JSON name.\nmessage Vote {\n0xA1CADD36 // hardcoded, object type prefix in 4 bytes\nint64 proposal_id // ID of the proposal\nbytes voter // address of the voter\nuint64 option // option from OptionSet chosen by the voter\n}\n</code></pre> <p>Below are options for <code>option</code>: <pre><code>OptionYes           = 0x01  // yes\nOptionAbstain       = 0x02  // abstain\nOptionNo            = 0x03  // no\nOptionNoWithVeto    = 0x04  // no with veto\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#issue","title":"Issue","text":"<p>Issue (create) new asset on ScolCoin Chain. <pre><code>message IssueTokenValue  {\n0x17EFAB80 // hardcoded, object type prefix in 4 bytes\nbytes  from  // issuer's address\nstring name // token name\nstring symbol // token symbol\nstring total_supply // total supply\nbool mintable // is mintable\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#mint","title":"Mint","text":"<p>Mint is used to increase the total supply of a token. <pre><code>message Mint {\n0x467E0829 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring symbol string // token symbol\nint64 amount // increase amount\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#burn","title":"Burn","text":"<p>Burn is used to decrease the total supply of a token. <pre><code>message TokenBurn {\n0x7ED2D2A0 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring symbol string // token symbol\nint64 amount // increase amount\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#list","title":"List","text":"<p>List is used to add a new trading pair. <pre><code>message DexList{\n0xB41DE13F // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 proposal_id // id of corresponding proposal\nstring base_asset_symbol // token symbol of base asset\nstring quote_asset_symbol // token symbol of quote asset\nint64 init_price // init price of the new token\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#submit-proposal","title":"Submit Proposal","text":"<p>Submit proposal is used to create a proposal for validators about adding trading pairs <pre><code>message Submit{\n0xB42D614E // hardcoded, object type prefix in 4 bytes\nstring title // Title of the proposal\nstring description // Description of the proposal\nbyte proposal_type // Type of proposal. Initial set {PlainTextProposal, SoftwareUpgradeProposal,ListTradingPair, FixedFeeParams}\nbytes proposer // Address of the proposer\nmessage Coin {\nstring denom\nint64 amount\n}\nint64 VotingPeriod // Length of the voting period (s)\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#deposit","title":"Deposit","text":"<p>Deposit is used to increase the total deposit of a proposal. <pre><code>message Deposit{\n0xA18A56E5 // hardcoded, object type prefix in 4 bytes\nint64 ProposalID // ID of the proposal\nbytes Depositer // Address of the depositer\nmessage Coin {\nstring denom\nint64 amount\n}\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#set-account-flags","title":"Set Account Flags","text":"<p>You can set the flag value of your account. <pre><code>message SetAccountFlags{\n0xBEA6E301 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 flag // account flag\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#time-lock","title":"Time-lock","text":"<p>You can only lock tokens on your own account for a certain period of time. <pre><code>message Timerelock{\n0x07921531 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nstring description // Description of the lock\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nint64 lock_time // lock time\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#time-unlock","title":"Time-unlock","text":"<p>You can  unlock tokens on your own account after a certain period of time. <pre><code>message Timeunlock{\n0xC4050C6C   // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 id // lock time id\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#time-relock","title":"Time-relock","text":"<p>You can  relock tokens on your own account after a certain period of time. <pre><code>message Timerelock{\n0x504711DA // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nint64 Id // lock time id\nstring description // Description of the lock\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nint64 lock_time // lock time\n}\n</code></pre></p>"},{"location":"guides/concepts/encoding/amino-example.html#htlt","title":"HTLT","text":"<p>Hash Timer Locked Transfer (HTLT) is a new transaction type on ScolCoin Chain, to serve as HSCOL in the first step of Atomic Swap</p> <pre><code>message HTLT{\n0xB33F9A24 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes to // receiver's address\nstring recipient_other_chain\nstring sender_other_chain\nbytes random_number_hash\nint64  timestamp\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nstring expected_income\nint64 height_span\nbool cross_chain\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#deposit-htlt","title":"Deposit HTLT","text":"<p>Deposit Hash Timer Locked Transfer is to lock new BEP2 asset to an existed HTLT which is for single chain atomic swap.</p> <pre><code>message DepositHTLT{\n0x63986496 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nmessage Coin {\nstring denom\nint64 amount\n}\nrepeated Coin amount\nbytes swap_id\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#claim-htlt","title":"Claim HTLT","text":"<p>Claim Hash Timer Locked Transfer is to claim the locked asset by showing the random number value that matches the hash. Each HTLT locked asset is guaranteed to be release once.</p> <pre><code>message ClaimHTLTMsg{\n0xC1665300 // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes swap_id\nbytes random_number\n}\n</code></pre>"},{"location":"guides/concepts/encoding/amino-example.html#refund-htlt","title":"Refund HTLT","text":"<p>Refund Hash Timer Locked Transfer is to refund the locked asset after timelock is expired. <pre><code>message RefundHTLTMsg{\n0x3454A27C // hardcoded, object type prefix in 4 bytes\nbytes from // sender's address\nbytes swap_id\n</code></pre></p>"},{"location":"guides/concepts/encoding/encoding.html","title":"Encoding","text":"<p>The Cosmos SDK utilizes two binary wire encoding protocols, ScolCoin Chain Amino and Protocol Buffers, where Amino is an object encoding specification. It is a subset of Proto3 with an extension for interface support. See the Proto3 spec for more information on Proto3, which Amino is largely compatible with (but not with Proto2).</p> <p>Due to Amino having significant performance drawbacks, being reflection-based, and not having any meaningful cross-language/client support, Protocol Buffers, specifically gogoprotobuf, is being used in place of Amino. Note, this process of using Protocol Buffers over Amino is still an ongoing process.</p> <p>Binary wire encoding of types in the Cosmos SDK can be broken down into two main categories, client encoding and store encoding. Client encoding mainly revolves around transaction processing and signing, whereas store encoding revolves around types used in state-machine transitions and what is ultimately stored in the Merkle tree.</p> <p>For store encoding, protobuf definitions can exist for any type and will typically have an Amino-based \"intermediary\" type. Specifically, the protobuf-based type definition is used for serialization and persistence, whereas the Amino-based type is used for business logic in the state-machine where they may converted back-n-forth. Note, the Amino-based types may slowly be phased-out in the future so developers should take note to use the protobuf message definitions where possible.</p> <p>In the <code>codec</code> package, there exists two core interfaces, <code>Marshaler</code> and <code>ProtoMarshaler</code>, where the former encapsulates the current Amino interface except it operates on types implementing the latter instead of generic <code>interface{}</code> types.</p> <p>In addition, there exists three implementations of <code>Marshaler</code>. The first being <code>AminoCodec</code>, where both binary and JSON serialization is handled via Amino. The second being <code>ProtoCodec</code>, where both binary and JSON serialization is handled via Protobuf. Finally, <code>HybridCodec</code>, a codec that utilizes Protobuf for binary serialization and Amino for JSON serialization. The <code>HybridCodec</code> is typically the codec that used in majority in situations as it's easier to use for client and state serialization.</p> <p>This means that modules may use Amino or Protobuf encoding but the types must implement <code>ProtoMarshaler</code>. If modules wish to avoid implementing this interface for their types, they may use an Amino codec directly.</p>"},{"location":"guides/concepts/encoding/encoding.html#amino","title":"Amino","text":"<p>Every module uses an Amino codec to serialize types and interfaces. This codec typically has types and interfaces registered in that module's domain only (e.g. messages), but there are exceptions like <code>x/gov</code>. Each module exposes a <code>RegisterCodec</code> function that allows a user to provide a codec and have all the types registered. An application will call this method for each necessary module.</p> <p>Where there is no protobuf-based type definition for a module (see below), Amino is used to encode and decode raw wire bytes to the concrete type or interface:</p> <pre><code>bz := keeper.cdc.MustMarshalBinaryBare(typeOrInterface)\nkeeper.cdc.MustUnmarshalBinaryBare(bz, &amp;typeOrInterface)\n</code></pre> <p>Note, there are length-prefixed variants of the above functionality and this is typically used for when the data needs to be streamed or grouped together (e.g. <code>ResponseDeliverTx.Data</code>)</p> <p>Another important use of the Amino is the encoding and decoding of transactions. Transactions are defined by the application or the SDK, but passed to the underlying consensus engine in order to be relayed to other peers. Since the underlying consensus engine is agnostic to the application, it only accepts transactions in the form of raw bytes. The encoding is done by an object called <code>TxEncoder</code> and the decoding by an object called <code>TxDecoder</code>.</p> <p>A standard implementation of both these objects can be found in the <code>auth</code> module:</p>"},{"location":"guides/concepts/encoding/encoding.html#gogoproto","title":"Gogoproto","text":"<p>Modules are encouraged to utilize Protobuf encoding for their respective types. If modules do not contain any interfaces (e.g. <code>Account</code> or <code>Content</code>), then they may simply accept a <code>Marshaler</code> as the codec which is implemented via the <code>HybridCodec</code> without any further customization.</p> <p>However, if modules are to handle type interfaces, they should seek to extend the <code>Marshaler</code> interface contract for these types (e.g. <code>MarshalAccount</code>). Note, they should still use a <code>HybridCodec</code> internally. These extended contracts will typically use concrete types with unique <code>oneof</code> messages.</p>"},{"location":"guides/node/extra-info.html","title":"Get Extra Data From Your Full Node","text":"<p>This document is intended for developers who are interested in transactions, order books, account changes, fee charges in every block and would like to build their own downstream services of the full node. Please refer to Running Full Node, if you still haven't deployed a full node.</p>"},{"location":"guides/node/extra-info.html#publish-different-messages-to-local-files","title":"Publish Different Messages to Local Files","text":"<p>You can set the <code>publishLocal</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. The full node will append the messages each block published to <code>{fullnode home}/marketdata/marketdata.json</code> (each line is a json object for a topic and height), and you can consume them in your own apps. The messages types are explained below.</p> <p>Note: only block messages after this option get turned on can be saved. This function won't make up messages for already saved blocks.</p>"},{"location":"guides/node/extra-info.html#set-kafka-broker-version","title":"Set Kafka Broker Version","text":"<p>Since the release of scolchaind <code>v0.6.3</code>, you can customize the version of <code>kafka broker</code> in <code>app.toml</code>. The default value is <code>v2.1.0</code>:</p> <p>The recommended version 2.1.0 and the minimal version is 0.8.2.0</p> <p><pre><code>kafkaVersion = \"2.1.0\"\n</code></pre> If you are using another version of Kafka, please test the compatibility first.</p>"},{"location":"guides/node/extra-info.html#1-orderupdates","title":"1. OrderUpdates","text":"<p>You can set  the <code>publishOrderUpdates</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the trades that have been filled, orders that changed and proposals that been submitted.</p> <ul> <li>Example:</li> </ul> <p>All those extra info can also be found in exported data from your fullnode.</p>"},{"location":"guides/node/extra-info.html#changes","title":"Changes","text":"<p>In <code>trade</code> data structure, there are five new fields: <code>SSrc</code>,<code>BSrc</code>,<code>SSingleFee</code>, <code>BSingleFee</code> and <code>TickerType</code>.</p> <ul> <li><code>SSrc</code>: Source code of Sell order transaction</li> <li><code>BSrc</code>: Source code of Buy order transaction</li> <li><code>SSingleFee</code>: fee of matched sell order</li> <li><code>BSingleFee</code>: fee of matched buy order</li> <li><code>TickerType</code>: ticker type</li> </ul> <p>In <code>Order</code> data structure, there is a new field: <code>singlefee</code>. This is used to show the fee of this order.</p> <p><code>Status</code> is used to indicate the current status of this order. Namely there are 9 status:  0 for Acknowledge; 1 for Canceled ; 2 for Expired , 3 for IocNoFill, 4 for IocExpire, 5 for PartialFill, 6 for FullyFill, 7 for FailedBlocking, 8 for FailedMatching.</p> <p>For example:</p> <pre><code>{\n\"Height\": 36384232,\n\"Timestamp\": 1569196830136718300,\n\"NumOfMsgs\": 10,\n\"Trades\": {\n\"NumOfMsgs\": 2,\n\"Trades\": [\n{\n\"Id\": \"36384232-0\",\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"Sid\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"Bid\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"Sfee\": \"SCOL:32042\",\n\"Bfee\": \"SCOL:32042\",\n\"SSrc\": 0,\n\"BSrc\": 0,\n\"SSingleFee\": \"SCOL:32042\",\n\"BSingleFee\": \"SCOL:32042\",\n\"TickType\": 5,\n\"SAddr\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"BAddr\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\"\n},\n{\n\"Id\": \"36384232-1\",\n\"Symbol\": \"EQL-586_SCOL\",\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"Sid\": \"610BFE81695EFD89B19D27D1E8C17D57C0239C66-6367\",\n\"Bid\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"Sfee\": \"SCOL:2111\",\n\"Bfee\": \"SCOL:2111\",\n\"SSrc\": 0,\n\"BSrc\": 0,\n\"SSingleFee\": \"SCOL:2111\",\n\"BSingleFee\": \"SCOL:2111\",\n\"TickType\": 2,\n\"SAddr\": \"scol1vy9laqtftm7cnvvaylg73sta2lqz88rxs72mx7\",\n\"BAddr\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\"\n}\n]\n},\n\"Orders\": {\n\"NumOfMsgs\": 8,\n\"Orders\": [\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"37D9383E6AD9AFEF6C5D8066ABA3ACA8C75D9F39-1724193\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1xlvns0n2mxh77mzaspn2hgav4rr4m8eerfju38\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 344271,\n\"Qty\": 89600000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 0,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"D74A96022A2F090D7D739C1C6716481A215E0F7F10C430C28290758E9DC4EF73\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 110000000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"792BA5F932813F9C006075EAA090D82305AD049DDC570271FA8515339A874E97\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 345283,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 23200000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"574CB6DAF26C5D1A465A8D86760FFDFF3DA5946F9C02EB5B89051A8120844523\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 0,\n\"OrderId\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"TradeId\": \"\",\n\"Owner\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 0,\n\"LastExecutedQty\": 0,\n\"CumQty\": 23200000000,\n\"Fee\": \"\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"9D8EF7CEAE5D2CDC4026F6306296D57764BB80099B3A65865971D8D71399B6EA\",\n\"SingleFee\": \"\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 5,\n\"OrderId\": \"610BFE81695EFD89B19D27D1E8C17D57C0239C66-6367\",\n\"TradeId\": \"36384232-1\",\n\"Owner\": \"scol1vy9laqtftm7cnvvaylg73sta2lqz88rxs72mx7\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 230000000000,\n\"LastExecutedPrice\": 4798,\n\"LastExecutedQty\": 110000000000,\n\"CumQty\": 110000000000,\n\"Fee\": \"SCOL:2111\",\n\"OrderCreationTime\": 1569196786802324000,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"EDF132EBDA03382D2BFF7EF58CDE574D4E3FB9622BD8BCF12BA6ABECD692BA5C\",\n\"SingleFee\": \"SCOL:2111\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"4C28D006CF8061E05EEE50D17D8B2375CE09E7EC-71967\",\n\"TradeId\": \"36384232-0\",\n\"Owner\": \"scol1fs5dqpk0sps7qhhw2rghmzerwh8qnelv7tyat8\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 345283,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 345282,\n\"LastExecutedQty\": 23200000000,\n\"CumQty\": 23200000000,\n\"Fee\": \"SCOL:32042\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"574CB6DAF26C5D1A465A8D86760FFDFF3DA5946F9C02EB5B89051A8120844523\",\n\"SingleFee\": \"SCOL:32042\"\n},\n{\n\"Symbol\": \"DEFI-FA5_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"5F511BE6120CE2F92877F3A1E92D408CE56A5CCC-62632\",\n\"TradeId\": \"36384232-0\",\n\"Owner\": \"scol1tag3hesjpn30j2rh7ws7jt2q3njk5hxvsx023c\",\n\"Side\": 2,\n\"OrderType\": 2,\n\"Price\": 345282,\n\"Qty\": 23200000000,\n\"LastExecutedPrice\": 345282,\n\"LastExecutedQty\": 23200000000,\n\"CumQty\": 23200000000,\n\"Fee\": \"SCOL:32042\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"9D8EF7CEAE5D2CDC4026F6306296D57764BB80099B3A65865971D8D71399B6EA\",\n\"SingleFee\": \"SCOL:32042\"\n},\n{\n\"Symbol\": \"EQL-586_SCOL\",\n\"Status\": 6,\n\"OrderId\": \"B3CEA961E95C4F104A791F6C33DB83458577BA76-5471\",\n\"TradeId\": \"36384232-1\",\n\"Owner\": \"scol1k082jc0ft383qjnerakr8kurgkzh0wnk8gulnj\",\n\"Side\": 1,\n\"OrderType\": 2,\n\"Price\": 4798,\n\"Qty\": 110000000000,\n\"LastExecutedPrice\": 4798,\n\"LastExecutedQty\": 110000000000,\n\"CumQty\": 110000000000,\n\"Fee\": \"SCOL:2111\",\n\"OrderCreationTime\": 1569196830136718300,\n\"TransactionTime\": 1569196830136718300,\n\"TimeInForce\": 1,\n\"CurrentExecutionType\": 0,\n\"TxHash\": \"792BA5F932813F9C006075EAA090D82305AD049DDC570271FA8515339A874E97\",\n\"SingleFee\": \"SCOL:2111\"\n}\n]\n},\n\"Proposals\": {\n\"NumOfMsgs\": 0,\n\"Proposals\": null\n},\n\"StakeUpdates\": {\n\"NumOfMsgs\": 0,\n\"CompletedUnbondingDelegations\": null\n}\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#2-accountbalance","title":"2. AccountBalance","text":"<p>You can set the <code>publishAccountBalance</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the changed accounts.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Owner:    string,\n    Fee:      string,\n    Balances: []{\n        Asset:  string,\n        Free:   int64,\n        Frozen: int64,\n        Locked: int64\n    }\n\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#3-orderbook","title":"3. OrderBook","text":"<p>You can set the <code>publishOrderBook</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all order book changes.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:    int64,\n    Timestamp: int64,\n    NumOfMsgs: int,\n    Books:     []{\n       Symbol: string,\n       Buys:   []{\n            Price:   int64,\n            LastQty: int64\n       },\n       Sells:  []{\n            Price:   int64,\n            LastQty: int64\n       }\n    }\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#4-blockfee","title":"4. BlockFee","text":"<p>You can set the <code>publishBlockFee</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the block fee charged.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:     int64,\n    Fee:        string,\n    Validators: []string\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#5-transfers","title":"5. Transfers","text":"<p>You can set the <code>publishTransfer</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the transfer transactions.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    Height:    int64,\n    Num:       int,\n    Timestamp: int64,\n    Transfers: []{\n        TxHash: string,\n        Memo: string,\n        From: string,\n        To:   []{\n            Addr:  string,\n            Coins: []{\n                Denom:  string,\n                Amount: int64\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#6-staking-record","title":"6. Staking Record","text":"<p>You can set the <code>publishStaking</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about staking.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n       \"validators\": []{\n        \"feeAddr\":      string,\n        \"operatorAddr\": string,\n        \"consAddr\":     string,\n        \"jailed\":       bool,\n        \"status\":       string,\n        \"tokens\":       int64,\n        \"delegatorShares\":int64,\n        \"description\":{\n          \"moniker\":  string,\n          \"identity\": string,\n          \"website\":  string,\n          \"details\":  string,\n        },\n        \"bondHeight\": int64,\n        \"bondIntraTxCounter\": int,\n        \"commission\":{\n            \"rate\":      int64,\n            \"maxRate\":   int64,\n            \"maxChangeRate\": int64,\n            \"updateTime\": int64,\n        },\n        \"distributionAddr\":string,\n        \"sideChainId\": string,\n        \"sideConsAddr\": string,\n        \"sideFeeAddr\": string\n      },\n      \"removedValidators\": map[string][]string, //key: chain id, value: operatorAddr\n      \"delegatioins\": map[string][]{\n        \"delegator\": string,\n        \"validator\": string,\n        \"shares\":    int64\n    }, // map key: chain-id\n    \"unBondingDelegations\": map[string][]{\n        \"delegator\": string,\n        \"validator\": string,\n        \"creationHeight\": int64,\n        \"minTime\": int64,\n        \"initialBalance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"balance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        }\n    }, // map key: chain id\n    \"reDelegations\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string,\n        \"creationHeight\": int64,\n        \"sharesSrc\": int64,\n        \"sharesDst\": int64,\n        \"initialBalance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"balance\": {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"minTime\": int64\n    }, // map key: chain id\n    \"completedUBDs\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        }\n    },\n    \"completedREDs\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string\n    },\n    \"delegateEvents\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"unDelegateEvents\": map[string][]{\n        \"validator\": string,\n        \"delegator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"reDelegateEvents\": map[string][]{\n        \"delegator\": string,\n        \"srcValidator\": string,\n        \"dstValidator\": string,\n        \"amount\":  {\n            \"denom\":  string,\n            \"amount\": int64\n        },\n        \"txHash\": string\n    },\n    \"electedValidators\": map[string][]{\n        \"feeAddr\":      string,\n        \"operatorAddr\": string,\n        \"consAddr\":     string,\n        \"jailed\":       bool,\n        \"status\":       string,\n        \"tokens\":       int64,\n        \"delegatorShares\":int64,\n        \"description\":{\n          \"moniker\":  string,\n          \"identity\": string,\n          \"website\":  string,\n          \"details\":  string,\n},\n        \"bondHeight\": int64,\n        \"bondIntraTxCounter\": int,\n        \"commission\":{\n            \"rate\":      int64,\n            \"maxRate\":   int64,\n            \"maxChangeRate\": int64,\n            \"updateTime\": int64,\n        },\n        \"distributionAddr\":string,\n        \"sideChainId\": string,\n        \"sideConsAddr\": string,\n        \"sideFeeAddr\": string\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Staking\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"height\", \"type\": \"long\"},\n{\"name\": \"timestamp\", \"type\": \"long\" },\n{\"name\": \"numOfMsgs\", \"type\": \"int\" },\n{\"name\": \"validators\", \"type\": [\"null\", {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Validator\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"feeAddr\", \"type\": \"string\"},\n{\"name\": \"operatorAddr\", \"type\": \"string\"},\n{\"name\": \"consAddr\", \"type\": [\"null\",\"string\"], \"default\": \"null\"},\n{\"name\": \"jailed\", \"type\": \"boolean\"},\n{\"name\": \"status\", \"type\": \"string\"},\n{\"name\": \"tokens\", \"type\": \"long\"},\n{\"name\": \"delegatorShares\", \"type\": \"long\"},\n{\"name\": \"description\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Description\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"moniker\", \"type\": \"string\"},\n{\"name\": \"identity\", \"type\": \"string\"},\n{\"name\": \"website\", \"type\": \"string\"},\n{\"name\": \"details\", \"type\": \"string\"}\n]\n}},\n{\"name\": \"bondHeight\", \"type\": \"long\"},\n{\"name\": \"bondIntraTxCounter\", \"type\": \"int\"},\n{\"name\": \"commission\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Commission\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"rate\", \"type\": \"long\"},\n{\"name\": \"maxRate\", \"type\": \"long\"},\n{\"name\": \"maxChangeRate\", \"type\": \"long\"},\n{\"name\": \"updateTime\", \"type\": \"long\"}\n]\n}},\n{\"name\": \"distributionAddr\", \"type\": \"string\"},\n{\"name\": \"sideChainId\", \"type\": \"string\"},\n{\"name\": \"sideConsAddr\", \"type\": \"string\"},\n{\"name\": \"sideFeeAddr\", \"type\": \"string\"}\n]\n}\n}], \"default\": \"null\"},\n{\"name\": \"removedValidators\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\"type\": \"string\"}\n}\n}], \"default\": null},\n{\"name\": \"delegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Delegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"shares\", \"type\": \"long\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"unBondingDelegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"UnBondingDelgation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"creationHeight\", \"type\": \"long\"},\n{\"name\": \"minTime\", \"type\": \"long\"},\n{\"name\": \"initialBalance\", \"type\": {\n\"type\": \"record\",\n\"name\": \"Coin\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}},\n{\"name\": \"balance\", \"type\": \"org.shree.dex.model.avro.Coin\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"reDelegations\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"ReDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"srcValidator\", \"type\": \"string\"},\n{\"name\": \"dstValidator\", \"type\": \"string\"},\n{\"name\": \"creationHeight\", \"type\": \"long\"},\n{\"name\": \"sharesSrc\", \"type\": \"long\"},\n{\"name\": \"sharesDst\", \"type\": \"long\"},\n{\"name\": \"initialBalance\", \"type\": \"org.shree.dex.model.avro.Coin\" },\n{\"name\": \"balance\", \"type\": \"org.shree.dex.model.avro.Coin\" },\n{\"name\": \"minTime\", \"type\": \"long\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"completedUBDs\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"CompletedUnbondingDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"validator\", \"type\": \"string\" },\n{ \"name\": \"delegator\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"}\n]\n}\n}\n}],  \"default\": null},\n{\"name\": \"completedREDs\", \"type\": [\"null\",{\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"CompletedReDelegation\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"delegator\", \"type\": \"string\" },\n{ \"name\": \"srcValidator\", \"type\": \"string\" },\n{ \"name\": \"dstValidator\", \"type\": \"string\" }\n]\n}\n}\n}],  \"default\": null},\n{\"name\": \"delegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"DelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"unDelegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"UndelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"reDelegateEvents\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"RedelegateEvent\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"delegator\", \"type\": \"string\"},\n{\"name\": \"srcValidator\", \"type\": \"string\"},\n{\"name\": \"dstValidator\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"org.shree.dex.model.avro.Coin\"},\n{\"name\": \"txHash\", \"type\": \"string\"}\n]\n}\n}\n}], \"default\": null},\n{\"name\": \"electedValidators\", \"type\": [\"null\", {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": \"org.shree.dex.model.avro.Validator\"\n}\n}], \"default\": null}\n]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#7-reward-distribution","title":"7. Reward Distribution","text":"<p>You can set the <code>publishDistributeReward</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about reward distribution.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"distributions\" : map[string][]{\n        \"validator\": string,\n        \"selfDelegator\": string,\n        \"distributeAddr\": string,\n        \"valTokens\": int64,\n        \"totalReward\": int64,\n        \"commission\": int64,\n        \"rewards\": []{\n            \"delegator\": string,\n            \"delegationTokens\": int64,\n            \"reward\": int64\n        }\n    } // map key: chain id\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Distribution\",\n    \"namespace\": \"org.shree.dex.model.avro\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n        { \"name\": \"distributions\", \"type\": {\n                \"type\": \"map\",\n                \"values\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"record\",\n                        \"name\": \"DistributionData\",\n                        \"namespace\": \"org.shree.dex.model.avro\",\n                        \"fields\": [\n                            {\"name\": \"validator\", \"type\": \"string\"},\n                            {\"name\": \"selfDelegator\",\"type\": \"string\"},\n                            {\"name\": \"distributeAddr\",\"type\": \"string\"},\n                            {\"name\": \"valTokens\", \"type\": \"long\"},\n                            {\"name\": \"totalReward\", \"type\": \"long\"},\n                            {\"name\": \"commission\", \"type\": \"long\"},\n                            {\"name\": \"rewards\", \"type\":{\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"type\": \"record\",\n                                    \"name\": \"Reward\",\n                                    \"namespace\": \"org.shree.dex.model.avro\",\n                                    \"fields\":[\n                                        {\"name\": \"delegator\", \"type\": \"string\"},\n                                        {\"name\": \"delegationTokens\", \"type\": \"long\"},\n                                        {\"name\": \"reward\", \"type\": \"long\"}\n                                    ]\n                                }\n                            }}\n                        ]\n                    }\n                }\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#8-slashing","title":"8. Slashing","text":"<p>You can set the <code>publishSlashing</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about slashing.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"slashData\":  map[string][]{\n        \"validator\": string,\n        \"infractionType\": int,\n        \"infractionHeight\": int64,\n        \"jailUtil\": int64,\n        \"slashAmount\": int64,\n        \"toFeePool\": int64,\n        \"submitter\": string,\n        \"submitterReward\": int64,\n        \"validatorsCompensation\": []{\n            \"address\": string,\n            \"amount\": int64\n        }\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"Slashing\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"slashData\", \"type\": {\n\"type\": \"map\",\n\"values\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"SlashData\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"validator\", \"type\": \"string\"},\n{\"name\": \"infractionType\", \"type\": \"int\"},\n{\"name\": \"infractionHeight\", \"type\": \"long\"},\n{\"name\": \"jailUtil\", \"type\": \"long\"},\n{\"name\": \"slashAmount\", \"type\": \"long\"},\n{\"name\": \"toFeePool\", \"type\": \"long\"},\n{\"name\": \"submitter\", \"type\": \"string\"},\n{\"name\": \"submitterReward\", \"type\": \"long\"},\n{\"name\": \"validatorsCompensation\", \"type\":{\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"AllocatedAmt\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\":[\n{\"name\": \"address\", \"type\": \"string\"},\n{\"name\": \"amount\", \"type\": \"long\"}\n]\n}\n}}\n]\n}\n}\n}}\n]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#9-crosstransfer","title":"9. CrossTransfer","text":"<p>You can set the <code>publishCrossTransfer</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about cross transfer.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"num\":        int,\n    \"transfers\":  []{\n        \"txhash\": string,\n        \"type\": string,\n        \"relayerFee\": int64,\n        \"chainid\": string,\n        \"from\": \"string\",\n        \"denom\": string,\n        \"contract\": string,\n        \"decimals\": int,\n        \"to\": []{\n            \"addr\": string,\n            \"amount\": int64\n        }\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"CrossTransfers\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\"},\n{ \"name\": \"num\", \"type\": \"int\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"transfers\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Transfer\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"txhash\", \"type\": \"string\" },\n{ \"name\": \"type\", \"type\": \"string\" },\n{ \"name\": \"relayerFee\", \"type\": \"long\" },\n{ \"name\": \"chainid\", \"type\": \"string\" },\n{ \"name\": \"from\", \"type\": \"string\" },\n{ \"name\": \"denom\", \"type\": \"string\" },\n{ \"name\": \"contract\", \"type\": \"string\" },\n{ \"name\": \"decimals\", \"type\": \"int\" },\n{ \"name\": \"to\",\n\"type\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"record\",\n\"name\": \"Receiver\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"addr\", \"type\": \"string\" },\n{ \"name\": \"amount\", \"type\": \"long\" }\n]\n}\n}\n}\n]\n}\n}\n}\n]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#10-sideproposal","title":"10. SideProposal","text":"<p>You can set the <code>publishSideProposal</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about side proposals.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64,\n    \"numOfMsgs\":  int,\n    \"proposals\":  []{\n        \"id\": int64,\n        \"chainid\": string,\n        \"status\": string\n    }\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"SideProposals\",\n\"namespace\": \"com.company\",\n\"fields\": [\n{ \"name\": \"height\", \"type\": \"long\" },\n{ \"name\": \"timestamp\", \"type\": \"long\" },\n{ \"name\": \"numOfMsgs\", \"type\": \"int\" },\n{ \"name\": \"proposals\", \"type\": {\n\"type\": \"array\",\n\"items\":\n{\n\"type\": \"record\",\n\"name\": \"Proposal\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{ \"name\": \"id\", \"type\": \"long\" },\n{ \"name\": \"chainid\", \"type\": \"string\" },\n{ \"name\": \"status\", \"type\": \"string\" }\n]\n}\n}\n}\n]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#11-breatheblock","title":"11. BreatheBlock","text":"<p>You can set the <code>publichBreatheBlock</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save all the messages about side proposals.</p> <ul> <li>Example</li> </ul> <pre><code>{\n    \"height\":     int64,\n    \"timestamp\":  int64\n}\n</code></pre> <ul> <li>Schema</li> </ul> <pre><code>{\n\"type\": \"record\",\n\"name\": \"BreatheBlock\",\n\"namespace\": \"org.shree.dex.model.avro\",\n\"fields\": [\n{\"name\": \"height\", \"type\": \"long\"},\n{\"name\": \"timestamp\", \"type\": \"long\"}\n]\n}\n</code></pre>"},{"location":"guides/node/extra-info.html#publish-different-messages-to-kafka","title":"Publish Different Messages to Kafka","text":"<p>You can set the <code>publishKafka</code> option to <code>true</code> in <code>nodebinary/fullnode/{network}/node/app.toml</code>. Then, the full node will save messages that you are interested into Kafka, and you can consume them in your own apps. The message is encoded based on <code>Avro</code> serialization system. Their schemas are shown below:</p> <ul> <li> <p>OrderUpdates: <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"ExecutionResults\",\n    \"namespace\": \"org.shree.dex.model.avro\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n        { \"name\": \"trades\", \"type\": [\"null\", {\n            \"type\": \"record\",\n            \"name\": \"Trades\",\n            \"namespace\": \"org.shree.dex.model.avro\",\n            \"fields\": [\n                { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n                { \"name\": \"trades\", \"type\": {\n                    \"type\": \"array\",\n                    \"items\":\n                        {\n                            \"type\": \"record\",\n                            \"name\": \"Trade\",\n                            \"namespace\": \"org.shree.dex.model.avro\",\n                            \"fields\": [\n                                { \"name\": \"symbol\", \"type\": \"string\" },\n                                { \"name\": \"id\", \"type\": \"string\" },\n                                { \"name\": \"price\", \"type\": \"long\" },\n                                { \"name\": \"qty\", \"type\": \"long\" },\n                                { \"name\": \"sid\", \"type\": \"string\" },\n                                { \"name\": \"bid\", \"type\": \"string\" },\n                                { \"name\": \"sfee\", \"type\": \"string\" },\n                                { \"name\": \"bfee\", \"type\": \"string\" },\n                                { \"name\": \"saddr\", \"type\": \"string\" },\n                                { \"name\": \"baddr\", \"type\": \"string\" }\n                            ]\n                        }\n                    }\n                }\n            ]\n        }], \"default\": null },\n        { \"name\": \"orders\", \"type\": [\"null\", {\n            \"type\": \"record\",\n            \"name\": \"Orders\",\n            \"namespace\": \"org.shree.dex.model.avro\",\n            \"fields\": [\n                { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n                { \"name\": \"orders\", \"type\": {\n                    \"type\": \"array\",\n                    \"items\":\n                    {\n                        \"type\": \"record\",\n                        \"name\": \"Order\",\n                        \"namespace\": \"org.shree.dex.model.avro\",\n                        \"fields\": [\n                            { \"name\": \"symbol\", \"type\": \"string\" },\n                            { \"name\": \"status\", \"type\": \"string\" },\n                            { \"name\": \"orderId\", \"type\": \"string\" },\n                            { \"name\": \"tradeId\", \"type\": \"string\" },\n                            { \"name\": \"owner\", \"type\": \"string\" },\n                            { \"name\": \"side\", \"type\": \"int\" },\n                            { \"name\": \"orderType\", \"type\": \"int\" },\n                            { \"name\": \"price\", \"type\": \"long\" },\n                            { \"name\": \"qty\", \"type\": \"long\" },\n                            { \"name\": \"lastExecutedPrice\", \"type\": \"long\" },\n                            { \"name\": \"lastExecutedQty\", \"type\": \"long\" },\n                            { \"name\": \"cumQty\", \"type\": \"long\" },\n                            { \"name\": \"fee\", \"type\": \"string\" },\n                            { \"name\": \"orderCreationTime\", \"type\": \"long\" },\n                            { \"name\": \"transactionTime\", \"type\": \"long\" },\n                            { \"name\": \"timeInForce\", \"type\": \"int\" },\n                            { \"name\": \"currentExecutionType\", \"type\": \"string\" },\n                            { \"name\": \"txHash\", \"type\": \"string\" }\n                        ]\n                    }\n                   }\n                }\n            ]\n        }], \"default\": null },\n        { \"name\": \"proposals\", \"type\": [\"null\", {\n            \"type\": \"record\",\n            \"name\": \"Proposals\",\n            \"namespace\": \"org.shree.dex.model.avro\",\n            \"fields\": [\n                { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n                { \"name\": \"proposals\", \"type\": {\n                    \"type\": \"array\",\n                    \"items\":\n                    {\n                        \"type\": \"record\",\n                        \"name\": \"Proposal\",\n                        \"namespace\": \"org.shree.dex.model.avro\",\n                        \"fields\": [\n                            { \"name\": \"id\", \"type\": \"long\" },\n                            { \"name\": \"status\", \"type\": \"string\" }\n                        ]\n                    }\n                   }\n                }\n            ]\n        }], \"default\": null },\n        { \"name\": \"stakeUpdates\", \"type\": [\"null\", {\n            \"type\": \"record\",\n            \"name\": \"StakeUpdates\",\n            \"namespace\": \"org.shree.dex.model.avro\",\n            \"fields\": [\n                { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n                { \"name\": \"completedUnbondingDelegations\", \"type\": {\n                    \"type\": \"array\",\n                    \"items\":\n                    {\n                        \"type\": \"record\",\n                        \"name\": \"CompletedUnbondingDelegation\",\n                        \"namespace\": \"org.shree.dex.model.avro\",\n                        \"fields\": [\n                            { \"name\": \"validator\", \"type\": \"string\" },\n                            { \"name\": \"delegator\", \"type\": \"string\" },\n                            { \"name\": \"amount\", \"type\": {\n                                    \"type\": \"record\",\n                                    \"name\": \"Coin\",\n                                    \"namespace\": \"org.shree.dex.model.avro\",\n                                    \"fields\": [\n                                        { \"name\": \"denom\", \"type\": \"string\" },\n                                        { \"name\": \"amount\", \"type\": \"long\" }\n                                    ]\n                                }\n                            }\n                        ]\n                     }\n                   }\n                }\n            ]\n        }], \"default\": null }\n    ]\n}\n</code></pre></p> </li> <li> <p>OrderBooksSchema: <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Books\",\n    \"namespace\": \"com.company\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n        { \"name\": \"books\", \"type\": {\n            \"type\": \"array\",\n            \"items\":\n                {\n                    \"type\": \"record\",\n                    \"name\": \"OrderBookDelta\",\n                    \"namespace\": \"com.company\",\n                    \"fields\": [\n                        { \"name\": \"symbol\", \"type\": \"string\" },\n                        { \"name\": \"buys\", \"type\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"record\",\n                                \"name\": \"PriceLevel\",\n                                \"namespace\": \"com.company\",\n                                \"fields\": [\n                                    { \"name\": \"price\", \"type\": \"long\" },\n                                    { \"name\": \"lastQty\", \"type\": \"long\" }\n                                ]\n                            }\n                        } },\n                        { \"name\": \"sells\", \"type\": {\n                            \"type\": \"array\",\n                            \"items\": \"com.company.PriceLevel\"\n                        } }\n                    ]\n                }\n            }, \"default\": []\n        }\n    ]\n}\n</code></pre></p> </li> <li> <p>AccountBalanceSchema: <pre><code>{\n            \"type\": \"record\",\n            \"name\": \"Accounts\",\n            \"namespace\": \"com.company\",\n            \"fields\": [\n                { \"name\": \"height\", \"type\": \"long\" },\n                { \"name\": \"numOfMsgs\", \"type\": \"int\" },\n                { \"name\": \"accounts\", \"type\": {\n                    \"type\": \"array\",\n                    \"items\":\n                        {\n                            \"type\": \"record\",\n                            \"name\": \"Account\",\n                            \"namespace\": \"com.company\",\n                            \"fields\": [\n                                { \"name\": \"owner\", \"type\": \"string\" },\n                                { \"name\": \"fee\", \"type\": \"string\" },\n                                { \"name\": \"balances\", \"type\": {\n                                        \"type\": \"array\",\n                                        \"items\": {\n                                            \"type\": \"record\",\n                                            \"name\": \"AssetBalance\",\n                                            \"namespace\": \"com.company\",\n                                            \"fields\": [\n                                                { \"name\": \"asset\", \"type\": \"string\" },\n                                                { \"name\": \"free\", \"type\": \"long\" },\n                                                { \"name\": \"frozen\", \"type\": \"long\" },\n                                                { \"name\": \"locked\", \"type\": \"long\" }\n                                            ]\n                                        }\n                                    }\n                                }\n                            ]\n                        }\n                   }, \"default\": []\n                }\n            ]\n        }\n</code></pre></p> </li> <li> <p>BlockFeeSchema: <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"BlockFee\",\n    \"namespace\": \"com.company\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\"},\n        { \"name\": \"fee\", \"type\": \"string\"},\n        { \"name\": \"validators\", \"type\": { \"type\": \"array\", \"items\": \"string\" }}\n    ]\n}\n</code></pre></p> </li> <li> <p>TransfersSchema: <pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Transfers\",\n    \"namespace\": \"com.company\",\n    \"fields\": [\n        { \"name\": \"height\", \"type\": \"long\"},\n        { \"name\": \"num\", \"type\": \"int\" },\n        { \"name\": \"timestamp\", \"type\": \"long\" },\n        { \"name\": \"transfers\",\n          \"type\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"record\",\n                \"name\": \"Transfer\",\n                \"namespace\": \"com.company\",\n                \"fields\": [\n                    { \"name\": \"txhash\", \"type\": \"string\" },\n                    { \"name\": \"from\", \"type\": \"string\" },\n                    { \"name\": \"to\",\n                        \"type\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"record\",\n                                \"name\": \"Receiver\",\n                                \"namespace\": \"com.company\",\n                                \"fields\": [\n                                    { \"name\": \"addr\", \"type\": \"string\" },\n                                    { \"name\": \"coins\",\n                                        \"type\": {\n                                            \"type\": \"array\",\n                                            \"items\": {\n                                                \"type\": \"record\",\n                                                \"name\": \"Coin\",\n                                                \"namespace\": \"com.company\",\n                                                \"fields\": [\n                                                    { \"name\": \"denom\", \"type\": \"string\" },\n                                                    { \"name\": \"amount\", \"type\": \"long\" }\n                                                ]\n                                            }\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ]\n            }\n          }\n        }\n    ]\n}\n</code></pre></p> </li> </ul>"},{"location":"guides/node/fullnode-faq.html","title":"Common Issues When Running a Full Node","text":""},{"location":"guides/node/fullnode-faq.html#apphash-confliction","title":"AppHash Confliction","text":"<ul> <li> <p>Error Log <pre><code>panic: Tendermint state.AppHash does not match AppHash after replay. Got XXXXXXX, expected 251DF08F2BA7824F0875D33992CF03EA35106DDD34B3A9FE4EFA0B73CDD2FE14\n</code></pre> This error is caused by a consensus issue and thus scolchaind will panic.</p> </li> <li> <p>Solution</p> </li> </ul> <p>To solve this issue, make sure that you have downloaded the correct <code>genesis file</code>, <code>config.toml</code> and <code>app.toml</code>. If you replaced the genesis file, then you need to do a node reset. To reset node: <pre><code>rm $BNCHOME/data\n\nrm $BNCHOME/config/priv_validator_key.json\n</code></pre> Then, start again.</p>"},{"location":"guides/node/fullnode-faq.html#peer-connection-error","title":"Peer connection error","text":"<ul> <li>Error log: <pre><code>E[2019-04-17|23:52:24.069] Connection failed @ recvRoutine (reading byte) module=p2p peer=[aea74b16d28d06cbfbb1179c177e8cd71315cce4@54.64.99.130:27146](http://aea74b16d28d06cbfbb1179c177e8cd71315cce4@54.64.99.130:27146)conn=MConn{[52.199.237.19:27146](http://52.199.237.19:27146)} err=EOF\nE[2019-04-17|23:52:24.070] Stopping peer for error module=p2p peer=&amp;quot;Peer{MConn{[52.199.237.19:27146](http://52.199.237.19:27146)} aea74b16d28d06cbfbb1179c177e8cd71315cce4 out}&amp;quot; err=EOF\n</code></pre></li> </ul> <p>This error is caused by the handshake failing between two peers.</p> <ul> <li>Solution</li> </ul> <p>To solve this problem, you need to make sure node_key.json is under <code>$BNCHOME/config</code> and nodes will try to re-connect automatically, so this issue should not persist.</p>"},{"location":"guides/node/fullnode-faq.html#connection-timeout","title":"Connection Timeout","text":"<ul> <li> <p>Error log <pre><code>Dialing failed module=pex addr=2c1fa9c1698961da38d8cd50da9fe8b4bc433c50@34.202.245.91:26856 err=&amp;quot;dial tcp 34.202.245.91:26856: i/o timeout&amp;quot; attempts=3\n</code></pre></p> </li> <li> <p>Solution</p> </li> </ul> <p>Check your internet connection and make sure it is stable.</p>"},{"location":"guides/node/fullnode-faq.html#out-of-memory","title":"Out of memory","text":"<ul> <li> <p>Error Log <pre><code>fatal error: out of memory\n</code></pre></p> </li> <li> <p>Solution</p> </li> </ul> <p>Your machine must have more than <code>8 GB of memory</code>, otherwise, it will not handle DB restoration during state sync.</p>"},{"location":"guides/node/fullnode-faq.html#no-priv_validator_statejson-after-reset","title":"No priv_validator_state.json after reset","text":"<ul> <li>Error log <pre><code>open /Users/.scolchaind/data/priv_validator_state.json: no such file or directory\n</code></pre></li> <li>Solution</li> </ul> <p>Delete both <code>priv_validator_state.json</code> &amp; <code>node_key.json</code> file and <code>data</code> folder if you want to reset your full node.</p>"},{"location":"guides/node/fullnode-faq.html#scolchaind-crashes-because-of-too-many-open-files","title":"<code>scolchaind</code> crashes because of <code>too many open files</code>","text":"<p>The default number of files Linux can open (per-process) is <code>1024</code>. <code>scolchaind</code> is likely to open more than <code>1024</code> files. This causes the process to crash.</p> <p>A quick fix is to run <code>ulimit -n 65535</code> (increase the number of open files allowed) and then restart the process with: <pre><code>scolchaind start\n</code></pre></p> <p>Verify the number of open files: <pre><code>ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 3829\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 3829\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre> Please note that open files are different now.</p>"},{"location":"guides/node/fullnode-faq.html#forget-to-upgrade","title":"Forget to Upgrade","text":"<p>The ScolCoin Chain has a hardfork upgrade and if you failed to upgrade your fullnode to the latest version, <code>scolchaind</code> process will stop and even if you restart with the latest version, the following error will appear: <pre><code>panic: Tendermint state.AppHash does not match AppHash after replay. Got , expected 393887B67F69B19CAB5C48FB87B4966018ABA893FB3FFD241C0A94D2C8668DD2\ngoroutine 1 [running]:\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.checkAppHash(0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, 0x20, ...)\n/Users/huangsuyu/go/src/github.com/shree/node/vendor/github.com/tendermint/tendermint/consensus/replay.go:464 +0x213\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.(*Handshaker).ReplayBlocks(0xc000b37980, 0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, ...)\n</code></pre></p> <p>To recover from the <code>state</code> conflict error, you need to:</p> <ul> <li> <p>Backup your home directory,  (default is ~/.scolchaind)</p> </li> <li> <p>Download the tool: state-recover</p> </li> <li> <p>Get the height of upgrade, this height will be announced in the upgrade announcement on the forum.  For example, if it's announced as 5000 in the forum and run the following command will make your full node recover to the last block before the upgrade, and that is 4999 : <pre><code>./state_recover 4999 &lt;your_home_path&gt;\n</code></pre></p> </li> <li> <p>Restart with the latest version of <code>scolchaind</code></p> </li> </ul> <pre><code>scolchaind start &amp;\n</code></pre>"},{"location":"guides/node/fullnode-faq.html#scolchaind-is-not-properly-killed","title":"<code>scolchaind</code> is not properly killed","text":"<p>If you started your <code>scolchaind</code> process after it was not properly killed. You will see the following error: <pre><code>panic: ERROR:\nCodespace: 5\nCode: 9\nMessage: \"Initial ProposalID already set\"\n</code></pre> To recover, please reset your node and restart: <pre><code>scolchaind unsafe-reset-all --home&lt;your-home-dir&gt;\n</code></pre></p>"},{"location":"guides/node/fullnode-faq.html#cannot-start-scolchaind","title":"Cannot start <code>scolchaind</code>","text":"<p>If you do not download the binaries completely, you will see the following message: <pre><code>./scolchaind: line 1: version: command not found ./scolchaind: line 2: oid: command not found /Library/Developer/CommandLineTools/usr/bin/size: 45160816 No such file or directory\n</code></pre></p> <p>Since all the binaries are stored in <code>git lfs</code>, you will see this error is the binary is not complete. Please use this script to download the binaries or use <code>git lfs clone</code>.</p>"},{"location":"guides/node/fullnode-faq.html#cannot-query-a-specific-block","title":"Cannot query a specific block","text":"<p>Once you have your own node running, you can start querying from it. But sometimes you may not be ablt to get the information you want. For example: <pre><code>curl 'localhost:27147/block?height=10'\n</code></pre></p> <p>The reason is because your node is using <code>statesync</code> to catch up. In this way, it will not store all the history blocks before the snapshot height it got. You can only query blocks after that snapshot height.</p> <p>To enable query history blocks, you need to use <code>fast-sync</code></p>"},{"location":"guides/node/fullnode-faq.html#cannot-query-a-specific-transaction-by-height","title":"Cannot query a specific transaction by height","text":"<p>In some cases, you can search for the transactions in the same block by querying a fullnode. For example, <pre><code>curl \"localhost:27147/tx_search?query=\"tx.height=1000000\"&amp;prove=true\"\n</code></pre></p> <p>But sometimes, you may not get anything even though there are actually transactions in this block. <pre><code>{\n\"jsonrpc\": \"2.0\",\n\"id\": \"\",\n\"result\": {\n\"txs\": [],\n\"total_count\": \"0\"\n}\n}\n</code></pre></p> <p>The reason is that you didn't enable transaction height indexer. To enable this indexer, you need to make the following changes in your <code>config.toml</code> file: <pre><code>index_tags= \"tx.hash,tx.height\"\n</code></pre></p> <p>Meanwhile, if you wish to enable range query, you also need to enable that setting in <code>config.toml</code> <pre><code>enable_range_query = true\n</code></pre></p> <p>In this way, you can use Operator [\"&lt;\", \"&gt;\", \"&gt;=\", \"&lt;=\"] in your query. For example, <pre><code>curl \"http://localhost:27147/tx_search?query=\\\"tx.height&gt;59970127 AND tx.height&lt;59973127\\\"&amp;prove=true\"\n</code></pre></p>"},{"location":"guides/node/install.html","title":"Install Binaries","text":"<p>This guide will explain how to install the binaries: <code>scolchaind</code>  and <code>eth-cli</code>, onto your server. With these installed on a server, you can participate in the mainnet or testnet as a Full Node. Full Nodes of ScolCoin Chain also help the network by accepting transactions from other nodes and then relaying them to the core SCOL network.</p>"},{"location":"guides/node/install.html#supported-platforms","title":"Supported Platforms","text":"<p>We support running a full node on <code>Mac OS</code>, <code>Windows</code> and <code>Linux</code>.</p>"},{"location":"guides/node/install.html#option-one-installation-script","title":"Option One: Installation Script","text":"<p>We have a community-maintained installer script (<code>install.sh</code>) that takes care of chain directory setup. This uses the following defaults:</p> <ul> <li>Home folder in <code>~/.scolchaind</code></li> <li>Client executables stored in <code>/usr/local/bin</code> (i.e. <code>lightd</code> or <code>scolchaind</code>)</li> </ul> <p><pre><code># One-line install\nsh &lt;(wget -qO- https://raw.githubusercontent.com/shree-chain/node-binary/master/install.sh)\n</code></pre> The script will install the <code>scolchain</code>, <code>eth-cli</code> and <code>eth-cli</code> binaries. Verify that everything is OK: <pre><code>$ scolchaind version\n$ eth-cli version\n</code></pre></p>"},{"location":"guides/node/install.html#option-two-manual-installation","title":"Option Two: Manual Installation","text":"<p>We currently use this repo to store historical versions of the compiled <code>node-binaries</code>.</p> <ol> <li>Install Git LFS</li> </ol> <p>Git Large File Storage (LFS) replaces large files such as audio samples, videos, datasets, and graphics with text pointers inside Git, while storing the file contents on a remote server like GitHub.com or GitHub Enterprise.</p> <p>Please go to https://git-lfs.github.com/ and install <code>git lfs</code>.</p> <ol> <li>Download Binary with Git LFS:</li> </ol> <pre><code>git lfs clonehttps://github.com/githubusername/githubrepo/node-binary.git\n</code></pre> <p>Please go to changelog to get the information about the latest release of full node version.</p> <p>Go to directory according to the network you want to join in.</p> <ol> <li>Replace the <code>network</code> variable with <code>testnet</code> or <code>prod</code> in the following command:</li> </ol> <p><pre><code>cd node-binary/fullnode/{network}/{version}\n</code></pre> 4. Copy the executables (i.e.scolchaind or eth-cli) to /usr/local/bin</p>"},{"location":"guides/node/install.html#next","title":"Next","text":"<p>Now you can join the mainnet, the public testnet or create you own testnet</p>"},{"location":"guides/node/join-mainnet.html","title":"Join Mainnet","text":"<p>Tip</p> <p>See the node-binary repo for information on the mainnet, including the correct version of the binaries to use and details about the genesis file.</p> <p>Warning</p> <p>You need to install scolchaind before you go further</p>"},{"location":"guides/node/join-mainnet.html#minimum-system-requirements","title":"Minimum System Requirements","text":"<p>The hardware must meet certain requirements to run a Full Node.</p> <ul> <li>Desktop or laptop hardware running recent versions of Mac OS X, Windows, or Linux.</li> <li>500 GB of free disk space, accessible at a minimum read/write speed of 100 MB/s.</li> <li>4 cores of CPU and 8 gigabytes of memory (RAM).</li> <li>A broadband Internet connection with upload/download speeds of at least 1 megabyte per second</li> <li>Your full node has to run at least 4 hours per 24 hours in order to catch up with ScolCoin Chain More hours will be better, run your node continuously for best results.</li> </ul>"},{"location":"guides/node/join-mainnet.html#setting-up-a-new-node","title":"Setting Up a New Node","text":"<p>You can skip this part if you have executed the install script.</p> <p>First you need to choose a home folder <code>$BNCHOME</code> (i.e. ~/.scolchaind) for ScolCoin Chain. You can setup this by:</p> <p><pre><code>mkdir ~/.scolchaind\nmkdir ~/.scolchaind/config\n</code></pre> Then, download <code>app.toml</code> and <code>config.toml</code> from <code>node-binary/fullnode/{network}/{version}/config/</code> into <code>$BNCHOME/config</code></p> <p>You can edit this moniker later, in the ~/.gaiad/config/config.toml file: <pre><code># A custom human readable name for this node\nmoniker = \"&lt;your_custom_moniker&gt;\"\n</code></pre></p> <p>Note Monikers can contain only ASCII characters. Using Unicode characters will render your node unreachable. :::</p> <p>Now your Full Node has been initialized!</p>"},{"location":"guides/node/join-mainnet.html#genesis-seeds","title":"Genesis &amp; Seeds","text":""},{"location":"guides/node/join-mainnet.html#download-the-genesis-file","title":"Download the Genesis File","text":"<p>Fetch the mainnet's genesis.json file into node-binary's config directory. <pre><code>cd -p $HOME/.scolchaind/config\nwget https://raw.githubusercontent.com/shree-chain/node-binary/master/fullnode/prod/0.6.3-hotfix/config/genesis.json\n</code></pre> Note we use the latest directory in the node-binary repo which contains details for the mainnet like the latest version and the genesis file.</p> <p>::: tip If you want to understand genesis file, click here :::</p> <p>To verify the correctness of the configuration run: <pre><code>scolchaind start &amp;\n</code></pre></p> <p>If you encounter any issue when running a Full Node, you can read the FAQ list here.</p>"},{"location":"guides/node/join-mainnet.html#add-seed-nodes","title":"Add Seed Nodes","text":"<p>Your Full Node needs to know how to find peers in the blockchain network. You'll need to add healthy seed nodes to $HOME/.scolchain/config/config.toml. The recommended <code>config.toml</code> already contains links to some seed nodes.</p> <p>If those seeds aren't working, you can find more seeds and persistent peers in HTTP API endpoints: https://dex.scolcoin.com/api/v1/peers</p>"},{"location":"guides/node/join-mainnet.html#additional-configuration","title":"Additional Configuration","text":"<ul> <li>Sync type: by default, new nodes will sync with <code>state-sync</code> mode. To change sync mode, read the instructions here</li> <li>Log: The log file is under <code>home</code>- the directory specified when starting <code>scolchaind</code>.   The latest log file is <code>bnc.log</code>. The process will create a new log file every one hour.   To make sure you have sufficient disk space to keep the log files, we strongly recommend you to change the log location by changing <code>logFileRoot</code> option in <code>$BNCHOME/config/app.toml</code>.</li> <li>Service Port: RPC service listens on port <code>27147</code> and P2P service listens on port <code>27146</code> by default.   Make sure these two ports are open before starting a full node, unless the full node has to listen on other ports.</li> <li>Store: All the state and block data will store under <code>$BNCHOME/data</code>, do not delete or edit any of these files.</li> </ul>"},{"location":"guides/node/join-mainnet.html#get-extra-information-from-your-fullnode","title":"Get Extra Information From Your Fullnode","text":"<p>If you have a Full Node running, then you can publish extra messages to local files.</p>"},{"location":"guides/node/join-mainnet.html#monitor-syncing-process","title":"Monitor Syncing Process","text":"<p>You can verify if state sync is done by <code>curl localhost:27147/status</code> several times and see whether <code>latest_block_height</code> is increasing in response.</p> <pre><code>\"sync_info\": {\n  ...\n  \"latest_block_height\": \"878092\",\n  \"latest_block_time\": \"2019-04-15T00:01:22.610803768Z\",\n  ...\n}\n</code></pre>"},{"location":"guides/node/join-mainnet.html#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Prometheus is enabled on port <code>28660</code> by default, and the endpoint is <code>/metrics</code>.</p>"},{"location":"guides/node/join-mainnet.html#mainnet-tools","title":"Mainnet Tools","text":"<ul> <li>Explorer</li> </ul>"},{"location":"guides/node/join-testnet.html","title":"Join Testnet","text":"<p>Tip</p> <p>See the node-binary repo for information on the mainnet, including the correct version of the binaries to use and details about the genesis file.</p> <p>Warning</p> <p>You need to install scolchaind before you go further</p>"},{"location":"guides/node/join-testnet.html#minimum-system-requirements","title":"Minimum System Requirements","text":"<p>The hardware must meet certain requirements to run a Full Node.</p> <ul> <li>Desktop or laptop hardware running recent versions of Mac OS X, Windows, or Linux.</li> <li>500 GB of free disk space, accessible at a minimum read/write speed of 100 MB/s.</li> <li>4 cores of CPU and 8 gigabytes of memory (RAM).</li> <li>A broadband Internet connection with upload/download speeds of at least 1 megabyte per second</li> <li>Your full node has to run at least 4 hours per 24 hours in order to catch up with ScolCoin Chain More hours will be better, run your node continuously for best results.</li> </ul>"},{"location":"guides/node/join-testnet.html#setting-up-a-new-node","title":"Setting Up a New Node","text":"<p>You can skip this part if you have executed the install script.</p> <p>First you need to choose a home folder <code>$BNCHOME</code> (i.e. ~/.scolchaind) for ScolCoin Chain. You can setup this by:</p> <p><pre><code>mkdir ~/.scolchaind\nmkdir ~/.scolchaind/config\n</code></pre> Then, download <code>app.toml</code> and <code>config.toml</code> from <code>node-binary/fullnode/{network}/{version}/config/</code> into <code>$BNCHOME/config</code></p> <p>You can edit this moniker later, in the ~/.gaiad/config/config.toml file: <pre><code># A custom human readable name for this node\nmoniker = \"&lt;your_custom_moniker&gt;\"\n</code></pre></p> <p>Note Monikers can contain only ASCII characters. Using Unicode characters will render your node unreachable. :::</p> <p>Now your Full Node has been initialized!</p>"},{"location":"guides/node/join-testnet.html#genesis-seeds","title":"Genesis &amp; Seeds","text":""},{"location":"guides/node/join-testnet.html#download-the-genesis-file","title":"Download the Genesis File","text":"<p>Fetch the testnet's genesis.json file into node-binary's config directory. <pre><code>cd -p $HOME/.scolchaind/config\nwget https://raw.githubusercontent.com/shree-chain/node-binary/master/fullnode/testnet/0.6.3-hotfix/config/genesis.json\n</code></pre> Note we use the latest directory in the node-binary repo which contains details for the testnet like the latest version and the genesis file.</p> <p>::: tip If you want to understand genesis file, click here :::</p> <p>To verify the correctness of the configuration run: <pre><code>scolchaind start &amp;\n</code></pre></p> <p>If you encounter any issue when runing a Full Node, you should read the FAQ provided here.</p>"},{"location":"guides/node/join-testnet.html#add-seed-nodes","title":"Add Seed Nodes","text":"<p>Your Full Node needs to know how to find peers in the blockchain network. You'll need to add healthy seed nodes to $HOME/.scolchain/config/config.toml. The recommended <code>config.toml</code> already contains links to some seed nodes.</p> <p>If those seeds aren't working, you can find more seeds and persistent peers in the HTTP API endpoints: https://testnet-dex.scolcoin.com/api/v1/peers</p>"},{"location":"guides/node/join-testnet.html#additional-configuration","title":"Additional Configuration","text":"<ul> <li>Sync type: by default, new nodes will sync with <code>state-sync</code> mode. To change sync mode, read the instructions here</li> <li>Log: The log file is under <code>home</code>- the directory specified when starting <code>scolchaind</code>.   The latest log file is <code>bnc.log</code>. The process will create a new log file every one hour.   To make sure you have sufficient disk space to keep the log files, we strongly recommend you to change the log location by changing <code>logFileRoot</code> option in <code>$BNCHOME/config/app.toml</code>.</li> <li>Service Port: RPC service listens on port <code>27147</code> and P2P service listens on port <code>27146</code> by default.   Make sure these two ports are open before starting a full node, unless the full node has to listen on other ports.</li> <li>Store: All the state and block data will store under <code>$BNCHOME/data</code>, do not delete or edit any of these files.</li> </ul>"},{"location":"guides/node/join-testnet.html#get-extra-information-from-your-fullnode","title":"Get Extra Information From Your Fullnode","text":"<p>If you have a Full Node running, then you can publish extra messages to local files.</p>"},{"location":"guides/node/join-testnet.html#monitor-syncing-process","title":"Monitor Syncing Process","text":"<p>You can verify if state sync is done by <code>curl localhost:27147/status</code> several times and see whether <code>latest_block_height</code> is increasing in response.</p> <pre><code>\"sync_info\": {\n  ...\n  \"latest_block_height\": \"878092\",\n  \"latest_block_time\": \"2019-04-15T00:01:22.610803768Z\",\n  ...\n}\n</code></pre>"},{"location":"guides/node/join-testnet.html#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Prometheus is enabled on port <code>28660</code> by default, and the endpoint is <code>/metrics</code>.</p>"},{"location":"guides/node/localnetwork.html","title":"Run a Local Testnet","text":""},{"location":"guides/node/localnetwork.html#single-node-local-testnet","title":"Single-node Local Testnet","text":"<p>This guide helps you create a single validator node that runs a network locally for testing and other development related uses.</p>"},{"location":"guides/node/localnetwork.html#requirements","title":"Requirements","text":"<ul> <li>Install scolchaind</li> </ul>"},{"location":"guides/node/localnetwork.html#create-genesis-file-and-start-the-network","title":"Create Genesis File and Start the Network","text":"<pre><code># You can run all of these commands from your home directory\ncd $HOME\n</code></pre> <ol> <li>Initialize the config.toml file that will help you to bootstrap the network <pre><code>scolchaind init --home /Users/huangsuyu/Documents/work/localnet --moniker test\n</code></pre></li> <li> <p>Initialize the genesis file that will help you to bootstrap the network scolchaind testnet --v 1 --chain-id local-testnet</p> </li> <li> <p>Copy genesis.json and others to $home/config <pre><code>cp ./mynetwork/config/genesis $home/config\n</code></pre></p> </li> <li>Edit app.toml to set ugrade height <pre><code>FixSignBytesOverflowHeight = 1\n</code></pre></li> <li>Start our node <pre><code># Now its safe to start `scolchaind`\nscolchaind start --home $home\n</code></pre></li> </ol>"},{"location":"guides/node/nodetypes.html","title":"Types of Nodes","text":""},{"location":"guides/node/nodetypes.html#full-node-node-roles","title":"Full Node Node Roles","text":"<p>There are two types of Full Nodes in ScolCoin Chain network: validator nodes and witness nodes.</p>"},{"location":"guides/node/nodetypes.html#what-is-a-validator-node","title":"What is a Validator Node?","text":"<p>Validators are a group/IT infrastructure that take the responsibility to maintain the SCOL Chain/DEX data and validate all the transactions. They join the consensus procedure and vote to produce blocks. The fees are collected and distributed among all validators. You can consider Validator as \"miner\" in Bitcoin and Ethereum and similar concepts exist in dPoS blockchain as EOS or dBFT in NEO. The initial validators are selected from trusted members of the SCOL community, and will eventually expand to more members as the SCOL blockchain and ecosystem matures, this responsibility will be distributed. The decentralized governance procedure will be introduced and executed. More qualified organization/individual can become Validators.</p>"},{"location":"guides/node/nodetypes.html#what-is-a-witness-node","title":"What is a Witness Node?","text":"<p>Witness nodes represent the majority of nodes in a ScolCoin Chain deployment. Although they do not join the consensus process and produce blocks, they take care of:</p> <ul> <li>The witness consensus process.</li> <li>They serve as data replicas and help to propagate the chain state around the network.</li> <li>They receive transactions and broadcast them to all other nodes including Validator nodes.</li> </ul> <p>You can see the witness node information from this endpoint: https://dex.scolcoin.com/api/v1/peers</p> <p>For mainnet, there are some witness nodes.</p> <ul> <li><code>http://dataseed1.scolcoin.com/</code></li> <li><code>http://dataseed2.scolcoin.com/</code></li> <li><code>http://dataseed3.scolcoin.com/</code></li> <li><code>https://dataseed4.scolcoin.com/</code></li> </ul> <p>For testnet, there are some witness nodes.</p> <ul> <li><code>https://data-seed-pre-0-s3.scolcoin.com/</code></li> <li><code>https://data-seed-pre-1-s3.scolcoin.com/</code></li> <li><code>https://data-seed-pre-2-s3.scolcoin.com/</code></li> </ul> <p>To see the existing RPC endpoints provided by witness node, check the list  here!</p>"},{"location":"guides/node/nodetypes.html#what-is-an-accelerated-node","title":"What is an Accelerated Node?","text":"<p>While users can submit transactions and most of the queries via normal, self-run full nodes. Accelerated Node provides more secure and faster lines to access ScolCoin Chain.</p> <p>Accelerated Node is special infrastructure built around Validator to facilitate accelerated transaction routing and provide richer, faster user interfaces. There are always several Accelerated Nodes running at the same time around the world (owned by different organizations) and you are encouraged to choose one of them to use, or allow your Wallet choose one randomly. For rapid API access, you'd better stay with one Accelerated Node to get better performance.</p> <p>For mainnet, there are more accelerated nodes.</p> <ul> <li><code>dex-atlantic.scolcoin.com</code></li> <li><code>dex-asiapacific.scolcoin.com</code></li> <li><code>dex-european.scolcoin.com</code></li> </ul> <p>For testnet, there are 2 accelerated nodes setup as below. API users should try to use them directly.</p> <ul> <li><code>testnet-dex-atlantic.scolcoin.com</code></li> <li><code>testnet-dex-asiapacific.scolcoin.com</code></li> </ul> <p>To see the existing endpoints provided by Accelerated node, check the list here!</p>"},{"location":"guides/node/snapshot.html","title":"Chain Data Snapshots","text":"<p>A snapshot is a recording of the state of ScolCoin Chain at a particular block height.</p> <p>Latest snapshot of April 1st: download</p> <p>Size: 588 GB</p> <p>sha1sum: 397796fe4886a59601f6aa21fcca44b852c057bb</p> <p>Latest snapshot of March 1st: download</p> <p>Size: 565 GB</p> <p>sha1sum: 0caf6f8df5c9106a8195e29c97feb34ac9498bb9</p> <p>Latest snapshot of February 1st: download</p> <p>Size: 528 GB</p> <p>sha256sum: b859f90fd487be0ec9d5d50e6641af659fd199c94ad536eeeeb084d50c32f3a6</p> <p>Latest snapshot of December 1st: download</p> <p>Size: 478 GB</p> <p>sha256sum: 04fc2f6c0dd0e9958d4b4c30cab0fd6eab18e20b612ec018d1917a87994e6732</p> <p>Latest snapshot of November 1st: download</p> <p>Size: 444 GB</p> <p>sha256sum: e1687272467355bee1034b7ab23a6f6ca2249441a6a300e10026a214fc925f57</p> <p>Latest snapshot of Sep 1st: download</p> <p>Size: 409 GB</p> <p>sha256sum: 194cbad7e1adcaafc16df94576f0a3b4a26245e4019cef93c51a3183bef71d73</p> <p>Latest snapshot of July 1st: download</p> <p>Size: 353 GB</p> <p>Snapshot of June 1st: download</p> <p>Size: 309 GB</p> <p>sha256sum: c6ba5edbf1b424696eec670f4dad864e09ebbae46c3c127360e1d1f15e27d4df)</p> <p>This snapshot can be used for jumpstarting a newly setup fullnode to avoid waiting a long time for getting all blocks. In ScolCoin Chain, the average block time is less than a second. As a result, it will take several weeks to sync from genesis block.</p> <p>Note</p> <p>Ensure there is enough disk space for both the tar file AND its uncompressed contents. Double the space or more.</p> <ol> <li> <p>Download Archive <pre><code>nohup curl -s https://s3.ap-northeast-1.amazonaws.com/dex-bin.scolstatic.com/s3-witness-data-download/data_20200909.tgz\\?AWSAccessKeyId=\\AKIAYINE6SBQPUZDDRRO\\&amp;Expires=\\1625569110\\&amp;Signature=\\%2BotMZCFW7bRSaK4DdRW6Qe3a4bw%3D &gt; data_20200909.tgz &amp;\n</code></pre></p> </li> <li> <p>Extract File to replace the contents under data folder of home directory <pre><code>tar -xzf data_20200909.tgz -d $HOME/data\n</code></pre></p> </li> <li> <p>Start your node <pre><code>scolchaind start\n</code></pre></p> </li> </ol>"},{"location":"guides/node/synctypes.html","title":"Different Sync Types","text":"<p>There are three ways for you to get synced with other peers in blockchain network and these methods can be used together.</p> <ul> <li>Fast Sync</li> <li>State Sync</li> <li>Hot Sync</li> </ul>"},{"location":"guides/node/synctypes.html#fast-sync","title":"Fast Sync","text":"<p>In fast sync, you need to download all the blocks from your peers and execute all the transaction in every block. The sync speed is about 20 blocks/s, which is slower than state sync.</p> <p>Configuration is located in <code>$BNCHOME/config/config.toml</code>:</p> <ul> <li><code>fast_sync</code> Must be set to <code>true</code></li> <li><code>state_sync_reactor</code> Can be set to <code>false</code> or <code>true</code></li> <li><code>state_sync</code> Can be set to <code>false</code> or <code>true</code></li> </ul>"},{"location":"guides/node/synctypes.html#state-sync","title":"State Sync","text":"<p>The default way to get newly joined Full Node syncing with other Full Node is <code>state sync</code>. Once your Full Node is synced to a snapshot, it will switch to <code>fast-sync</code> mode to catch up with its peers.</p> <p>State sync can help fullnode in same status with other peers within short time (according to our test, a one month ~800M DB snapshot in shree chain testnet can be synced in around 45 minutes). As explained in BEP18, State sync will get the application state of your full node to be up to date without downloading all of the blocks.The sync speed is faster than fast sync. Now you do not need to allocate more memories to your full node for this feature to work.</p> <p>Configuration is located in <code>$BNCHOME/config/config.toml</code>:</p> <ul> <li><code>state_sync_reactor</code> Must be set to <code>true</code></li> <li><code>recv_rate</code> Must set to <code>102428800</code></li> <li><code>ping_interval</code> Recommendation is set to <code>10m30s</code></li> <li><code>pong_timeout</code> Recommendation is set to <code>450s</code></li> <li><code>state_sync_height</code> Recommendation is set to <code>0</code>, so it allows to state sync from the peers's latest height.</li> </ul> <p>State sync can help you receive latest blocks/transactions and query latest status of orderbook, account balances etc.. But state sync DOES NOT download historical blocks before <code>state sync</code> height, if you start your node with state sync and it synced at height 10000, then your local database would only have blocks after height 10000.</p>"},{"location":"guides/node/synctypes.html#switch-from-fast-sync-to-state-sync","title":"Switch From Fast Sync to State Sync","text":"<p>If full node has already started, suggested way is to delete the (after backup) <code>$BNCHOME/data</code> directory and <code>$BNCHOME/config/priv_validator_key.json</code> before enabling state sync.</p> <p>If you turn on the <code>state_sync_reactor</code>, the snapshots of heights will be saved at <code>$HOME/data/snapshot/</code> automatically. To save disk space, you can delete the directory or turn off the <code>state_sync_reactor</code>.</p>"},{"location":"guides/node/synctypes.html#recover-from-state-sync-failure","title":"Recover From State Sync Failure","text":"<p>If state sync did not succeed, please repeat deletion of <code>$BNCHOME/data</code> directory and <code>$BNCHOME/config/priv_validator_key.json</code> before starting full node next time in case of data inconsistency.</p>"},{"location":"guides/node/synctypes.html#skip-blocks-in-state-sync","title":"Skip Blocks in State Sync","text":"<p>Once state sync succeeded, later full node restart would not state sync anymore (in case the local blocks are not continuous). But if you do want state sync again (don't care that there are missing blocks between last stop and latest state sync snapshot) and you want to keep already synced blocks, you can just delete <code>$BNCHOME/data/STATESYNC.LOCK</code>.</p> <p>For example, you start your full node at Jan 1st with state sync at height 10000 and after a while you shut it down at height 22000 on Feb 10th. Now its Mar 1st, latest sync-able block height is 50000, you don't care blocks between 22000 and 50000, you can delete <code>$BNCHOME/data/STATESYNC.LOCK</code> before start your node. Then the full node would continue state sync from height 50000.</p> <p>Turning off <code>state_sync_reactor</code> and <code>state_sync</code> can save your memory after you successfully state synced.</p>"},{"location":"guides/node/synctypes.html#hot-sync","title":"Hot Sync","text":"<p>In ScolCoin Chain network, almost every fullnode operator will first enable <code>state-sync</code> to get synced with peers. After downloading all the state machine changes, the fullnode will go back to <code>fast-sync</code> mode and eventually in <code>consensus</code> mode. In fast-sync mode, the fullnode will have high delay because it needs to be aware of peers\u2019 heights. It downloads all the blocks in parallel and verifying their commits. On the other hand, when a fullnode is under <code>consensus</code> state, it will consume a lot of bandwidth and CPU resources because it receives a lot of redundant messages for consensus engine and writes more WAL. To increase the efficiency for fullnodes, the <code>hot-sync</code> protocol is introduced. A fullnode under <code>hot-sync</code> protocol will pull the blocks from its peers and it will subscribe these blocks in advance. It will skip the message for prevotes and only subscribe to maj23 precommit and block proposal messages. At the same time, it will put its peers in different buckets and subscribe to peers in active buckets. <code>Hot-Sync</code> can help fullnodes gossip blocks in low latency, while cost less network, memory, cpu and disk resources than Tendermint consensus protocol. Even cheap hardware can easily run a fullnode, and a fullnode can connect with more peers than before by saving network and CPU resources.</p> <p>The state transition of a hot sync reactor can be of three part:</p> <pre><code>                              Hot --&gt; Consensus\n                                 ^    ^\n                                 |   /\n                                 |  /\n                                Mute\n</code></pre> <ol> <li><code>Mute</code>: will only answer subscribe requests from others, will not sync from others or from consensus reactor. The Hot Sync reactor stays in <code>Mute</code> when it is fast syncing.</li> <li><code>Hot</code>: handle subscribe requests from other peers as a publisher, also subscribe block messages from other peers as a subscriber. A non-validators will stay in <code>Hot</code> when the peer have catch up after fast syncing.</li> <li><code>Consensus</code>: handle subscribes requests from other peers as a publisher, but get block/commit message from consensus reactor. A sentry node should stay in <code>Consensus</code>. Or a non-validator should switch from <code>Hot</code> to <code>Consensus</code> when it become a validator.</li> </ol> <p>Configuration is located in <code>$BNCHOME/config/config.toml</code>:</p> <ul> <li><code>hot_sync_reactor</code> Must be set to <code>true</code></li> <li><code>hot_sync</code> Can be set to <code>false</code> or <code>true</code></li> <li><code>hot_sync_timeout</code> is the max wait time for subscribe a block. It only takes effect when hot_sync is true</li> </ul>"},{"location":"guides/node/upgrade.html","title":"Upgrade","text":"<p>Please follow ScolCoin Chain Telegram Announcement Channel or forum to get the latest news about upcoming upgrades.</p>"},{"location":"guides/node/upgrade.html#upgrading-full-node","title":"Upgrading Full Node","text":"<p>Many of ScolCoin Chain upgrades are hardfork ones. If so, you have to finish the upgrade steps before the hardfork block height.</p> <ol> <li>If your node is already synced with the network, please download the new  binary and replace the previous version</li> <li>Replace the config.toml and app.toml under home folder with the latest versions. You can customize those parameters.</li> <li>Stop the scolchaind process and restart it with the new one. <pre><code>scolchaind start --home &lt;home-path&gt;\n</code></pre></li> </ol>"},{"location":"guides/node/upgrade.html#forget-to-upgrade","title":"Forget to Upgrade","text":"<p>The ScolCoin Chain has a hardfork upgrade and if you failed to upgrade your fullnode to the latest version, <code>scolchaind</code> process will stop and even if you restart with the latest version, the following error will appear: <pre><code>panic: Tendermint state.AppHash does not match AppHash after replay. Got , expected 393887B67F69B19CAB5C48FB87B4966018ABA893FB3FFD241C0A94D2C8668DD2\ngoroutine 1 [running]:\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.checkAppHash(0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, 0x20, ...)\n/Users/huangsuyu/go/src/github.com/shree/node/vendor/github.com/tendermint/tendermint/consensus/replay.go:464 +0x213\ngithub.com/shree/node/vendor/github.com/tendermint/tendermint/consensus.(*Handshaker).ReplayBlocks(0xc000b37980, 0xa, 0x0, 0xc000bd8c56, 0x6, 0xc000b247c0, 0x12, 0x14e7bf9, 0x8592eb, 0xc000b247e0, ...)\n</code></pre></p> <p>To recover from the <code>state</code> conflict error, you need to:</p> <ul> <li> <p>Backup your home directory,  (default is ~/.scolchaind)</p> </li> <li> <p>Download the tool: state-recover</p> </li> <li> <p>Get the height of upgrade, this height will be announced in the upgrade announcement on the forum.  For example, if it's announced as 5000 in the forum and run the following command will make your full node recover to the last block before the upgrade, and that is 4999 : <pre><code>./state_recover 4999 &lt;your_home_path&gt;\n</code></pre></p> </li> <li> <p>Restart with the latest version of <code>scolchaind</code></p> </li> </ul> <pre><code>scolchaind start &amp;\n</code></pre>"},{"location":"smart-chain/upgrade-fullnode.html","title":"How to Upgrade Geth","text":"<p>Updating <code>geth</code> is as easy as it gets. You just need to download and install the newer version of <code>geth</code>, shutdown your node and restart with the new software. Geth will automatically use the data of your old node and sync the latest blocks that were mined since you shutdown the old software.</p>"},{"location":"smart-chain/upgrade-fullnode.html#step-1-compile-the-new-version","title":"Step 1: Compile the new version","text":"<pre><code>git clonehttps://github.com/githubusername/githubrepo\n# Enter the folder bsc was cloned into\ncd bsc\n# Comile and install bsc\nmake geth\n</code></pre>"},{"location":"smart-chain/upgrade-fullnode.html#step-2-stop-geth","title":"Step 2: Stop Geth","text":"<pre><code>$ pid=`ps -ef | grep geth | grep -v grep | awk '{print $2}'`\n\n$ kill  $pid\n</code></pre>"},{"location":"smart-chain/upgrade-fullnode.html#step-3-restart","title":"Step 3: Restart","text":"<pre><code>## start a full node\ngeth --config ./config.toml --datadir ./node --syncmode snap\n</code></pre>"},{"location":"smart-chain/wallet.html","title":"Wallet Support","text":"<ul> <li>List of Wallets Supporting ScolCoin Chain</li> </ul> Number Wallet Name Website 2 MetaMask https://metamask.zendesk.com/hc/en-us 3 Ledger https://www.ledger.com/ 4 Trezor https://wallet.trezor.io"},{"location":"smart-chain/delegator/del-guide.html","title":"How to Delegate","text":""},{"location":"smart-chain/delegator/del-guide.html#delegate-with-scol-extension-wallet","title":"Delegate with SCOL Extension Wallet","text":"<p>Detailed user guide is here</p>"},{"location":"smart-chain/delegator/del-guide.html#create-an-account-if-necessary","title":"Create an account if necessary","text":"<p>Please refer to this guide on how to create a wallet with SCOL Extension Wallet</p>"},{"location":"smart-chain/delegator/del-guide.html#go-to-the-staking-page","title":"Go to the staking page:","text":"<ul> <li>Mainnet: https://www.scolcoin.com/en/staking</li> <li>Testnet: https://testnet-staking.scolcoin.com/en/staking </li> </ul>"},{"location":"smart-chain/delegator/del-guide.html#unlock-your-wallet","title":"Unlock your wallet","text":""},{"location":"smart-chain/delegator/del-guide.html#click-on-connect-wallet","title":"Click on \u201cConnect Wallet\u201d","text":""},{"location":"smart-chain/delegator/del-guide.html#swtich-to-scolcoin-chain-network","title":"Swtich to ScolCoin Chain Network","text":"<p>If you are using ScolCoin Chain, please follow these steps to switch network:</p> <ul> <li>Click on \"Change Network\"</li> </ul> <p></p> <ul> <li>Choose \"ScolCoin Chain Network\"</li> </ul> <p></p>"},{"location":"smart-chain/delegator/del-guide.html#choose-a-validator","title":"Choose a validator","text":"<ul> <li>Click on \u201cdelegate\u201d and input the amount</li> </ul> <ul> <li>Confirm your transaction in extension wallet</li> </ul> <p>Success</p> <p></p> <ul> <li>your delegation overview</li> </ul> <p></p> <p>You can see the staking history from</p> <p></p>"},{"location":"smart-chain/delegator/del-guide.html#delegate-with-scolcoin-chain-command-line","title":"Delegate with ScolCoin Chain Command line","text":""},{"location":"smart-chain/delegator/del-guide.html#download-eth-cli","title":"Download eth-cli","text":"<p>Please follow the guides here</p>"},{"location":"smart-chain/delegator/del-guide.html#verify-your-balance-is-enough","title":"Verify your balance is enough","text":"<p>Fee for <code>Delegate Smart Chain Validator</code>is 0.001SCOL</p> <p>The minimum delegated amount is 1SCOL.</p>"},{"location":"smart-chain/delegator/del-guide.html#choose-a-validator_1","title":"Choose a validator","text":"<p>You can use <code>eth-cli</code> or <code>eth-cli</code> for querying the list of current validators.</p> <pre><code>## mainnet\neth-cli staking side-top-validators --top 10 --side-chain-id=bsc --chain-id=SCOL-Chain-Tigris\n\n## testnet\neth-cli staking side-top-validators --top 10 --side-chain-id=chapel --chain-id=SCOL-Chain-Ganges\n</code></pre>"},{"location":"smart-chain/delegator/del-guide.html#delegate-scol","title":"Delegate SCOL","text":"<p>You can use <code>eth-cli</code> or <code>eth-cli</code> to delegate some of SCOL to a validator</p> <p>Go to explorer to verify your transactions.</p> <pre><code>## mainnet\neth-cli staking nc-delegate --chain-id SCOL-Chain-Tigris --side-chain-id bsc --from scol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --validator bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --amount 1000000000:SCOL --home ~/home_cli\n\n## testnet\neth-cli staking nc-delegate --chain-id SCOL-Chain-Ganges --side-chain-id chapel --from tscol1tfh30c67mkzfz06as2hk0756mgdx8mgypu7ajl --validator bva1tfh30c67mkzfz06as2hk0756mgdx8mgypqldvm --amount 1000000000:SCOL --home ~/home_cli\n</code></pre>"},{"location":"smart-chain/delegator/del-guide.html#undelegate-scol","title":"Undelegate SCOL","text":"<p>You can use <code>eth-cli</code>or <code>eth-cli</code> to undelegate some bonded SCOL from a validator</p>"},{"location":"smart-chain/delegator/del-guide.html#redelegate-scol","title":"Redelegate SCOL","text":"<p>You can use <code>eth-cli</code>or <code>eth-cli</code> to redelegate some bonded SCOL from a validator</p>"},{"location":"smart-chain/delegator/del-guide.html#for-testnet","title":"For Testnet","text":""},{"location":"smart-chain/delegator/del-guide.html#enable-testnet-configuration","title":"Enable Testnet Configuration","text":""},{"location":"smart-chain/delegator/del-guide.html#get-some-testnet-fund-from-faucet","title":"Get some testnet fund from faucet","text":"<p>Go to this faucet page: https://testnet-explorer.scolcoin.com/faucet-smart</p>"},{"location":"smart-chain/delegator/del-guide.html#transfer-scol-from-scol-to-bc","title":"Transfer SCOL from SCOL to BC","text":"<p>Please refer to this guide</p>"},{"location":"smart-chain/developer/SCR20.html","title":"SRC20 Token","text":"<p>A SRC20 token must implement the interface <code>ISRC20</code> in ISRC20.sol. This is a template contract SRC20Token.template. Users just need to fill in <code>_name</code>, <code>_symbol</code>, <code>_decimals</code> and <code>_totalSupply</code> according to their own requirements: <pre><code>  constructor() public {\n    _name = {{TOKEN_NAME}};\n    _symbol = {{TOKEN_SYMBOL}};\n    _decimals = {{DECIMALS}};\n    _totalSupply = {{TOTAL_SUPPLY}};\n    _balances[msg.sender] = _totalSupply;\n\n    emit Transfer(address(0), msg.sender, _totalSupply);\n  }\n</code></pre></p> <p>Then users can use Remix IDE and Metamask to compile and deploy the SRC20 contract to TC.</p>"},{"location":"smart-chain/developer/SCR20.html#interact-with-contract-with-web3-and-nodejs","title":"Interact with Contract with Web3 and NodeJS.","text":""},{"location":"smart-chain/developer/SCR20.html#connect-to-scolcoin-chains-public-rpc-endpoint","title":"Connect to ScolCoin Chain's public RPC endpoint","text":"<pre><code>const Web3 = require('web3');\n// mainnet\nconst web3 = new Web3('https://mainnet-rpc.scolcoin.com');\n\n// testnet\nconst web3 = new Web3('https://testnet-rpc.scolcoin.com');\n</code></pre>"},{"location":"smart-chain/developer/SCR20.html#create-a-wallet","title":"Create a wallet","text":"<p><pre><code>web3.eth.accounts.create([entropy]);\n</code></pre> Output: <pre><code>web3.eth.accounts.create();\n{\naddress: '0x926605D0729a968266f1BB299d8Df0471C4F5367',\n  privateKey: '0x6b4618539d95f205f33e916e89404b301dde545c0c4acc181fd0c0b42708bad3',\n  signTransaction: [Function: signTransaction],\n  sign: [Function: sign],\n  encrypt: [Function: encrypt]\n}\n</code></pre></p>"},{"location":"smart-chain/developer/SCR20.html#recover-a-wallet","title":"Recover a wallet","text":"<pre><code>const account = web3.eth.accounts.privateKeyToAccount(\"0xe500f5754d761d74c3eb6c2566f4c568b81379bf5ce9c1ecd475d40efe23c577\")\n</code></pre>"},{"location":"smart-chain/developer/SCR20.html#check-balance","title":"Check balance","text":"<pre><code>web3.eth.getBalance(holder).then(console.log);\n</code></pre> <p>Output:</p> <p>The balance will be bumped by e18 for SCOL.</p> <pre><code>6249621999900000000\n</code></pre>"},{"location":"smart-chain/developer/SCR20.html#create-transaction","title":"Create transaction","text":"<p>Parameters</p> <ul> <li>Object - The transaction object to send:</li> <li>from - String|Number: The address for the sending account. Uses the web3.eth.defaultAccount property, if not specified. Or an address or index of a local wallet in web3.eth.accounts.wallet.</li> <li>to - String: (optional) The destination address of the message, left undefined for a contract-creation transaction.</li> <li>value - Number|String|BN|BigNumber: (optional) The value transferred for the transaction in wei, also the endowment if it\u2019s a contract-creation transaction.</li> <li>gas - Number: (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li> <li>gasPrice - Number|String|BN|BigNumber: (optional) The price of gas for this transaction in wei, defaults to web3.eth.gasPrice.</li> <li>data - String: (optional) Either a ABI byte string containing the data of the function call on a contract, or in the case of a contract-creation transaction the initialisation code.</li> <li>nonce - Number: (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li> </ul> <pre><code>    // // Make a transaction using the promise\nweb3.eth.sendTransaction({\nfrom: holder,\nto: '0x0B75fbeB0BC7CC0e9F9880f78a245046eCBDBB0D',\nvalue: '1000000000000000000',\ngas: 5000000,\ngasPrice: 18e9,\n}, function(err, transactionHash) {\nif (err) {\nconsole.log(err);\n} else {\nconsole.log(transactionHash);\n}\n});\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html","title":"Deploy NFT on TC","text":"<p>This work is inspired by this blog</p> <p>In this tutorial we will create a non-fungible token (NFT) and deploy to a public testnet.</p> <p>SRC721 is a standard for representing ownership of non-fungible tokens, that is, where each token is unique such as in real estate or collectibles.</p> <p>We will use Presets contracts in OpenZeppelin Contracts to create an SRC721 and deploy using Truffle.</p>"},{"location":"smart-chain/developer/SCR721.html#setting-up-the-environment","title":"Setting up the Environment","text":"<p>We begin by creating a new project.</p> <pre><code>$ mkdir mynft &amp;&amp; cd mynft\n$ npm init -y\n</code></pre> <p>Then we install OpenZeppelin Contracts which has an implementation of SRC721.</p> <pre><code>$ npm i --save-dev @openzeppelin/contracts\n</code></pre> <p>Next we install a development tool for deployment, for this tutorial we will use Truffle but we could use any other tools such as Buidler, Remix or OpenZeppelin CLI.</p> <pre><code>$ npm i truffle\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#getting-the-contract-artifacts","title":"Getting the contract artifacts","text":"<p>We will setup our Solidity project using <code>truffle init</code> to create a <code>contracts</code> directory and configuration to connect to a network.</p> <pre><code>$ npx truffle init\nStarting init...\n================\n\n&gt; Copying project files to\n\nInit successful, sweet!\n</code></pre> <p>We are going to use Preset <code>ERC721PresetMinterPauserAutoId</code> which is an SRC721 that is preset so it can be minted (with auto token ID and metadata URI), paused and burned.</p> <p>The Preset contracts have already been compiled, so we only need to copy the artifacts to the <code>build/contracts</code> directory.</p> <pre><code>$ mkdir -p build/contracts/\n$ cp node_modules/@openzeppelin/contracts/build/contracts/* build/contracts/\n</code></pre> <p>Using your favorite editor create <code>2_deploy.js</code> in the <code>migrations</code> directory with the following contents:</p> <pre><code>// migrations/2_deploy.js\n// SPDX-License-Identifier: MIT\nconst ERC721PresetMinterPauserAutoId = artifacts.require(\"ERC721PresetMinterPauserAutoId\");\n\nmodule.exports = function(deployer) {\n  deployer.deploy(ERC721PresetMinterPauserAutoId, \"My NFT\",\"NFT\", \"http://my-json-server.typicode.com/huangsuyu/nft/tokens\");\n};\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#deploy-the-contract-to-a-local-blockchain","title":"Deploy the contract to a local blockchain","text":"<p>We will use <code>truffle develop</code> to open a Truffle console with a development blockchain</p> <ul> <li>Head over to Faucet and request test SCOL</li> </ul> <pre><code>$ npx truffle develop\nTruffle Develop started at http://127.0.0.1:9545/\n\nAccounts:\n(0) 0xc7e4bbc4269fdc62f879834e363173aee7895f45\n\nPrivate Keys:\n(0) ef424b4dc91a9c9d6c1fc4ae0a50ce80668f3a955a7e982584b45577e2c70e27\n\nMnemonic: mechanic cannon setup general indicate people notable frown poet friend credit true\n\n\u26a0\ufe0f  Important \u26a0\ufe0f  : This mnemonic was created for you by Truffle. It is not secure.\nEnsure you do not use it on production blockchains, or else you risk losing funds.\n\ntruffle(develop)&gt; migrate\n\nCompiling your contracts...\n===========================\n&gt; Compiling ./contracts/Migrations.sol\n&gt; Artifacts written to /Users/Documents/work/mynft/build/contracts\n&gt; Compiled successfully using:\n   - solc: 0.5.16+commit.9c3226ce.Emscripten.clang\n\nStarting migrations...\n======================\n&gt; Network name:    'develop'\n&gt; Network id:      5777\n&gt; Block gas limit: 6721975 (0x6691b7)\n\n1_initial_migration.js\n======================\n\n   Deploying 'Migrations'\n   ----------------------\n   &gt; transaction hash:    0x9a17a50e6efd52ba3e55245c76c52b065d20587add45aee732c233987033e567\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0x77409B688eA5461078a31450F3138EA8324F72C9\n   &gt; block number:        1\n   &gt; block timestamp:     1604387655\n   &gt; account:             0xc7e4bBc4269fdC62F879834E363173aeE7895F45\n   &gt; balance:             99.99616114\n   &gt; gas used:            191943 (0x2edc7)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.00383886 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:          0.00383886 ETH\n\n\n2_deploy.js\n===========\n\n   Deploying 'ERC721PresetMinterPauserAutoId'\n   ------------------------------------------\n   &gt; transaction hash:    0xc1a3994c2ad2ba706ac49934b4f480c7b3d9b94241f526afa2dfe91545145a4e\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0xEaB17D581552123695f03F12b09e378EE9463b44\n   &gt; block number:        3\n   &gt; block timestamp:     1604387655\n   &gt; account:             0xc7e4bBc4269fdC62F879834E363173aeE7895F45\n   &gt; balance:             99.92142266\n   &gt; gas used:            3694586 (0x385ffa)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.07389172 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:          0.07389172 ETH\n\n\nSummary\n=======\n&gt; Total deployments:   2\n&gt; Final cost:          0.07773058 ETH\n\ntruffle(develop)&gt;\n</code></pre> <p>We can deploy our new NFT to our development blockchain using migrate.</p> <pre><code>truffle(develop)&gt; migrate\n\nCompiling your contracts...\n===========================\n&gt; Everything is up to date, there is nothing to compile.\n\n\n\nStarting migrations...\n======================\n&gt; Network name:    'develop'\n&gt; Network id:      5777\n&gt; Block gas limit: 6721975 (0x6691b7)\n\n\n1_initial_migration.js\n======================\n\n   Replacing 'Migrations'\n   ----------------------\n   &gt; transaction hash:    0x5d71b0a45a0fe20e2ca645393bb44b83fbd47351c009c48be0b8b84b610fb3b7\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0x3797c825cAC4a1FA765F6D8cd7787fB195849555\n   &gt; block number:        1\n   &gt; block timestamp:     1590736865\n   &gt; account:             0x0445c33BdCe670D57189158b88c0034B579f37cE\n   &gt; balance:             99.99671674\n   &gt; gas used:            164163 (0x28143)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.00328326 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:          0.00328326 ETH\n\n\n2_deploy.js\n===========\n\n   Replacing 'ERC721PresetMinterPauserAutoId'\n   ------------------------------------------\n   &gt; transaction hash:    0x166d7b28f4afb949585b5a0e5b4151daa54acbcb70566b202fd62ab380a6650c\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0xDEE9411430c7Dd9b67fC6DA723DE729AdAB50AD7\n   &gt; block number:        3\n   &gt; block timestamp:     1590736866\n   &gt; account:             0x0445c33BdCe670D57189158b88c0034B579f37cE\n   &gt; balance:             99.92191642\n   &gt; gas used:            3697675 (0x386c0b)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.0739535 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:           0.0739535 ETH\n\n\nSummary\n=======\n&gt; Total deployments:   2\n&gt; Final cost:          0.07723676 ETH\n</code></pre> <p>We can then use our deployed contract.</p> <pre><code>truffle(develop)&gt; nft = await ERC721PresetMinterPauserAutoId.deployed()\nundefined\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#interact-with-our-token","title":"Interact with our Token","text":"<p>The accounts that we can use were displayed when we started <code>truffle develop</code></p>"},{"location":"smart-chain/developer/SCR721.html#token-metadata","title":"Token metadata","text":"<p>We can call the contract to read token metadata such as <code>name</code>, <code>symbol</code> and <code>baseURI</code></p> <pre><code>truffle(develop)&gt; await nft.name()\n'My NFT'\ntruffle(develop)&gt; await nft.symbol()\n'NFT'\ntruffle(develop)&gt; await nft.baseURI()\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#mint","title":"Mint","text":"<p>We can send a transaction to mint tokens to a given account, from an account with the minter role. In our case we are minting from the account which deployed the token, which is given the minter role.</p> <p>We will mint 1 NFT with token ID 0.</p> <pre><code>truffle(develop)&gt; await nft.mint(\"0x0445c33bdce670d57189158b88c0034b579f37ce\")\n{ tx:\n   '0xd301a60dbb8ac187687f6639f200d4e6f2cfa065923092b3940330e35a26421d',\n  receipt:\n   { transactionHash:\n      '0xd301a60dbb8ac187687f6639f200d4e6f2cfa065923092b3940330e35a26421d',\n     transactionIndex: 0,\n     blockHash:\n      '0x3ad3cfcb26da0c969e9d5a5414a5e90a91a3a862c9e9082afc38a0ec0f1a5d00',\n     blockNumber: 5,\n     from: '0x0445c33bdce670d57189158b88c0034b579f37ce',\n     to: '0xdee9411430c7dd9b67fc6da723de729adab50ad7',\n     gasUsed: 156470,\n...\n</code></pre> <p>We can check the owner of the token and the token URI for the metadata</p> <pre><code>truffle(develop)&gt; await nft.ownerOf(1)\n'0x0445c33BdCe670D57189158b88c0034B579f37cE'\ntruffle(develop)&gt; await nft.tokenURI(1)\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#metadata","title":"MetaData","text":"<p>EIP-721 2 includes an optional metadata extension with a <code>name</code>, <code>symbol</code> and for each tokenID a <code>tokenURI</code> with can point to a JSON file with <code>name</code>, <code>description</code> and <code>image</code> for the given token ID.</p> <p>How you create and host this metadata is up to you. I would suggest using a domain that you control to point to where you host the data so that you can move it as required.</p> <p>For this tutorial, we will use My JSON Server where we can store a single JSON file in a GitHub repository that we can access via a fake JSON server.</p> <p> For production we need to store our metadata in a permanent location that can exist for the life of the token.</p> <p>A sample JSON for tokenID 1 is: http://my-json-server.typicode.com/huangsuyu/nft/tokens/1</p>"},{"location":"smart-chain/developer/SCR721.html#deploy-to-a-public-testnet","title":"Deploy to a public testnet","text":"<p>Next we will deploy to ScolCoin Chain  testnet .</p> <p>To deploy, we will use the instructions for Connecting to Public Test Networks with Truffle</p> <p>You will need the following:</p> <ul> <li>An Infura project ID (or a public node provider of your choice)</li> <li><code>@truffle/hdwallet-provider</code> installed</li> <li>Configure <code>truffle-config.js</code> for Rinkeby network</li> <li>A funded testnet account and mnemonic</li> <li>A <code>secrets.json</code> or another secret-management solution. Make sure you don\u2019t commit this to GitHub!</li> </ul> <p>My <code>truffle-config.js</code> has the following <code>rinkeby</code> configuration:</p> <pre><code>     testnet: {\n      provider: () =&gt; new HDWalletProvider(mnemonic, `https://testnet-rpc.scolcoin.com`),\n      network_id: 97,\n      confirmations: 10,\n      timeoutBlocks: 200,\n      skipDryRun: true\n    },\n    nc: {\n      provider: () =&gt; new HDWalletProvider(mnemonic, `https://mainnet-rpc.scolcoin.com`),\n      network_id: 56,\n      confirmations: 10,\n      timeoutBlocks: 200,\n      skipDryRun: true\n    },\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#deploy-to-scol-testnet","title":"Deploy to SCOL Testnet","text":"<pre><code>$ npx truffle migrate --network testnet\n\nCompiling your contracts...\n===========================\n&gt; Everything is up to date, there is nothing to compile.\n\nStarting migrations...\n======================\n&gt; Network name:    'develop'\n&gt; Network id:      5777\n&gt; Block gas limit: 6721975 (0x6691b7)\n\n\n1_initial_migration.js\n======================\n\n   Deploying 'Migrations'\n   ----------------------\n   &gt; transaction hash:    0x9a17a50e6efd52ba3e55245c76c52b065d20587add45aee732c233987033e567\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0x77409B688eA5461078a31450F3138EA8324F72C9\n   &gt; block number:        1\n   &gt; block timestamp:     1604387655\n   &gt; account:             0xc7e4bBc4269fdC62F879834E363173aeE7895F45\n   &gt; balance:             99.99616114\n   &gt; gas used:            191943 (0x2edc7)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.00383886 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:          0.00383886 ETH\n\n\n2_deploy.js\n===========\n\n   Deploying 'ERC721PresetMinterPauserAutoId'\n   ------------------------------------------\n   &gt; transaction hash:    0xc1a3994c2ad2ba706ac49934b4f480c7b3d9b94241f526afa2dfe91545145a4e\n   &gt; Blocks: 0            Seconds: 0\n   &gt; contract address:    0xEaB17D581552123695f03F12b09e378EE9463b44\n   &gt; block number:        3\n   &gt; block timestamp:     1604387655\n   &gt; account:             0xc7e4bBc4269fdC62F879834E363173aeE7895F45\n   &gt; balance:             99.92142266\n   &gt; gas used:            3694586 (0x385ffa)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.07389172 ETH\n\n\n   &gt; Saving migration to chain.\n   &gt; Saving artifacts\n   -------------------------------------\n   &gt; Total cost:          0.07389172 ETH\n\n\nSummary\n=======\n&gt; Total deployments:   2\n&gt; Final cost:          0.07773058 ETH\n</code></pre>"},{"location":"smart-chain/developer/SCR721.html#mint_1","title":"Mint","text":"<p>We can send a transaction to mint tokens to a given account, from an account with the minter role.</p> <pre><code>truffle(develop)&gt; nft = await ERC721PresetMinterPauserAutoId.deployed()\nundefined\n</code></pre> <p>In our case we are minting from the account which deployed the token, which is given the minter role.</p> <p>To see configured accounts run the command <code>accounts</code>.</p> <pre><code>truffle(rinkeby)&gt; accounts\n[ '0x133d144f52705ceb3f5801b63b9ebccf4102f5ed',\n</code></pre> <p>We will mint 1 NFT with token ID 1. Specify the address that you want to be the token holder (<code>0xc7e4bBc4269fdC62F879834E363173aeE7895F45</code> is one of my test accounts)</p> <pre><code>truffle(rinkeby)&gt; await nft.mint(\"0x133d144f52705ceb3f5801b63b9ebccf4102f5ed\")\n{ tx:\n   '0x0d90d4a2a4ac3f33d5220deb11e8f65adf14a6669afd18abd4cce8ca7ab58e04',\n  receipt:\n   { blockHash: '0x724ba66bc1d799820c05a93ae67991b21bb769fd1e9dddd5db9f725f5f633331',\n     blockNumber: 3333746,\n     contractAddress: null,\n     cumulativeGasUsed: 164785,\n     from: '0x77737a65c296012c67f8c7f656d1df81827c9541',\n     gasUsed: 164785,\n...\n</code></pre>"},{"location":"smart-chain/developer/circulation-model.html","title":"Circulation Model","text":"<p>BC and SCOL share the same token universe for SCOL and BEP8/BEP2/SRC20 tokens. This defines:</p> <ul> <li>The same token can circulate on both networks, and flow between them bi-directionally via a cross-chain communication mechanism. </li> <li>The total circulation of the same token should be managed across the two networks, i.e. the total effective supply of a token should be the sum of the token\u2019s total effective supply on both SCOL and BC.</li> <li>The tokens can be initially created on SCOL as a SRC20, or on BC as a BEP2, then created on the other. There are native ways on both networks to link the two and secure the total supply of the token.</li> </ul>"},{"location":"smart-chain/developer/circulation-model.html#peg-account","title":"Peg Account","text":"<p>To secure the total circulation of the token on both chains, we introduce <code>Peg Account</code> to lock tokens on chain. <code>Peg Account</code> is a pure-code-controlled account that no one has the right to access to the account.</p> <ul> <li>For BC, the <code>Peg Account</code> is <code>scol1v8vkkymvhe2sf7gd2092ujc6hweta38xadu2pj</code>. (<code>tscol1v8vkkymvhe2sf7gd2092ujc6hweta38xnc4wpr</code> for testnet) </li> <li>For TC, the <code>Peg Account</code> is TokenHub contract.</li> </ul>"},{"location":"smart-chain/developer/circulation-model.html#bind","title":"Bind","text":"<p>Token Binding can happen at any time after BEP2/BEP8 and SRC20 are ready. The token owners of either BEP2/BEP8 or SRC20 only need to complete the Binding process when a cross-chain feature is necessary.</p> <p>Binding process helps to build the relationship between the two tokens on BC and TC. It will ensure that the two tokens share the same symbol and same total supply. The most important part is that it will reallocate the circulation on both chains to ensure the total circulation equals the total supply. </p> <p>Let's walk through an example:</p> <ol> <li>Bob issues BTC on BC with a total supply of 10, and he sends Alice 2 BTC.</li> <li>Bob issues BTC on SCOL with a total supply of 10, and he sends Tom 1 BTC.</li> </ol> <p>Now Bob wants BTC to flow between BC and TC, but the total circulation on BC and SCOL is 20=10+10 BTC which is not correct, so he decided to bind these two tokens. He made a decision that 8 BTC circulation on BC and 2 BTC circulation on TC, then he started a bind transaction.</p> <p>The BC execution engine will: 1. Transfer 2 BTC from Bob's account to <code>Peg Account</code>.  2. Emit a cross-chain event.</p> <p>For now, on BC, Bob has 6 BTC, Alice has 2 BTC, 2 BTC is locked in <code>Peg Account</code>, circulation on BC is 8 BTC.</p> <p>Relayer watches the cross-chain event on BC, and send a transaction to TokenManager contract on TC.</p> <p>Then Bob invokes the BTC contract on SCOL to approve TokenManager to spend 8 BTC of his account. After that Bob approves the bind request by invoking TokenManager.  The TokenManager will transfer 8 BTC from Bob's account to <code>Peg Account</code>.</p> <p>For now, on TC, Bob has 1 BTC, Tom has 1 BTC, 8 BTC is locked in <code>Peg Account</code>, circulation on SCOL is 2 BTC.</p> <p>The binding process ends here, and the total circulation on both chains is 10 BTC which equals to its total supply.</p>"},{"location":"smart-chain/developer/circulation-model.html#cross-chain-transfer","title":"Cross Chain Transfer","text":"<p>When one token transfer from the native chain to the parallel chain, the process is: 1. Token transfer from the sender to <code>Peg Account</code> on the native chain. 2. Token transfer from <code>Peg Account</code> to the receiver on the parallel chain.</p>"},{"location":"smart-chain/developer/circulation-model.html#burn","title":"Burn","text":"<p>When a user burns a certain amount of token on the native chain, there is no need to burn on the parallel chain.</p> <p>Let's walk through an example:</p> <ol> <li>The circulation on BC is 5 BTC, and 5 BTC on TC.</li> <li>User burns 2 BTC on BC.</li> <li>Now circulation on BC is 3 BTC, and 5 BTC on TC. </li> <li>The total circulation is 8 now which is expected.</li> </ol>"},{"location":"smart-chain/developer/circulation-model.html#mint","title":"Mint","text":"<p>When user mint token on the native chain, but do not mint on the parallel chain, it may cause an issue that user can not cross transfer all token from  native chain to parallel chain.</p> <p>Let's walk through an example:</p> <ol> <li>The circulation on BC is 5 BTC, and the locked token is 5 BTC.</li> <li>The circulation on SCOL is 5 BTC, and the locked token is 5 BTC.</li> <li>User mint 2 BTC on BC.</li> <li>It will fail if the user tries to transfer 7 BTC from BC to TC, because the balance of <code>Peg Account</code> on SCOL is 5 BTC and can\u2019t afford to unlock 7 BTC.</li> </ol> <p>The best practice for mint is:</p> <ol> <li>Mint token on the native chain.</li> <li>Mint token on the parallel chain.</li> <li>Transfer the mint token to <code>Peg Account</code> on the parallel chain.   </li> </ol>"},{"location":"smart-chain/developer/create-wallet.html","title":"Key Management","text":"<p>This article is a guide about key management strategy on client side of your Decentralised Application on ScolCoin Chain</p>"},{"location":"smart-chain/developer/create-wallet.html#setup-web3","title":"Setup Web3","text":"<p><code>web3.js</code> is a javascript library that allows our client-side application to talk to the blockchain. We configure web3 to communicate via Metamask.</p> <p><code>web3.js</code> doc is here</p>"},{"location":"smart-chain/developer/create-wallet.html#connect-to-scol-network","title":"Connect to SCOL network","text":"<pre><code>    // mainnet \nconst web3 = new Web3('https://mainnet-rpc.scolcoin.com');\n// testnet\nconst web3 = new Web3('https://testnet-rpc.scolcoin.com');\n</code></pre>"},{"location":"smart-chain/developer/create-wallet.html#set-up-account","title":"Set up account","text":"<p>If the installation and instantiation of web3 was successful, the following should successfully return a random account: <pre><code>    const account = web3.eth.accounts.create();\n</code></pre></p>"},{"location":"smart-chain/developer/create-wallet.html#recover-account","title":"Recover account","text":"<p>If you have backup the private key of your account, you can use it to restore your account. <pre><code>    const account = web3.eth.accounts.privateKeyToAccount(\"$private-key\")\n</code></pre></p>"},{"location":"smart-chain/developer/create-wallet.html#full-example","title":"Full Example","text":"<pre><code>const Web3 = require('web3');\nasync function main() {\n\nconst web3 = new Web3('https://mainnet-rpc.scolcoin.com');\nconst loader = setupLoader({ provider: web3 }).web3;\n\nconst account = web3.eth.accounts.create();\nconsole.log(account);\n}\n</code></pre>"},{"location":"smart-chain/developer/cross-chain-transfer.html","title":"Cross-Chain Transfer","text":"<p>Cross-chain transfers only support bound BEP2 or BEP8 tokens on BC and SRC20 tokens on TC.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#verify-token-info","title":"Verify Token Info","text":"<p>First, you should make sure that it's already bound. For example, you could see the binding info of SCOL:</p> <pre><code>## mainnet\neth-cli token info --symbol SCOL --trust-node --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli token info --symbol SCOL --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80 </code></pre> <pre><code>{\n\"type\": \"scolchain/Token\",\n\"value\": {\n\"name\": \"ScolCoin Chain Native Token\",\n\"symbol\": \"SCOL\",\n\"original_symbol\": \"SCOL\",\n\"total_supply\": \"200000000.00000000\",\n\"owner\": \"tscol1l9ffdr8e2pk7h4agvhwcslh2urwpuhqm2u82hy\",\n\"mintable\": false,\n\"contract_address\": \"0x0000000000000000000000000000000000000000\",\n\"contract_decimals\": 18\n}\n}\n</code></pre> <p>As SCOL is the native token on both chains, so we use <code>0x0000000000000000000000000000000000000000</code> as the corresponding contract address. Besides, on TC, the native token decimals is 18, while the decimals on BC is 8. So if you transfer 1e8:SCOL to TC, the recipient balance will gain 1e18.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#transfer-scol-from-bc-to-tc","title":"Transfer SCOL from BC to TC","text":"<p>Example:</p> <pre><code>## mainnet\neth-cli bridge transfer-out --to 0xEe9546E92e6876EdF6a234eFFbD72d75360d91f0 --expire-time 1597543193 --chain-id SCOL-Chain-Tigris --from owner --amount 100000000:SCOL --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli bridge transfer-out --to 0xEe9546E92e6876EdF6a234eFFbD72d75360d91f0 --expire-time 1597543193 --chain-id SCOL-Chain-Ganges --from owner --amount 100000000:SCOL --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> <p>Result:</p> <pre><code>Committed at block 465899 (tx hash: 68FFF82197E27A3EC14AFF8C99A035FA9CA7120312AA55E98D11DFC0F8D9F3B9, response: {Code:0 Data:[] Log:Msg 0:  Info: GasWanted:0 GasUsed:0 Events:[{Type: Attributes:[{Key:[84 114 97 110 115 102 101 114 79 117 116 83 101 113 117 101 110 99 101] Value:[49 49] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[69 120 112 105 114 101 84 105 109 101] Value:[49 53 57 55 53 52 51 49 57 51] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0} {Key:[97 99 116 105 111 110] Value:[99 114 111 115 115 84 114 97 110 115 102 101 114 79 117 116] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0}] Codespace: XXX_NoUnkeyedLiteral:{} XXX_unrecognized:[] XXX_sizecache:0})\n</code></pre>"},{"location":"smart-chain/developer/cross-chain-transfer.html#transfer-scol-from-scol-to-bc","title":"Transfer SCOL from SCOL to BC","text":""},{"location":"smart-chain/developer/cross-chain-transfer.html#transferout","title":"transferOut","text":"<p>Call transferOut of TokenHub contract in MyEtherWallet:</p> <p></p> Parameter Name Type Description contractAddr address for SCOL, the value must be 0x0000000000000000000000000000000000000000 recipient address decode bech32 address, starting with <code>0x</code> . To transfer to hex string. This is a online too to decode bech32: https://slowli.github.io/bech32-buffer/ amount uint256 The SCOL decimals on  SCOL is 18. If you want to transfer one SCOL, then the value should be 1e18. Besides, the value must be N * 1e10 expireTime uint256 Timestamp, counted by  second <p>The value here should follow this equation:</p> <pre><code>txValue = (amount + RelayFee)/1e18\n</code></pre> <p><code>RelayFee</code> should be 0.01SCOL and it can be updated by on-chain governance. For example, if you transfer 1SCOL from SCOL to BC, the value should be at least 1.01SCOL.</p> <p>After all the above parameters have been set to proper values, users can click the transact button to build transactions, and metamask plugin will be ejected. Then users can click the confirm button in metamask to sign and broadcast transactions.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#batchtransferoutscol","title":"batchTransferOutSCOL","text":"<p>Call batchTransferOutSCOL of TokenHub contract in MyEtherWallet:</p> <p></p> Parameter Name Type Description recipientAddrs address[] decode bech32 address  to hex string. This is a online too to decode bech32: https://slowli.github.io/bech32-buffer/0 amounts uint256[] amount for each  recipient, should be N * 1e10 refundAddrs address[] sender can specify  some address as the refund address if the cross chain transfer is failed. expireTime uint256 Timestamp, counted by  second <p>The value here should follow this equation:</p> <pre><code>txValue = (sumOfAmounts + RelayFee * batchSize)/1e18\n</code></pre>"},{"location":"smart-chain/developer/cross-chain-transfer.html#transfer-bep2-to-tc","title":"Transfer BEP2 to TC","text":"<p>Execute the following command to transfer ABC-A64 token to TC: <pre><code>## mainnet\neth-cli bridge transfer-out --to 0xEe9546E92e6876EdF6a234eFFbD72d75360d91f0 --expire-time 1597543193 --chain-id SCOL-Chain-Tigris --from owner --amount 10000000000:ABC-A64 --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli bridge transfer-out --to 0xEe9546E92e6876EdF6a234eFFbD72d75360d91f0 --expire-time 1597543193 --chain-id SCOL-Chain-Ganges --from owner --amount 10000000000:ABC-A64 --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#transfer-src20-to-bc","title":"Transfer SRC20 to BC","text":"<p>Before calling transferOut or batchTransferOut, users need to call approve method to grant enough allowance to TokenHub contract. For transferOut method, the allowance should equal the transfer amount. For batchTransferOut, the allowance should be the sum of the amount array.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#transferout_1","title":"transferOut","text":"Parameter Name Type Description contractAddr address SRC20 contract address recipient address decode bech32 address  to hex string. This is a online too to decode bech32: https://slowli.github.io/bech32-buffer/ amount uint256 SRC20 token amount.  Here the decimals is 18, so the amount must be N * 1e10. expireTime uint256 Timestamp, counted by  second <p>The value here should be RelayFee.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#mint","title":"Mint","text":"<p>If both the SRC20 token and bep2 token are mintable, then token owners can still mint their tokens even after token binding. Besides, token owners need to ensure the total supply and the locked amount on both chains are still matched, otherwise, users might can\u2019t transfer their tokens to another chain.</p>"},{"location":"smart-chain/developer/cross-chain-transfer.html#mint-token-on-bc","title":"Mint token on BC","text":"<ol> <li> <p>Execute the following command to mint 10000 ABC-A64: <pre><code>## mainnet\neth-cli token mint --symbol ABC-A64 --amount 1000000000000 --from owner --chain-id SCOL-Chain-Tigris --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli token mint --symbol ABC-A64 --amount 1000000000000 --from owner --chain-id SCOL-Chain-Ganges --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> </li> <li> <p>Mint token on SCOL and lock the new minted token:</p> </li> <li>Call mint method of SRC20 contract, the mint amount should be 1e22.</li> <li>Transfer all minted ABC token to tokenHub contract: <code>0x0000000000000000000000000000000000001004</code></li> </ol>"},{"location":"smart-chain/developer/cross-chain-transfer.html#mint-token-on-tc","title":"Mint token on TC","text":"<ol> <li>Call mint of SRC20 contract to mint 10000 ABC, the mint amount should be 1e22(18 decimals).</li> <li> <p>Mint token on BC and lock the new minted token:</p> </li> <li> <p>Execute the following command to mint 10000 ABC-A64: <pre><code>## mainnet\neth-cli token mint --symbol ABC-A64 --amount 1000000000000 --from owner --chain-id SCOL-Chain-Tigris --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli token mint --symbol ABC-A64 --amount 1000000000000 --from owner --chain-id SCOL-Chain-Ganges --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> </li> <li>Transfer all minted ABC-A64 token to the pure-code-controlled address: <code>tscol1v8vkkymvhe2sf7gd2092ujc6hweta38xnc4wpr</code>(mainnet address: <code>scol1v8vkkymvhe2sf7gd2092ujc6hweta38xadu2pj</code>)</li> </ol>"},{"location":"smart-chain/developer/fullnode.html","title":"How to Run A Fullnode on ScolCoin Chain","text":""},{"location":"smart-chain/developer/fullnode.html#fullnodes-functions","title":"Fullnodes Functions","text":"<ul> <li>Stores the full blockchain history on disk and can answer the data request from the network.</li> <li>Receives and validates the new blocks and transactions.</li> <li>Verifies the states of every accounts.</li> </ul>"},{"location":"smart-chain/developer/fullnode.html#supported-platforms","title":"Supported Platforms","text":"<p>We support running a full node on <code>Mac OS X</code>and <code>Linux</code>.</p>"},{"location":"smart-chain/developer/fullnode.html#suggested-requirements","title":"Suggested Requirements","text":""},{"location":"smart-chain/developer/fullnode.html#fullnode","title":"Fullnode","text":"<ul> <li>VPS running recent versions of Mac OS X or Linux.</li> <li>4 cores of CPU and 8 gigabytes of memory (RAM).</li> <li>A broadband Internet connection with upload/download speeds of 5 megabyte per second</li> </ul>"},{"location":"smart-chain/developer/fullnode.html#steps-to-run-a-full-node","title":"Steps to Run a Full Node","text":"<p>Download  scol_mainnet.json and static-nodes.json from  https://github.com/githubusername/githubrepo</p> <pre><code>wget  https://raw.githubusercontent.com/scolcoin/ScolNetwork/master/scol_mainnet.json\nwget https://raw.githubusercontent.com/scolcoin/ScolNetwork/master/static-nodes.json\n</code></pre> <p>Make node folder</p> <pre><code>mkdir node\n</code></pre> <p>Initialize the Node <pre><code>./geth --datadir ./node init scol_mainnet.json\n</code></pre></p> <p>Copy the static-nodes.json to node/geth</p> <p>Run the Nodes</p> <pre><code>./geth --datadir node --syncmode 'full' --gcmode=archive   --port 40605 --http --http.port 3545 --http.api 'personal,eth,net,web3,personal,admin,miner,txpool,debug' --bootnodes enode://77f7dbb542cc7278d4a8bcb70cf142da58fe796aa7a9092908ac4481ce76079a5404e83bc0460cbf0278f9662d3593136a3a906ceb517d6e11c84222e1ebaecc@185.249.227.141:0?discport=40606 --networkid 65450 --allow-insecure-unlock\n</code></pre>"},{"location":"smart-chain/developer/gnosis.html","title":"Gnosis Safe Multisig on ScolCoin Chain","text":""},{"location":"smart-chain/developer/gnosis.html#introduction","title":"Introduction","text":"<p>First deployed in early 2017, Gnosis multi-signature wallet became the foundational infrastructure for storing funds on Ethereum. The Gnosis Safe is the most secure way to manage your crypto funds.</p> <p>Today, you can set up the Gnosis Safe Multisig on ScolCoin Chain in less than 60 seconds, and you can use wallets including Ledger, Trezor,  Wallet Connect, Torus, and browser wallets like Metamask as signing keys so that you can manage your crypto collectively and inter-operably.</p>"},{"location":"smart-chain/developer/gnosis.html#advantages-of-gnosis-safe-contracts","title":"Advantages of Gnosis Safe contracts","text":"<p>The Gnosis Safe is a smart contract wallet with multi-signature functionality at its core. It enables the following features:</p> <ul> <li> <p>High Security</p> </li> <li> <p>Advanced execution logic</p> </li> <li> <p>Advanced access management</p> </li> </ul>"},{"location":"smart-chain/developer/gnosis.html#projects-building-with-the-gnosis-safe","title":"Projects building with the Gnosis Safe","text":"<p>Please read the list here</p>"},{"location":"smart-chain/developer/gnosis.html#user-guides","title":"User Guides","text":""},{"location":"smart-chain/developer/gnosis.html#create-gnosis-safe","title":"Create Gnosis Safe","text":"<ul> <li>Connect wallet</li> </ul> <ul> <li>Create Safe</li> </ul> <ul> <li>Choose owners and confirmations</li> </ul> <ul> <li>Review safe settings</li> </ul> <ul> <li>Sign transactions to create your safe</li> </ul> <p>Great! You have created a Gnosis safe.</p> <p></p>"},{"location":"smart-chain/developer/gnosis.html#receive-funds-for-multi-sig-wallet","title":"Receive Funds for Multi-sig Wallet","text":"<ul> <li>Go to the home page</li> </ul> <ul> <li>Click on \"Receive\" to get QR code for receiving funds</li> </ul>"},{"location":"smart-chain/developer/gnosis.html#send-funds-from-multi-sig-wallet","title":"Send Funds from Multi-sig Wallet","text":"<ul> <li>Go to the home page</li> </ul> <ul> <li>Click on \"Send\" to create a transaction</li> </ul> <ul> <li>Submit transaction</li> </ul> <ul> <li>Signing your request</li> </ul> <ul> <li>Another key person needs to connect with Gnosis to confirm this transaction</li> </ul> <ul> <li>Approve Transaction</li> </ul> <ul> <li>Sign transaction</li> </ul> <ul> <li>Transaction will be sent after the second signature is sent</li> </ul> <ul> <li>The others may reject the transaction, they only need to send a different transaction</li> </ul>"},{"location":"smart-chain/developer/gnosis.html#load-existing-safe","title":"Load existing Safe","text":"<ul> <li>Select \"Load Existing Safe\"</li> </ul> <ul> <li>Input address</li> </ul> <ul> <li>Verify owner</li> </ul> <ul> <li>Click load</li> </ul> <ul> <li>Load Transactions</li> </ul>"},{"location":"smart-chain/developer/gnosis.html#api","title":"API","text":"<p>API to keep track of transactions sent via Gnosis Safe smart contracts</p> <p>https://safe-transaction.gnosis.io/</p>"},{"location":"smart-chain/developer/issue-SCR20.html","title":"Issue Token","text":"<p>Compile and Deploy SRC20 Contract</p> <ol> <li>Open Remix IDE: https://remix.ethereum.org</li> </ol> <p></p> <ol> <li>Select solidity language</li> </ol> <p></p> <ol> <li> <p>Create new contract SRC20Token.sol and copy contract code from the SRC20 token template here</p> </li> <li> <p>Modify \u201cname\u201d, \u201csymbol\u201d, \u201cdecimals\u201d and \u201ctotalSupply\u201d according to your requirements.</p> </li> </ol> <p></p> <ol> <li>Compile the SRC20 token contract</li> </ol> <p>a. Step1: Click button to switch to compile page</p> <p>b. Step2: Select \u201cSRC20Token\u201d contract</p> <p>c. Step3: Enable \u201cAuto compile\u201d and \u201coptimization\u201d</p> <p>d. Step4: Click \u201cABI\u201d to copy the contract abi and save it.</p> <p></p> <ol> <li>Depoy the contract to TC</li> </ol> <p>a. Step1: Click button to switch to compile button.</p> <p>b. Step2: Select \u201cInjected Web3\u201d</p> <p>c. Step3: Select \u201cSRC20Token\u201d</p> <p>d. Step4: Client \u201cDeploy\u201d button and Metamask will pop up</p> <p></p> <p>e.   Client \u201cconfirm\u201d button to sign and broadcast transaction to TC.</p> <p></p>"},{"location":"smart-chain/developer/nc-relayer.html","title":"SCOL Relayer Guides","text":""},{"location":"smart-chain/developer/nc-relayer.html#prepare-fund","title":"Prepare Fund","text":"<ol> <li>Make sure that you have enough SCOL in your account. You can get from faucet</li> </ol> <p>If you haven't created your account yet, please follow these guides to create one first.</p> <ul> <li>100 SCOL for relayer register</li> <li>More than 50SCOL for transaction fee</li> </ul> <p>Tip<p>Currently the nc-relayer code is not fully prepared. Some features like <code>db persistence</code>, <code>alert</code>, <code>prometheus monitor</code> are still under development. So please don\u2019t modify the configuration about db_config, alert_config, instrumentation_config, admin_config</p> </p>"},{"location":"smart-chain/developer/nc-relayer.html#steps-to-install-scol-relayer","title":"Steps to Install SCOL Relayer","text":"<p>1.Build from source code</p> <p>Make sure that you have installed Go 1.13+ and have added <code>GOPATH</code> to <code>PATH</code> environment variable</p> <pre><code>git clonehttps://github.com/githubusername/githubrepo-relayer\n# Enter the folder bsc was cloned into\ncd nc-relayer\n# Comile and install bsc\nmake build\n</code></pre> <p>or you can download the pre-build binaries from release page</p>"},{"location":"smart-chain/developer/nc-relayer.html#get-example-config-file","title":"Get Example Config File","text":"<p>Get example config from this url: https://github.com/githubusername/githubrepo-relayer/blob/master/config/config.json</p> <p>Edit<code>config.json</code> and fill your SCOL private key to bsc_config.private_key, example private key: <code>AFD8C5D83F148065176268A9D1EE375A10CEE1E74D15985D4CC63E467EC34DA5</code></p> <ul> <li>ScolCoin Chain Configuration:<ul> <li><code>mnemonic</code>: Paste the recovery phrase here. Since nc-relayer will automaticly submit <code>double-sign</code> evidence, if it's committed, the reward will be sent to this address</li> </ul> </li> <li>ScolCoin Chain Configuration: *</li> </ul>"},{"location":"smart-chain/developer/nc-relayer.html#start-relayer","title":"Start Relayer","text":"<p>You can start Locally</p> <pre><code>./nc-relayer --config-type local --config-path config.json\n</code></pre> <p>Output:</p> <pre><code>(base) huangsuyudeMacBook-Pro:mac huangsuyu$ nc-relayer --config-type local --config-path config.json\n2020-05-27 17:01:16 INFO main Start relayer\n2020-05-27 17:01:16 INFO SyncProtocol Sync cross chain protocol fromhttps://github.com/githubusername/githubrepo-relayer-config.git\n2020-05-27 17:01:18 INFO RegisterRelayerHub This relayer has already been registered\n2020-05-27 17:01:18 INFO CleanPreviousPackages channelID: 1, next deliver sequence 55 on TC, next sequence 55 on BC\n2020-05-27 17:01:18 INFO CleanPreviousPackages channelID: 2, next deliver sequence 1273 on TC, next sequence 1273 on BC\n2020-05-27 17:01:18 INFO CleanPreviousPackages channelID: 3, next deliver sequence 6 on TC, next sequence 6 on BC\n2020-05-27 17:01:19 INFO CleanPreviousPackages channelID: 8, next deliver sequence 5 on TC, next sequence 5 on BC\n2020-05-27 17:01:19 INFO RelayerDaemon Start relayer daemon\n2020-05-27 17:01:19 INFO Serve start admin server at 0.0.0.0:8080\n</code></pre> <p>Or, dynamic Sync Cross Chain Protocol Configuration from https://github.com/githubusername/githubrepo-relayer-config</p> <ul> <li>Edit config.json and change \"cross_chain_config.protocol_config_type\" to \"remote\". Then relayer will dynamically sync cross chain protocol configuration from this repository: https://github.com/githubusername/githubrepo-relayer-config</li> <li>Start relayer service</li> </ul> <pre><code>./nc-relayer --config-type local --config-path config.json\n</code></pre>"},{"location":"smart-chain/developer/nc-relayer.html#verify-status","title":"Verify Status","text":"<p>You could call RelayerHub Contract to verify that your relayer is registered. Go to read contract and call isRelayer function. If it returns true, then your relayer is working properly.</p>"},{"location":"smart-chain/developer/nc-relayer.html#relayer-rewards","title":"Relayer Rewards","text":"<ol> <li> <p>You can witness the distribution of relayer rewards in the log of system contract:  https://scolcoin.com/address/0x0000000000000000000000000000000000001005#events. According to the design of Relayer Incentive, the rewards will be distributed every 1000 data packages. The total accumulated rewards can be read from contract the value of <code>_collectedRewardForHeaderRelayer</code> and <code>_collectedRewardForTransferRelayer</code>.</p> </li> <li> <p>Query your relayer's status</p> </li> </ol> <p>The total accumulated relayed count can be read from contract the value of <code>_transferRelayersSubmitCount</code></p>"},{"location":"smart-chain/developer/nc-relayer.html#stop-relayer","title":"Stop Relayer","text":"<p>To get your locked 100 SCOL back, you need to call RelayerHub Contract to unregister your relayer. The fee is 0.1SCOL</p> <ul> <li>Go to MyEtherWallet and interact with contract</li> <li>Fill in the contract addresss: 0x0000000000000000000000000000000000001006 with abi interface</li> <li>Call unregister function and leave value in ETH as 0</li> <li>Sign your transaction in MetaMask</li> </ul>"},{"location":"smart-chain/developer/rpc.html","title":"JSON-RPC Endpoint","text":""},{"location":"smart-chain/developer/rpc.html#available-resources","title":"Available Resources","text":""},{"location":"smart-chain/developer/rpc.html#mainnetchainid-0x38-56-in-decimal","title":"Mainnet(ChainID 0x38, 56 in decimal)","text":"<p>NCRPC Endpoints:</p> <p>Note</p> <p>You can make <code>eth_getLogs</code> requests with up to a 5K block range. If you need to pull logs frequently, we recommend using WebSockets to push new logs to you when they are available.</p> <p>Recommend</p> <ul> <li>https://nc-dataseed.scolcoin.com/</li> </ul> <p>NCWebsocket Endpoints:</p> <p>Note: provided by community with no quality promised, building your node should be always the long term goal</p> <ul> <li>wss://nc-ws-node.scolcoin.com:443</li> </ul>"},{"location":"smart-chain/developer/rpc.html#rate-limit","title":"Rate limit","text":"<p>The rate limit of SCOL endpoint on Testnet and Mainnet is 10K/5min.</p>"},{"location":"smart-chain/developer/rpc.html#start","title":"Start","text":"<p>You can start the HTTP JSON-RPC with the --rpc flag <pre><code>## mainnet\ngeth attach https://mainnet-rpc.scolcoin.com\n\n## testnet\ngeth attach https://testnet-rpc.scolcoin.com/\n</code></pre></p>"},{"location":"smart-chain/developer/rpc.html#json-rpc-methods","title":"JSON-RPC methods","text":"<p>Please refer to this wiki page or use Postman: https://documenter.getpostman.com/view/4117254/ethereum-json-rpc/RVu7CT5J?version=latest</p>"},{"location":"smart-chain/developer/snapshot.html","title":"Snapshot","text":"<p>For v1.1.0:</p> <ul> <li>Latest Snapshot</li> </ul> <p>The following commands are step by step instructions for SCOL node operators that can be used for two major use-cases:</p> <ol> <li>Fixing nodes that are stuck or crashed;</li> <li>Jumpstarting a newly setup validator node; avoid waiting some hours for synchronization</li> </ol> <p>Basically, a compressed version of the last-known \"good\" chaindata is downloaded. Remove the node's old data and update it with the newly downloaded data. Finally, restart the sync-process from this known-good checkpoint.</p> <p>Note: Ensure there is enough disk space for both the zip file AND its uncompressed contents. Double the space or more.</p> <p>Download March Snapshot from CLI using wget</p> <pre><code>wget --no-check-certificate --no-proxy 'https://github.com/githubusername/githubrepo'\n</code></pre> <p>Tip: extract the data in background</p> <p>In case you can not wait for the extraction to finish, you can run it in the background</p> <pre><code># Extract the data\nnohup unzip  /NAME_OF_YOUR_HOME/node/geth/ -f chaindata_202102.zip &amp;\n# Start your node back\ngeth --config ./config.toml --datadir ./node --syncmode snap\n</code></pre>"},{"location":"smart-chain/developer/upgrade-fullnode.html","title":"How to Upgrade Geth","text":"<p>Updating <code>geth</code> is as easy as it gets. You just need to download and install the newer version of <code>geth</code>, shutdown your node and restart with the new software. Geth will automatically use the data of your old node and sync the latest blocks that were mined since you shutdown the old software.</p>"},{"location":"smart-chain/developer/upgrade-fullnode.html#step-1-compile-the-new-version","title":"Step 1: Compile the new version","text":"<pre><code>git clonehttps://github.com/githubusername/githubrepo\n# Enter the folder bsc was cloned into\ncd bsc\n# Comile and install bsc\nmake geth\n</code></pre>"},{"location":"smart-chain/developer/upgrade-fullnode.html#step-2-stop-geth","title":"Step 2: Stop Geth","text":"<pre><code>$ pid=`ps -ef | grep geth | grep -v grep | awk '{print $2}'`\n\n$ kill  $pid\n</code></pre>"},{"location":"smart-chain/developer/upgrade-fullnode.html#step-3-restart","title":"Step 3: Restart","text":"<pre><code>## start a full node\ngeth --config ./config.toml --datadir ./node --syncmode snap\n</code></pre>"},{"location":"smart-chain/developer/bind/bind-tokens.html","title":"Bind BEP2 and SRC20 Tokens","text":"<p>NCand BC work together to ensure that one token can circulate in both formats with confirmed total supply and be used in different use cases. Token Binding can happen at any time after BEP2/BEP8 and SRC20 are ready. The token owners of either BEP2/BEP8 or SRC20 only need to complete the Binding process when a cross-chain feature is necessory.</p> <p>You can use this tool.</p>"},{"location":"smart-chain/developer/bind/bind-tokens.html#issue-bep2-or-bep8-token","title":"Issue BEP2 or BEP8 Token","text":"<p>Please refer to this doc to issue BEP2</p> <p>Please refer to this doc to issue BEP8</p> <p>Example Let's issue a new BEP2 token <code>ABC</code> <pre><code>## mainnet\neth-cli token issue --symbol ABC --token-name \"ABC token\" --mintable --total-supply 10000000000000000 --from owner --chain-id SCOL-Chain-Tigris --node http://dataseed4.org:80\n\n## testnet\neth-cli token issue --symbol ABC --token-name \"ABC token\" --mintable --total-supply 10000000000000000 --from owner --chain-id SCOL-Chain-Ganges --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p>"},{"location":"smart-chain/developer/bind/bind-tokens.html#deploy-src20-token","title":"Deploy SRC20 Token","text":"<p>Please refer to this doc</p> <p>The symbol of the SRC20 token must be exactly identical to the prefix of the bep2 token(case sensitive).</p>"},{"location":"smart-chain/developer/bind/bind-tokens.html#token-binding","title":"Token Binding","text":""},{"location":"smart-chain/developer/bind/bind-tokens.html#send-bind-transaction","title":"Send Bind Transaction","text":"<p><pre><code>## mainnet\neth-cli bridge bind --symbol ABC-A64 --amount 6000000000000000 --expire-time 1597545851 --contract-decimals 18 --from owner --chain-id SCOL-Chain-Tigris --contract-address 0xee3de9d0640ab4342bf83fe2897201543924a324 --node http://dataseed4.scolcoin.com:80\n\n## testnet\neth-cli bridge bind --symbol ABC-A64 --amount 6000000000000000 --expire-time 1597545851 --contract-decimals 18 --from owner --chain-id SCOL-Chain-Ganges --contract-address 0xee3de9d0640ab4342bf83fe2897201543924a324 --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre> The total supply of the ABC-A64 token is 100 million. The above bind transfer will transfer 60 million to a pure-code-controlled address. And then there are 40 million flowable tokens in BC. According to our bind mechanism, we have to lock 40 million token to TokenManager contract and leave 60 million flowable token on TC. Thus the sum of flowable tokens on both chains is 100 million. Please remember that the amounts I mentioned above don\u2019t include decimals.</p>"},{"location":"smart-chain/developer/bind/bind-tokens.html#approve-bind-request","title":"Approve Bind Request","text":"<ol> <li> <p>Grant allowance:</p> <p>In myetherwallet, call the approve of the SRC20 to grant a 40 million allowance to TokenManager contract. The spender value should be <code>0x0000000000000000000000000000000000001008</code>, and the amount value should be 4e25. The transaction sender should be the SRC20 owner.</p> <p></p> </li> <li> <p>Approve Bind</p> <p>In myetherwallet, call approveBind in TokenManager contract to approve the bind request from the SRC20 owner address.</p> <p></p> <p>The value here should be no less than <code>miniRelayFee/1e18</code>. The initial <code>miniRelayFee</code> is 1e16. So <code>miniRelayFee/1e18</code> equals to <code>0.01</code>. Besides, <code>miniRelayFee</code> can be changed by on-chain governance</p> </li> <li> <p>Confirm bind result on BC</p> <p>Wait for about 20 seconds and execute this command: <pre><code>## mainnet\neth-cli token info --symbol ABC-A64 --trust-node --node http://dataseed4.scolcoin.com:80\n## testnet\neth-cli token info --symbol ABC-A64 --trust-node --node http://data-seed-pre-0-s3.scolcoin.com:80\n</code></pre></p> <p><pre><code>{\n\"type\": \"scolchain/Token\",\n\"value\": {\n\"name\": \"ABC Token\",\n\"symbol\": \"ABC-A64\",\n\"original_symbol\": \"ABC\",\n\"total_supply\": \"100000000.00000000\",\n\"owner\": \"tscol1l9ffdr8e2pk7h4agvhwcslh2urwpuhqm2u82hy\",\n\"mintable\": false,\n\"contract_address\": \"0xXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",\n\"contract_decimals\": 18\n}\n}\n</code></pre> If the bind was successful, then in the above response, \"contract_address\" and \"contract_decimals\" should not be empty.</p> </li> </ol>"},{"location":"smart-chain/developer/bind/bind-tokens.html#use-cases","title":"Use Cases","text":""},{"location":"smart-chain/developer/bind/bind-tokens.html#case-1-lock-non-zero-in-bind-transaction","title":"Case 1: Lock non-zero in bind transaction","text":"<p>Suppose you have 20 million on your treasure, you decide to lock some tokens via the bind tx: 1. Send bind transfer on ScolCoin Chain and specify the 20 million as the lock amount. 2. Your SRC20 has 100 million supplies, you need to run the <code>approve</code> to grant allowance to the tokenHub contract, then you run <code>approveBind</code>, along these step, you don't have to specify how much exactly you need to transfer to the tokenHub contract, it will figure it out (here actually it is 80 million), as long as you <code>approve</code> it with enough amount. 3. If your <code>approveBind</code> runs successfully, the bind is done. Your 20 million treasures actually will be on your owner address on TC, and this is your CHOICE. 4. After your bind, you can spend your 20 million whatever you want (including transferring back to BC), and for other holders of your token on BC, they can transfer their token to SCOL at their own choice without your help or your permission.</p>"},{"location":"smart-chain/developer/bind/bind-tokens.html#case-2-lock-zero-in-bind-transaction","title":"Case 2: Lock zero in bind transaction","text":"<p>Suppose you choose not to touch your 20 million in treasure at all: 1. When you have 20 million on your treasure, you can choose to lock ZERO when you run the bind tx. 2. Suppose Your SRC20 has 100 million supplies, you need to run the <code>approve</code> to grant 100 million allowance to the tokenHub contract, then you run <code>approveBind</code>. 3. If your approveBind runs successfully, the bind is done. Your 20 million treasures stay at BC in your treasure address, nothing happens to it, and this is your CHOICE. Meanwhile, on TC, no one has any SRC20 tokens, except the tokenHub. However, because the bind is done, ANYONE, including yourself, can get SRC20 whenever they want by a simple cross-chain transfer.</p>"},{"location":"smart-chain/developer/bind/mirror.html","title":"Mirror BEP2 and SRC20 Token","text":""},{"location":"smart-chain/developer/bind/mirror.html#prerequisite","title":"Prerequisite","text":"<p>This SRC20 token is not bond to any BEP2 token</p>"},{"location":"smart-chain/developer/bind/mirror.html#motivation","title":"Motivation","text":"<p>Anyone can call the <code>mirror</code> method to issue a BEP2 token automatically and bind them.</p>"},{"location":"smart-chain/developer/bind/mirror.html#what-happens-under-the-hood","title":"What happens under the hood","text":"<ul> <li>Verify there is no pending mirror request</li> <li>Check the total supply and token symbol is valid</li> <li>Send a cross-chain package to issue a BEP2 token on ScolCoin Chain</li> <li>The newly created BEP2 token is locked until token holder send cross-chain transfer</li> </ul> <p>After binding, all liquid circulation is on TC.</p>"},{"location":"smart-chain/developer/bind/mirror.html#fee-table","title":"Fee Table","text":"Fee Name Pay in SCOL mirrorFee it's 10 SCOL on mainnet now relayFee it's 0.002SCOL on mainnet now <p>Both <code>mirrorFee</code> and <code>relayFee</code> can be changed by on-chain governance</p> <p>To query <code>mirrorFee</code> from system contract;</p> <ul> <li> <p>Call <code>Tokenmanager</code> Contract with the latest ABI</p> </li> <li> <p>Query <code>mirrorFee</code> function</p> </li> </ul> <p>Fee= result/1e18</p> <p>To query <code>relayFee</code> from system contract;</p> <ul> <li> <p>Call <code>TokenHub</code> Contract with the latest ABI</p> </li> <li> <p>Query <code>getMiniRelayFee</code> function</p> </li> </ul> <p>Fee= result/1e18</p>"},{"location":"smart-chain/developer/bind/mirror.html#mirror-with-myetherwallet","title":"Mirror With MyEtherWallet","text":"<ul> <li>Call <code>Tokenmanager</code> Contract</li> </ul> <p>Use the latest ABI</p> <p></p> <ul> <li>Select <code>mirror</code> function and fill-in with your SRC20 address</li> </ul> <p>The value here should be no less than  <code>mirrorFee</code>+ <code>relayFee</code>.</p> <p>Time stamp should be greater than <code>unix_timestamp(now())</code>. The difference should be between 120 and 86400. It's recommended to use <code>unix_timestamp(now())+1000</code></p> <p></p> <p>All set!</p> <p></p>"},{"location":"smart-chain/developer/bind/mirror.html#query-bep2-token-symbol","title":"Query BEP2 Token Symbol","text":"<p>You can query BEP2 Token symbol from <code>tokenhub</code> contract.</p> <p>Use the latest ABI</p> <p>Select <code>getBoundBep2Symbol</code> function</p> <p>Then, you can see the token symbol in the result.</p> <p></p>"},{"location":"smart-chain/developer/bind/sync.html","title":"Sync BEP2 and SRC20 Token Supply","text":""},{"location":"smart-chain/developer/bind/sync.html#prerequisite","title":"Prerequisite","text":"<p>This SRC20 token is mirrored to a BEP2 token.</p>"},{"location":"smart-chain/developer/bind/sync.html#motivation","title":"Motivation","text":"<p>For a SRC20 token which has been mirrored to BC, anyone can call the <code>sync</code> method to balance the total supply on BC and TC. Thus, the total supply among two Blockchains will remain the same.</p>"},{"location":"smart-chain/developer/bind/sync.html#what-happens-under-the-hood","title":"What happens under the hood","text":"<ul> <li>Verify there is already mirrored</li> <li>Check the total supply and token symbol is valid</li> <li>Send a cross-chain package to modify a BEP2 token total supply on ScolCoin Chain</li> </ul> <p>After syncing, the total supply on BC and SCOL are the same.</p>"},{"location":"smart-chain/developer/bind/sync.html#fee-table","title":"Fee Table","text":"Fee Name Pay in SCOL syncFee it's 0.002SCOL on mainnet now relayFee it's 0.002SCOL on mainnet now <p>Both <code>syncFee</code> and <code>relayFee</code> can be changed by on-chain governance</p> <p>To query <code>syncFee</code> from system contract;</p> <ul> <li> <p>Call <code>Tokenmanager</code> Contract with the latest ABI</p> </li> <li> <p>Query <code>syncFee</code> function</p> </li> </ul> <p>Fee= result/1e18</p> <p>To query <code>relayFee</code> from system contract;</p> <ul> <li> <p>Call <code>TokenHub</code> Contract with the latest ABI</p> </li> <li> <p>Query <code>getMiniRelayFee</code> function</p> </li> </ul> <p>Fee= result/1e18</p>"},{"location":"smart-chain/developer/bind/sync.html#mirror-with-myetherwallet","title":"Mirror With MyEtherWallet","text":"<ul> <li>Call <code>Tokenmanager</code> Contract</li> </ul> <p>Use the latest ABI</p> <p></p> <ul> <li>Select <code>sync</code> function and fill-in with your SRC20 address</li> </ul> <p>The value here should be no less than  <code>syncFee</code>+ <code>relayFee</code>.</p> <p>Time stamp should be greater than <code>unix_timestamp(now())</code>. The difference should be between 120 and 86400. It's recommended to use <code>unix_timestamp(now())+1000</code></p> <p></p> <p>All set!</p>"},{"location":"smart-chain/developer/bind/tokens-cross-chain.html","title":"Cross-chain Token Management","text":"<p>The dual-chain architecture of ScolCoin Chain &amp; ScolCoin Chain empowers you to build your own decentralized apps while also taking advantage of the fast trading performance offered on SCOL DEX (decentralized exchange). The native cross-chain communication mechanism allows tokens to be transferred between BC and SCOL easily.</p> <p>ScolCoin Chain and ScolCoin Chain work together to ensure that one token can circulate in both formats with confirmed total supply and be used in different use cases.</p>"},{"location":"smart-chain/developer/deploy/hardhat-verify.html","title":"Verify with Hardhat","text":"<p>Hardhat has an Etherscan plugin: Hardhat Etherscan plugin</p> <p>Note: Hardhat was previously Buidler.</p>"},{"location":"smart-chain/developer/deploy/hardhat-verify.html#install-the-plugin","title":"Install the plugin","text":"<pre><code>npm install --save-dev @nomiclabs/hardhat-etherscan\n</code></pre>"},{"location":"smart-chain/developer/deploy/hardhat-verify.html#configure-the-plugin-in-buidlerconfigjs","title":"Configure the plugin in buidler.config.js","text":"<ul> <li>Add require(\"@nomiclabs/hardhat-etherscan\");</li> <li>Add Bscscan API key</li> </ul> <p>Warning</p> <p>keep secret and don\u2019t commit to version control)</p> <p>Go to register and get API key: https://testnet-explorer.scolcoin.com/myapikey</p> <ul> <li>Set compiler version to match what was deployed</li> </ul> <pre><code>// hardhat.config.js\nconst { mnemonic, bscscanApiKey } = require('./secrets.json');\n\nrequire('@nomiclabs/hardhat-ethers');\nrequire(\"@nomiclabs/hardhat-etherscan\");\n/**\n * @type import('hardhat/config').HardhatUserConfig\n */\nmodule.exports = {\n\nnetworks: {\ntestnet: {\nurl: `https://testnet-rpc.scolcoin.com`,\naccounts: {mnemonic: mnemonic}\n},\nmainnet: {\nurl: `https://nc-dataseed.scolcoin.com/`,\naccounts: {mnemonic: mnemonic}\n}\n},\n\netherscan: {\n// Your API key for Etherscan\n// Obtain one at https://testnet-explorer.scolcoin.com/\napiKey: bscscanApiKey\n},\nsolidity: \"0.5.12\"\n};\n</code></pre>"},{"location":"smart-chain/developer/deploy/hardhat-verify.html#verify","title":"Verify","text":"<p>Warning</p> <p>Remove any unnecessary contracts and clear the artifacts otherwise these will also be part of the verified contract.</p> <p>Run the following command:</p> <pre><code>npx buidler verify --network mainnet DEPLOYED_CONTRACT_ADDRESS \"Constructor argument 1\"\n</code></pre> <ul> <li>Example</li> </ul> <pre><code>$ npx hardhat  verify --network testnet 0xbF39886B4F91F5170934191b0d96Dd277147FBB2\nNothing to compile\nCompiling 1 file with 0.5.16\nSuccessfully submitted source code for contract\ncontracts/SRC20Token.sol:SRC20Token at 0xbF39886B4F91F5170934191b0d96Dd277147FBB2\nfor verification on Etherscan. Waiting for verification result...\n\nSuccessfully verified contract SRC20Token on Etherscan.\nhttps://testnet-explorer.scolcoin.com/address/0xbF39886B4F91F5170934191b0d96Dd277147FBB2#code\n</code></pre>"},{"location":"smart-chain/developer/deploy/hardhat.html","title":"Using Hardhat","text":""},{"location":"smart-chain/developer/deploy/hardhat.html#what-is-hardhat","title":"What is Hardhat","text":"<p>Hardhat is a development environment to compile, deploy, test, and debug your smart contract.</p>"},{"location":"smart-chain/developer/deploy/hardhat.html#setting-up-the-development-environment","title":"Setting up the development environment","text":"<p>There are a few technical requirements before we start. Please install the following: Requirements:</p>"},{"location":"smart-chain/developer/deploy/hardhat.html#installing","title":"Installing","text":"<p>There are a few technical requirements before we start. Please install the following: Requirements:</p> <ul> <li>Windows, Linux or Mac OS X</li> <li>Node.js v8.9.4 LTS or later</li> <li>Git</li> </ul> <p>First, you need to create an empty project <code>npm init --yes</code></p> <p>Once your project is ready, you should run</p> <p><pre><code>npm install --save-dev hardhat\n</code></pre> It's recommeded to install some dependencies.</p> <p><pre><code>npm install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers\n</code></pre> To use your local installation of Hardhat, you need to use <code>npx</code> to run it (i.e. <code>npx hardhat</code>).</p>"},{"location":"smart-chain/developer/deploy/hardhat.html#create-a-project","title":"Create A Project","text":"<p>To create your Hardhat project run npx hardhat in your project folder:</p> <pre><code>mkdir MegaCoin\ncd MegaCoin\n</code></pre> <ul> <li>Intialize your project:</li> </ul> <pre><code>$ npx hardhat\n888    888                      888 888               888\n888    888                      888 888               888\n888    888                      888 888               888\n8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888\n888    888     \"88b 888P\"  d88\" 888 888 \"88b     \"88b 888\n888    888 .d888888 888    888  888 888  888 .d888888 888\n888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.\n888    888 \"Y888888 888     \"Y88888 888  888 \"Y888888  \"Y888\n\nWelcome to Hardhat v2.0.8\n\n? What do you want to do? \u2026\n\u276f Create a sample project\n  Create an empty hardhat.config.js\n  Quit\n</code></pre> <p>Once this project is initialized, you'll now have a project structure with the following items:</p> <ul> <li>contracts/: Directory for Solidity contracts</li> <li>scripts/: Directory for scriptable deployment files</li> <li>test/: Directory for test files for testing your application and contracts</li> <li>hardhat-config.js: Hardhat configuration file</li> </ul>"},{"location":"smart-chain/developer/deploy/hardhat.html#create-contract","title":"Create Contract","text":"<p>You can write your own smart contract or download the SRC20 token smart contract template.</p>"},{"location":"smart-chain/developer/deploy/hardhat.html#config-hardhat-for-tc","title":"Config Hardhat for TC","text":"<ul> <li>Go to hardhat.config.js</li> <li>Update the  config with nc-network-crendentials.</li> </ul> <pre><code>require(\"@nomiclabs/hardhat-waffle\");\nrequire('@nomiclabs/hardhat-ethers');\nconst { mnemonic } = require('./secrets.json');\n\n// This is a sample Hardhat task. To learn how to create your own go to\n// https://hardhat.org/guides/create-task.html\ntask(\"accounts\", \"Prints the list of accounts\", async () =&gt; {\nconst accounts = await ethers.getSigners();\n\nfor (const account of accounts) {\nconsole.log(account.address);\n}\n});\n\n// You need to export an object to set up your config\n// Go to https://hardhat.org/config/ to learn more\n\n/**\n * @type import('hardhat/config').HardhatUserConfig\n */\nmodule.exports = {\ndefaultNetwork: \"mainnet\",\nnetworks: {\nlocalhost: {\nurl: \"http://127.0.0.1:8545\"\n},\nhardhat: {\n},\ntestnet: {\nurl: \"https://testnet-rpc.scolcoin.com\",\nchainId: 97,\ngasPrice: 20000000000,\naccounts: {mnemonic: mnemonic}\n},\nmainnet: {\nurl: \"https://nc-dataseed.scolcoin.com/\",\nchainId: 56,\ngasPrice: 20000000000,\naccounts: {mnemonic: mnemonic}\n}\n},\nsolidity: {\nversion: \"0.5.16\",\nsettings: {\noptimizer: {\nenabled: true\n}\n}\n},\npaths: {\nsources: \"./contracts\",\ntests: \"./test\",\ncache: \"./cache\",\nartifacts: \"./artifacts\"\n},\nmocha: {\ntimeout: 20000\n}\n};\n</code></pre> <p>Note<p>It requires mnemonic to be passed in for Provider, this is the seed phrase for the account you'd like to deploy from. Create a new <code>.secret</code> file in root directory and enter your 12 word mnemonic seed phrase to get started. To get the seedwords from metamask wallet you can go to Metamask Settings, then from the menu choose Security and Privacy where you will see a button that says reveal seed words.</p> </p>"},{"location":"smart-chain/developer/deploy/hardhat.html#compile-contract","title":"Compile Contract","text":"<p>To compile a Hardhat project, change to the root of the directory where the project is located and then type the following into a terminal: <pre><code>npx hardhat compile\n</code></pre></p>"},{"location":"smart-chain/developer/deploy/hardhat.html#deploying-on-scol-network","title":"Deploying on SCOL Network","text":"<p>Run this command in root of the project directory: <pre><code>$  npx hardhat run --network testnet scripts/deploy.js\n</code></pre></p> <p>Remember your address, transaction_hash and other details provided would differ, Above is just to provide an idea of structure.</p> <p>Congratulations! You have successfully deployed SRC20 Smart Contract. Now you can interact with the Smart Contract.</p> <p>You can check the deployment status here: https://scolcoin.com/ or https://testnet-explorer.scolcoin.com/</p>"},{"location":"smart-chain/developer/deploy/local.html","title":"Local ScolCoin Chain Network","text":"<p>See also : https://github.com/ethereum/go-ethereum/wiki/Private-network</p>"},{"location":"smart-chain/developer/deploy/local.html#setting-up-your-scol-nodes","title":"Setting up your SCOL Node(s)","text":""},{"location":"smart-chain/developer/deploy/local.html#1-prereq-install-geth","title":"1. Prereq : Install Geth","text":"<p>Review the guide here</p>"},{"location":"smart-chain/developer/deploy/local.html#2-prereq-create-projects","title":"2. Prereq : create /projects","text":"<p>Create a <code>/projects</code> symbolic link (Note:  This step is simply so \"/projects\" can be used in all other commands, instead you could use full paths, or set an env var)</p> <pre><code>$ mkdir &lt;my projects folder&gt;\n$ sudo ln -s &lt;my projects folder&gt; /projects\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#3-create-local_ethereum_blockchain-folder","title":"3. Create local_ethereum_blockchain folder","text":"<pre><code>$ mkdir /projects/local_ethereum_blockchain\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#4-create-the-genesis-block-config","title":"4. Create the genesis block config","text":"<p>Create this file :  <code>/projects/local_ethereum_blockchain/genesis.json</code></p> <p>With the following contents :</p> <p><pre><code>{\n     \"config\": {\n       \"chainId\": 1000,\n       \"homesteadBlock\": 0,\n       \"eip155Block\": 0,\n       \"eip158Block\": 0\n                },\n     \"nonce\": \"0x0000000000000061\",\n     \"timestamp\": \"0x0\",\n     \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n     \"gasLimit\": \"0x8000000\",\n     \"difficulty\": \"0x100\",\n     \"mixhash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n     \"coinbase\": \"0x3333333333333333333333333333333333333333\",\n     \"alloc\": {}\n}\n</code></pre> (info about the genesis file)</p>"},{"location":"smart-chain/developer/deploy/local.html#5-initialise-an-ethereum-node","title":"5. Initialise an Ethereum node","text":"<pre><code>$ geth --datadir /projects/local_ethereum_blockchain/node1 init /projects/local_ethereum_blockchain/genesis.json\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#6-start-that-ethereum-node","title":"6. Start that Ethereum node","text":"<pre><code>$ geth --datadir /projects/local_ethereum_blockchain/node1 --networkid 1000 console\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#7-initialise-another-ethereum-node","title":"7. Initialise another Ethereum node","text":"<pre><code>$ geth --datadir /projects/local_ethereum_blockchain/node-2 init /projects/local_ethereum_blockchain/genesis.json\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#8-start-the-2nd-ethereum-node","title":"8. Start the 2nd Ethereum node","text":"<pre><code>$ geth --datadir /projects/local_ethereum_blockchain/node-2 --port 30304 --nodiscover --networkid 1000 console\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#9-connect-one-node-to-the-other","title":"9. Connect one node to the other","text":"<p>In one geth console :</p> <pre><code>&gt; admin.nodeInfo.enode\n</code></pre> <p>In the other console :</p> <pre><code>&gt; admin.addPeer( &lt;the enode value from the first console&gt; )\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#useful-geth-commands","title":"Useful geth commands","text":""},{"location":"smart-chain/developer/deploy/local.html#node-info","title":"Node info","text":"<pre><code>&gt; admin.nodeInfo\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#peers","title":"Peers","text":"<p>Show peers</p> <pre><code>&gt; admin.peers\n</code></pre> <p>How many peers ?</p> <pre><code>&gt; admin.peers.length\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#create-an-account","title":"Create an account","text":"<p>You need an account to do be able to do things like mining</p> <pre><code>&gt; personal.newAccount()\n</code></pre> <p>And make sure your remember/save the password!</p>"},{"location":"smart-chain/developer/deploy/local.html#unlock-account","title":"Unlock account","text":"<p>Neccessary before some actions</p> <pre><code>&gt; personal.unlockAccount( eth.accounts[0] )\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#start-mining","title":"Start mining","text":"<pre><code>&gt; miner.start(1)\n</code></pre> <p>The first block may take a while to mine, allow a few minutes</p>"},{"location":"smart-chain/developer/deploy/local.html#stop-mining","title":"Stop mining","text":"<pre><code>&gt; miner.stop()\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#current-block-number","title":"Current block number","text":"<pre><code>&gt; eth.blockNumber\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#details-of-current-block","title":"Details of current block","text":"<pre><code>&gt; eth.getBlock( eth.blockNumber )\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#which-node-minded-the-last-block","title":"Which node minded the last block","text":"<pre><code>&gt; eth.getBlock(eth.blockNumber).miner\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#account-balance-in-ether","title":"Account balance, in ether","text":"<pre><code>&gt; web3.fromWei(eth.getBalance(eth.accounts[0]))\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#transfer-ether-between-accounts","title":"Transfer ether between accounts","text":"<p>First get the account numbers by doing</p> <p><code>&gt; eth.accounts</code></p> <p>Then unlock the account you are sending from</p> <p><code>&gt; personal.unlockAccount( &lt;from account&gt; )</code></p> <p>eg.</p> <p><code>&gt; personal.unlockAccount(eth.accounts[0])</code></p> <p>Finally transfer 1 ether</p> <pre><code>&gt; eth.sendTransaction({from: \"&lt;from account&gt;\", to: \"&lt;to account&gt;\", value: web3.toWei(1, \"ether\")})\n</code></pre>"},{"location":"smart-chain/developer/deploy/local.html#exit","title":"Exit","text":"<pre><code>&gt; exit\n</code></pre> <p>(This will also stop the node from running if it was started using <code>$ geth console</code> (as opposed to <code>$ geth attach</code>))</p>"},{"location":"smart-chain/developer/deploy/local.html#connect-to-other-nodes-on-your-network","title":"Connect to other nodes on your network","text":"<ol> <li> <p>Get the IP of the node : <code>$ ifconfig|grep netmask|awk '{print $2}'</code></p> </li> <li> <p>Get the enode of the node : <code>&gt; admin.nodeInfo.enode</code></p> </li> <li> <p>REPLACE <code>[::]</code> in the enode string with the <code>[&lt;ip address&gt;]</code></p> </li> <li> <p>On your console <code>&gt; admin.addPeer(&lt; the enode string with the ip address in it&gt;)</code></p> </li> </ol>"},{"location":"smart-chain/developer/deploy/remix.html","title":"Using Remix","text":"<p>Deploys a SRC20 smart contract with a message, and renders it in the front-end. You can interact with the smart contract easily!</p> <p>This dapp implements a \"Hello World\" style application that echoes a message passed to the contract to the front end. This tutorial is intended to be followed using the online IDE available at Remix IDE.</p>"},{"location":"smart-chain/developer/deploy/remix.html#setting-up-remix-ide","title":"Setting up Remix IDE","text":"<ul> <li>Remix is an online IDE to develop smart contracts.</li> <li>You need to choose Solidity Compiler and Deploy and Run Transactions.</li> </ul> <ul> <li> <p>Go to File Explorers, And Create a new file, Name it MegaCoin.sol</p> </li> <li> <p>Copy/Paste the Smart contract below into the newly created file <code>MegaCoin.sol</code></p> </li> </ul>"},{"location":"smart-chain/developer/deploy/remix.html#the-smart-contract","title":"The smart contract","text":"<ul> <li> <p>Create new contract SRC20Token.sol and copy contract code from the bep20 token template here</p> </li> <li> <p>Modify \u201cname\u201d, \u201csymbol\u201d, \u201cdecimals\u201d and \u201ctotalSupply\u201d according to your requirements.</p> </li> </ul> <p></p> <p>The first line, <code>pragma solidity ^0.5.16</code> specifies that the source code is for a Solidity version greater than 0.5.16. Pragmas are common instructions for compilers about how to treat the source code (e.g., pragma once).</p> <p>A contract in the sense of Solidity is a collection of code (its functions) and data (its state) that resides at a specific address on the Ethereum blockchain. Learn more about the constructor and  memory in the docs.</p>"},{"location":"smart-chain/developer/deploy/remix.html#compile-smart-contract","title":"Compile Smart Contract","text":"<ul> <li> <p>Step1: Click button to switch to compile page</p> </li> <li> <p>Step2: Select \u201cSRC20Token\u201d contract</p> </li> <li> <p>Step3: Enable \u201cAuto compile\u201d and \u201coptimization\u201d</p> </li> <li> <p>Step4: Click \u201cABI\u201d to copy the contract abi and save it.</p> </li> </ul> <p></p> <p>Now, We have to deploy our smart contract on ScolCoin Chain Network. For that, we have to connect to web3 world, this can be done my many services like Metamask, Brave, Portis etc. We will be using Metamask. Please follow this tutorial to setup a Metamask Account.</p> <ul> <li> <p>Open Metamask and select Custom RPC from the networks dropdown</p> </li> <li> <p>Go to setting page</p> </li> </ul> <p></p> <ul> <li>Add a new network</li> </ul> <p></p> <ul> <li> <p>Testnet         * RPC URLs         * ChainID: 11512         * Symbol: SCOL         * Block Explorer: https://testnet-explorer.scolcoin.com</p> </li> <li> <p>Mainnet         * RPC URLs         * ChainID: 11513         * Symbol: SCOL         * Block Explorer: https://explorer.scolcoin.com</p> </li> <li> <p>Go ahead and click save</p> </li> <li> <p>Copy your address from Metamask</p> </li> <li> <p>Head over to Faucet and request test SCOL</p> </li> <li> <p>Now, let's Deploy the Smart Contract on ScolCoin Chain Testnet</p> </li> <li>Select Injected Web3 in the Environment dropdown and your contract</li> </ul> <p></p> <ul> <li>Accept the Connection Request!</li> </ul> <p></p> <ul> <li>Once Metamask is connected to Remix, the \u2018Deploy\u2019 transaction would generate another metamask popup that requires transaction confirmation.</li> </ul> <p></p> <p>Congratulations! You have successfully deployed a SRC20 Contract. Now you can interact with the Smart Contract. Check the deployment status here: https://testnet-explorer.scolcoin.com/</p>"},{"location":"smart-chain/developer/deploy/truffle-verify.html","title":"Verify Your Contract on BscScan","text":"<p>The recommended way to verify a smart contract is using plugin. It is easier to read, imports are maintained, licenses are maintained.</p> <p>Verified using Truffle</p> <p>Example: https://testnet-explorer.scolcoin.com/token/0x68D2E27940CA48109Fa3DaD0D2C8B27E64a0c6cf</p> <p>GitHub Project: https://github.com/huangsuyu/verify-example</p>"},{"location":"smart-chain/developer/deploy/truffle-verify.html#truffle","title":"Truffle","text":"<p>Truffle has an BscScan plugin: truffle-plugin-verify</p> <p>You need to deploy with Truffle to verify with the Truffle verify plugin.</p> <p>Get API key: https://scolcoin.com/myapikey</p> <ul> <li>Install the plugin</li> </ul> <pre><code>npm install -D truffle-plugin-verify\n</code></pre> <ul> <li>Configure the plugin in <code>truffle-config.js</code></li> </ul> <pre><code>const HDWalletProvider = require(\"@truffle/hdwallet-provider\");\n\n// const infuraKey = \"fj4jll3k.....\";\n//\nconst { mnemonic, NCSCANAPIKEY} = require('./env.json');\n\nmodule.exports = {\n\nplugins: [\n'truffle-plugin-verify'\n],\napi_keys: {\nbscscan: NCSCANAPIKEY\n},\nnetworks: {\n\ntestnet: {\nprovider: () =&gt; new HDWalletProvider(mnemonic, `https://testnet-rpc.scolcoin.com`),\nnetwork_id: 97,\ntimeoutBlocks: 200,\nconfirmations: 5,\nproduction: true    // Treats this network as if it was a public net. (default: false)\n}\n},\n\n// Set default mocha options here, use special reporters etc.\nmocha: {\ntimeout: 100000\n},\n\n// Configure your compilers\ncompilers: {\nsolc: {\nversion: \"0.5.16\",    // Fetch exact version from solc-bin (default: truffle's version)\n// docker: true,        // Use \"0.5.1\" you've installed locally with docker (default: false)\nsettings: {          // See the solidity docs for advice about optimization and evmVersion\noptimizer: {\nenabled: false,\nruns: 200\n},\nevmVersion: \"byzantium\"\n}\n},\n},\n};\n</code></pre> <ul> <li>Verify <pre><code>truffle run verify SRC20Token@{contract-address} --network testnet\n</code></pre> You should see the following output:</li> </ul> <pre><code>Verifying SRC20Token@0x68D2E27940CA48109Fa3DaD0D2C8B27E64a0c6cf\nPass - Verified: https://testnet-explorer.scolcoin.com/address/0x68D2E27940CA48109Fa3DaD0D2C8B27E64a0c6cf#contracts\nSuccessfully verified 1 contract(s).\n</code></pre>"},{"location":"smart-chain/developer/deploy/truffle.html","title":"Using Truffle","text":""},{"location":"smart-chain/developer/deploy/truffle.html#setting-up-the-development-environment","title":"Setting up the development environment","text":"<p>There are a few technical requirements before we start. Please install the following: Requirements:</p> <ul> <li>Windows, Linux or Mac OS X</li> <li>Node.js v8.9.4 LTS or later</li> <li>Git</li> </ul> <p>Recommendations for Windows</p> <p>If you're running Truffle on Windows, you may encounter some naming conflicts that could prevent Truffle from executing properly. Please see the section on resolving naming conflicts for solutions.</p>"},{"location":"smart-chain/developer/deploy/truffle.html#installing","title":"Installing","text":"<p>Once we have those installed, we only need one command to install Truffle: <pre><code>npm install -g truffle\n</code></pre> To verify that Truffle is installed properly, type <code>truffle version</code> on a terminal. If you see an error, make sure that your npm modules are added to your path.</p>"},{"location":"smart-chain/developer/deploy/truffle.html#create-a-project","title":"Create A Project","text":"<p>The first step is to create a Truffle project. We'll use the *MegaCoin as an example, which creates a token that can be transferred between accounts:</p> <ul> <li>Create a new directory for your Truffle project</li> </ul> <pre><code>mkdir MegaCoin\ncd MegaCoin\n</code></pre> <ul> <li>Intialize your project: <pre><code>truffle init\n</code></pre></li> </ul> <p>Once this operation is completed, you'll now have a project structure with the following items:</p> <ul> <li>contracts/: Directory for Solidity contracts</li> <li>migrations/: Directory for scriptable deployment files</li> <li>test/: Directory for test files for testing your application and contracts</li> <li>truffle-config.js: Truffle configuration file</li> </ul>"},{"location":"smart-chain/developer/deploy/truffle.html#create-contract","title":"Create Contract","text":"<p>You can write your own smart contract or download the SRC20 token smart contract template.</p>"},{"location":"smart-chain/developer/deploy/truffle.html#compile-contract","title":"Compile Contract","text":"<p>To compile a Truffle project, change to the root of the directory where the project is located and then type the following into a terminal: <pre><code>truffle compile\n</code></pre></p>"},{"location":"smart-chain/developer/deploy/truffle.html#config-truffle-for-tc","title":"Config Truffle for TC","text":"<ul> <li>Go to truffle-config.js</li> <li>Update the truffle-config with nc-network-crendentials.</li> </ul> <pre><code>const HDWalletProvider = require('@truffle/hdwallet-provider');\nconst fs = require('fs');\nconst mnemonic = fs.readFileSync(\".secret\").toString().trim();\n\nmodule.exports = {\nnetworks: {\ndevelopment: {\nhost: \"127.0.0.1\",     // Localhost (default: none)\nport: 8545,            // Standard SCOL port (default: none)\nnetwork_id: \"*\",       // Any network (default: none)\n},\ntestnet: {\nprovider: () =&gt; new HDWalletProvider(mnemonic, `https://testnet-rpc.scolcoin.com`),\nnetwork_id: 97,\nconfirmations: 10,\ntimeoutBlocks: 200,\nskipDryRun: true\n},\nbsc: {\nprovider: () =&gt; new HDWalletProvider(mnemonic, `https://mainnet-rpc.scolcoin.com`),\nnetwork_id: 56,\nconfirmations: 10,\ntimeoutBlocks: 200,\nskipDryRun: true\n},\n},\n\n// Set default mocha options here, use special reporters etc.\nmocha: {\n// timeout: 100000\n},\n\n// Configure your compilers\ncompilers: {\nsolc: {\nversion: \"^0.6.12\", // A version or constraint - Ex. \"^0.5.0\"\n}\n}\n}\n</code></pre> <p>Notice, it requires mnemonic to be passed in for Provider, this is the seed phrase for the account you'd like to deploy from. Create a new .secret file in root directory and enter your 12 word mnemonic seed phrase to get started. To get the seedwords from metamask wallet you can go to Metamask Settings, then from the menu choose Security and Privacy where you will see a button that says reveal seed words.</p>"},{"location":"smart-chain/developer/deploy/truffle.html#deploying-on-scol-network","title":"Deploying on SCOL Network","text":"<p>Run this command in root of the project directory: <pre><code>$ truffle migrate --network testnet\n</code></pre></p> <p>Contract will be deployed on ScolCoin Chain Chapel Testnet, it look like this:</p> <pre><code>1_initial_migration.js\n======================\n\nDeploying 'Migrations'\n----------------------\n&gt; transaction hash:    0xaf4502198400bde2148eb4274b08d727a17080b685cd2dcd4aee13d8eb954adc\n&gt; Blocks: 3            Seconds: 9\n&gt; contract address:    0x81eCD10b61978D9160428943a0c0Fb31a5460466\n&gt; block number:        3223948\n&gt; block timestamp:     1604049862\n&gt; account:             0x623ac9f6E62A8134bBD5Dc96D9B8b29b4B60e45F\n&gt; balance:             6.24574114\n&gt; gas used:            191943 (0x2edc7)\n&gt; gas price:           20 gwei\n&gt; value sent:          0 ETH\n&gt; total cost:          0.00383886 ETH\n\nPausing for 5 confirmations...\n------------------------------\n&gt; confirmation number: 2 (block: 3223952)\n&gt; confirmation number: 3 (block: 3223953)\n&gt; confirmation number: 4 (block: 3223954)\n&gt; confirmation number: 6 (block: 3223956)\n\n&gt; Saving migration to chain.\n&gt; Saving artifacts\n-------------------------------------\n&gt; Total cost:          0.00383886 ETH\n\n\nSummary\n=======\n&gt; Total deployments:   1\n&gt; Final cost:          0.00383886 ETH\n</code></pre> <p>Remember your address, transaction_hash and other details provided would differ, Above is just to provide an idea of structure.</p> <p>Congratulations! You have successfully deployed SRC20 Smart Contract. Now you can interact with the Smart Contract.</p> <p>You can check the deployment status here: https://scolcoin.com/ or https://testnet-explorer.scolcoin.com/</p>"},{"location":"smart-chain/developer/deploy/verify.html","title":"How to Verify Your Contract on scolcoin.com","text":""},{"location":"smart-chain/developer/deploy/verify.html#step-1-deploy-your-contract-on-scolcoin-chain","title":"Step 1: Deploy your contract on ScolCoin Chain","text":""},{"location":"smart-chain/developer/deploy/verify.html#step-2-go-to-ncexplorer-or-testnet-explorer","title":"Step 2: Go to NCExplorer or Testnet Explorer","text":"<p>Click on \"Verify and Publish\"</p> <p></p>"},{"location":"smart-chain/developer/deploy/verify.html#step-3-fill-in-the-correct-information-of-your-contract","title":"Step 3: Fill in the correct information of your contract","text":"<ul> <li>Contract Address</li> <li>Compiler Type you chose in Remix or other complier</li> <li>Select Open Source License Type</li> </ul>"},{"location":"smart-chain/developer/deploy/verify.html#step-4-enter-the-solidity-contract-code","title":"Step 4:  Enter the Solidity Contract Code","text":"<p>You need to select \"Yes\" for Optimization, if that's enabled.</p> <p>Contructor arguement is optional. If your contract do have one, you can go to this page to generate the encoded ABI json.</p> <p>Info</p> <p>The default SRC20 contract template does not have a constructor method</p> <p>Click on \"Verify and Publish\" to finish this process. Now you are all set!</p>"},{"location":"smart-chain/developer/oracle/band.html","title":"Band Protocol Price Feed on ScolCoin Chain","text":""},{"location":"smart-chain/developer/oracle/band.html#introduction","title":"Introduction","text":"<p>Developers building on ScolCoin Chain can now leverage Band\u2019s decentralized oracle infrastructure. With Band\u2019s oracle, they now have access to various cryptocurrency price data to integrate into their applications.</p>"},{"location":"smart-chain/developer/oracle/band.html#supported-tokens","title":"Supported Tokens","text":"<p>Currently, the following token symbols are supported. Going forward, this list will continue to expand based on developer needs and community feedback.</p> Token Name Symbol ScolCoin SCOL SCOL USD BUSD Bitcoin BTC Ethereum ETH Tether USDT XRP XRP Chainlink LINK Polkadot DOT Bitcoin Cash BCH Litecoin LTC Cardano ADA Bitcoin SV BSV Crypto.com Coin CRO EOS EOS Tezos XTZ Tron TRX Stellar XLM Cosmos ATOM Monero XMR OKB OKB Swipe SXP"},{"location":"smart-chain/developer/oracle/band.html#price-pairs","title":"Price Pairs","text":"<p>The method provided below supports price query with any denomination as long as the base and quote symbols are supported in the list above.</p> <p>For example, you can use the APIs in Javascripts and Solidity to query the following price pairs:</p> <ul> <li><code>BTC/USD</code></li> <li><code>SCOL/ETH</code></li> </ul>"},{"location":"smart-chain/developer/oracle/band.html#querying-prices","title":"Querying Prices","text":"<p>Currently, there are two methods for developers to query prices from Band\u2019s oracle: through Band\u2019s <code>StdReference</code> smart contract on ScolCoin Chain and through their <code>bandchain.js</code> JavaScript helper library.</p>"},{"location":"smart-chain/developer/oracle/band.html#solidity-smart-contract","title":"Solidity Smart Contract","text":"<p>To query prices from Band\u2019s oracle through smart contracts, the contract looking to use the price values should reference Band\u2019s <code>StdReference</code> contract. This contract exposes <code>getReferenceData</code> and <code>getReferenceDataBulk</code> functions.</p> <p><code>getReferenceData</code> takes two strings as the inputs, the base and quote symbol, respectively. It then queries the <code>StdReference</code> contract for the latest rates for those two tokens, and returns a <code>ReferenceData</code> struct, shown below.</p> <pre><code>struct ReferenceData {\n    uint256 rate; // base/quote exchange rate, multiplied by 1e18.\n    uint256 lastUpdatedBase; // UNIX epoch of the last time when base price gets updated.\n    uint256 lastUpdatedQuote; // UNIX epoch of the last time when quote price gets updated.\n}\n</code></pre> <p><code>getReferenceDataBulk</code> instead takes two lists, one of the <code>base</code> tokens, and one of the <code>quotes</code>. It then proceeds to similarly queries the price for each base/quote pair at each index, and returns an array of <code>ReferenceData</code> structs.</p> <p>For example, if we call <code>getReferenceDataBulk</code> with <code>['BTC','BTC','ETH']</code> and <code>['USD','ETH','SCOL']</code>, the returned <code>ReferenceData</code> array will contain information regarding the pairs:</p> <ul> <li><code>BTC/USD</code></li> <li><code>BTC/ETH</code></li> <li><code>ETH/SCOL</code></li> </ul>"},{"location":"smart-chain/developer/oracle/band.html#example-usage","title":"Example Usage","text":"<p>The contract code below demonstrates a simple usage of the new <code>StdReference</code> contract and the <code>getReferenceData</code> function.</p> <pre><code>pragma solidity 0.6.11;\npragma experimental ABIEncoderV2;\n\ninterface IStdReference {\n    /// A structure returned whenever someone requests for standard reference data.\n    struct ReferenceData {\n        uint256 rate; // base/quote exchange rate, multiplied by 1e18.\n        uint256 lastUpdatedBase; // UNIX epoch of the last time when base price gets updated.\n        uint256 lastUpdatedQuote; // UNIX epoch of the last time when quote price gets updated.\n    }\n\n    /// Returns the price data for the given base/quote pair. Revert if not available.\n    function getReferenceData(string memory _base, string memory _quote)\n        external\n        view\n        returns (ReferenceData memory);\n\n    /// Similar to getReferenceData, but with multiple base/quote pairs at once.\n    function getReferenceDataBulk(string[] memory _bases, string[] memory _quotes)\n        external\n        view\n        returns (ReferenceData[] memory);\n}\n\ncontract DemoOracle {\n    IStdReference ref;\n\n    uint256 public price;\n\n    constructor(IStdReference _ref) public {\n        ref = _ref;\n    }\n\n    function getPrice() external view returns (uint256){\n        IStdReference.ReferenceData memory data = ref.getReferenceData(\"BTC\",\"USD\");\n        return data.rate;\n    }\n\n    function getMultiPrices() external view returns (uint256[] memory){\n        string[] memory baseSymbols = new string[](2);\n        baseSymbols[0] = \"BTC\";\n        baseSymbols[1] = \"ETH\";\n\n        string[] memory quoteSymbols = new string[](2);\n        quoteSymbols[0] = \"USD\";\n        quoteSymbols[1] = \"USD\";\n        IStdReference.ReferenceData[] memory data = ref.getReferenceDataBulk(baseSymbols,quoteSymbols);\n\n        uint256[] memory prices = new uint256[](2);\n        prices[0] = data[0].rate;\n        prices[1] = data[1].rate;\n\n        return prices;\n    }\n\n    function savePrice(string memory base, string memory quote) external {\n        IStdReference.ReferenceData memory data = ref.getReferenceData(base,quote);\n        price = data.rate;\n    }\n}\n</code></pre>"},{"location":"smart-chain/developer/oracle/band.html#contract-addresses","title":"Contract Addresses","text":"Blockchain Aggregator Contract Address Update Every Explorer SCOL (Testnet) <code>0xDA7a001b254CD22e46d3eAB04d937489c93174C3</code> 5 mins link SCOL (Mainnet) <code>0xDA7a001b254CD22e46d3eAB04d937489c93174C3</code> 5 mins link"},{"location":"smart-chain/developer/oracle/band.html#bandchainjs","title":"BandChain.JS","text":"<p>Band\u2019s node helper library <code>bandchain.js</code> also supports a similar <code>getReferenceData</code> function. This function takes one argument, a list of token pairs to query the result of. It then returns a list of corresponding rate values.</p>"},{"location":"smart-chain/developer/oracle/band.html#example-usage_1","title":"Example Usage","text":"<p>The code below shows an example usage of the function</p> <pre><code>const BandChain = require('@bandprotocol/bandchain.js');\n\n(async () =&gt; {\n  const endpoint = 'https://poa-api.bandchain.org';\n\n  const bandchain = new BandChain(endpoint);\n  const price = await bandchain.getReferenceData(['BAND/USD', 'BTC/ETH', 'EUR/USD', 'EUR/BTC']);\n  console.log(price);\n})();\n</code></pre> <p>The corresponding result will then be similar to</p> <pre><code>$ node index.js\n[\n  {\n    pair: 'BAND/USD',\n    rate: 6.49,\n    updated: { base: 1600676205, quote: 0 },\n    rawRate: { value: 6490000000n, decimals: 9 }\n  },\n  {\n    pair: 'BTC/ETH',\n    rate: 29.574702955490906,\n    updated: { base: 1600676187, quote: 1600676187 },\n    rawRate: { value: 29574702955n, decimals: 9 }\n  },\n  {\n    pair: 'EUR/USD',\n    rate: 1.185569204,\n    updated: { base: 1600676032, quote: 0 },\n    rawRate: { value: 1185569204n, decimals: 9 }\n  },\n  {\n    pair: 'EUR/BTC',\n    rate: 0.00010899500647220628,\n    updated: { base: 1600676032, quote: 1600676187 },\n    rawRate: { value: 108995n, decimals: 9 }\n  }\n]\n</code></pre> <p>For each pair, the following information will be returned:</p> <ul> <li> <p><code>pair</code>: The base/quote symbol pair string</p> </li> <li> <p><code>rate</code>: The resulting rate of the given pair</p> </li> <li> <p><code>updated</code>: The timestamp at which the base and quote symbols was last updated on BandChain. For <code>USD</code>, this will be the current timestamp</p> </li> <li> <p><code>rawRate</code>: This object consists of two parts.</p> <ul> <li><code>value</code> is the <code>BigInt</code> value of the actual rate, multiplied by <code>10^decimals</code></li> <li><code>decimals</code> is then the exponent by which <code>rate</code> was multiplied by to get <code>rawRate</code></li> </ul> </li> </ul> <p>Originally published here</p>"},{"location":"smart-chain/developer/oracle/dia.html","title":"DIA Data Oracles on ScolCoin Chain","text":""},{"location":"smart-chain/developer/oracle/dia.html#introduction","title":"Introduction","text":"<p>DApp developers who want to leverage DIA oracles can access the published data on ScolCoin Chain. DIA offers cryptocurrency and data about traditional financial assets.</p>"},{"location":"smart-chain/developer/oracle/dia.html#supported-assets","title":"Supported Assets","text":"<p>DIA supports assets from various categories to be included into the oracle. A selection of assets is listed here:</p> Data Feed Name Data Type ScolCoin Crypto Price Bitcoin Crypto Price Ethereum Crypto Price Tether Crypto Price XRP Crypto price Barnbridge Protocol Farming Pool Data yearn.finance Farming Pool Data CREX on Crex Chart Point on Exchange DAI on CurveFi Chart Point on Exchange WSCOL on PancakeSwap Chart Point on Exchange"},{"location":"smart-chain/developer/oracle/dia.html#data-access","title":"Data Access","text":"<p>All asset prices are determined in USD. Where appliccable, the oracle also provides information on circulating supply and the timestamp of data collection. The query in the smart contract is realized with the symbol of the asset.</p>"},{"location":"smart-chain/developer/oracle/dia.html#smart-contract","title":"Smart Contract","text":"<p>DIA data is published in the <code>DIAOracle</code> smart contract. By querying the <code>getCoinInfo()</code> function you can retrieve the requested data.</p> <p>It takes the name of the asset as input, e.g., <code>Bitcoin</code> and returns this struct of data:</p> <pre><code>struct CoinInfo {\n    uint256 price;\n    uint256 supply;\n    uint256 lastUpdateTimestamp;\n    string symbol;\n}\n</code></pre> <p>The following snippet shows how to retrieve the BTC price of an asset (e.g. <code>ScolCoin</code>) using a smart contract.</p> <pre><code>pragma solidity ^0.4.24;\n\ncontract DiaOracle {\n    address owner;\n\n    struct CoinInfo {\n        uint256 price;\n        uint256 supply;\n        uint256 lastUpdateTimestamp;\n        string symbol;\n    }\n\n    mapping(string =&gt; CoinInfo) diaOracles;\n\n    event newCoinInfo(\n        string name,\n        string symbol,\n        uint256 price,\n        uint256 supply,\n        uint256 lastUpdateTimestamp\n    );\n\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    function changeOwner(address newOwner) public {\n        require(msg.sender == owner);\n        owner = newOwner;\n    }\n\n    function updateCoinInfo(string name, string symbol, uint256 newPrice, uint256 newSupply, uint256 newTimestamp) public {\n        require(msg.sender == owner);\n        diaOracles[name] = (CoinInfo(newPrice, newSupply, newTimestamp, symbol));\n        emit newCoinInfo(name, symbol, newPrice, newSupply, newTimestamp);\n    }\n\n    function getCoinInfo(string name) public view returns (uint256, uint256, uint256, string) {\n        return (\n            diaOracles[name].price,\n            diaOracles[name].supply,\n            diaOracles[name].lastUpdateTimestamp,\n            diaOracles[name].symbol\n        );\n    }\n}\n\ncontract DiaAssetBtcOracle {\n    DiaOracle oracle;\n    address owner;\n\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    function setOracleAddress(address _address) public {\n        require(msg.sender == owner);\n        oracle = DiaOracle(_address);\n    }\n\n    function getAssetEurRate(string asset) constant public returns (uint256) {\n        (uint assetPrice,,,) = oracle.getCoinInfo(asset);\n        (uint btcPrice,,,) = oracle.getCoinInfo(\"Bitcoin\");\n        return (assetPrice * 100000 / btcPrice);\n    }\n\n}\n</code></pre>"},{"location":"smart-chain/developer/oracle/dia.html#deployed-addresses","title":"Deployed Addresses","text":"Chain name Oracle Contract Address Update Frequency TC: Testnet <code>0xf35bEE4B6727D2D1c9167C5fB4D51855D6bB693c</code> 1/day TC: Mainnet <code>0xf35bEE4B6727D2D1c9167C5fB4D51855D6bB693c</code> 1/day <p>The full documentation of the DIA oracle is located here.</p>"},{"location":"smart-chain/developer/oracle/link.html","title":"ScolCoin Chain Price Feeds from Chainlink","text":""},{"location":"smart-chain/developer/oracle/link.html#introduction-to-price-feeds","title":"Introduction to Price Feeds","text":"<p>Chainlink Price Feeds are the quickest way to connect your smart contracts to the real-world market prices of assets. They enable smart contracts to retrieve the latest price of an asset in a single call.</p> <p>Often, smart contracts need to act upon prices of assets in real-time. This is especially true in DeFi. For example, Synthetix use Price Feeds to determine prices on their derivatives platform. Lending and Borrowing platforms like AAVE use Price Feeds to ensure the total value of the collateral.</p>"},{"location":"smart-chain/developer/oracle/link.html#get-the-latest-price","title":"Get the Latest Price","text":"<p>This section explains how to get the latest price of SCOL inside smart contracts using Chainlink Price Feeds, on the ScolCoin Chain.</p> <p>Solidity Contract</p> <p>To consume price data, your smart contract should reference <code>AggregatorV3Interface</code>, which defines the external functions implemented by Price Feeds.</p> <pre><code>pragma solidity ^0.6.7;\n\nimport \"@chainlink/contracts/src/v0.6/interfaces/AggregatorV3Interface.sol\";\n\ncontract PriceConsumerV3 {\n\n    AggregatorV3Interface internal priceFeed;\n\n    /**\n     * Network: ScolCoin Chain\n     * Aggregator: SCOL/USD\n     * Address: 0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\n     */\n    constructor() public {\n        priceFeed = AggregatorV3Interface(0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE);\n    }\n\n    /**\n     * Returns the latest price\n     */\n    function getLatestPrice() public view returns (int) {\n        (\n            uint80 roundID,\n            int price,\n            uint startedAt,\n            uint timeStamp,\n            uint80 answeredInRound\n        ) = priceFeed.latestRoundData();\n        return price;\n    }\n}\n</code></pre> <p>Javascript Web3</p> <pre><code>const Web3 = require(\"web3\");\nconst web3 = new Web3(\"https://testnet-rpc.scolcoin.com\");\nconst aggregatorV3InterfaceABI = [{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint80\",\"name\":\"_roundId\",\"type\":\"uint80\"}],\"name\":\"getRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\nconst addr = \"0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\";\nconst priceFeed = new web3.eth.Contract(aggregatorV3InterfaceABI, addr);\npriceFeed.methods.latestRoundData().call()\n.then((roundData) =&gt; {\n// Do something with roundData\nconsole.log(\"Latest Round Data\", roundData)\n});\n</code></pre> <p>Python Web3</p> <pre><code>from web3 import Web3\nweb3 = Web3(Web3.HTTPProvider('https://testnet-rpc.scolcoin.com'))\nabi = '[{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint80\",\"name\":\"_roundId\",\"type\":\"uint80\"}],\"name\":\"getRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]'\naddr = '0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE'\ncontract = web3.eth.contract(address=addr, abi=abi)\nlatestData = contract.functions.latestRoundData().call()\nprint(latestData)\n</code></pre>"},{"location":"smart-chain/developer/oracle/link.html#get-historical-price-data","title":"Get Historical Price Data","text":"<p>The most common use case for Price Feeds is to get the latest price. However, <code>AggregatorV3Interface</code> also exposes functions which can be used to retrieve price data of a previous round ID.</p> <p>Solidity Contract</p> <p><pre><code>pragma solidity ^0.6.7;\n\nimport \"https://github.com/smartcontractkit/chainlink/blob/master/evm-contracts/src/v0.6/interfaces/AggregatorV3Interface.sol\";\n\ncontract HistoricalPriceConsumerV3 {\n\n    AggregatorV3Interface internal priceFeed;\n\n    /**\n     * Network: ScolCoin Chain\n     * Aggregator: SCOL/USD\n     * Address: 0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\n     */\n    constructor() public {\n        priceFeed = AggregatorV3Interface(0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE);\n    }\n\n    /**\n     * Returns historical price for a round id.\n     * roundId is NOT incremental. Not all roundIds are valid.\n     * You must know a valid roundId before consuming historical data.\n     * @dev A timestamp with zero value means the round is not complete and should not be used.\n     */\n    function getHistoricalPrice(uint80 roundId) public view returns (int256) {\n        (\n            uint80 id,\n            int price,\n            uint startedAt,\n            uint timeStamp,\n            uint80 answeredInRound\n        ) = priceFeed.getRoundData(roundId);\n        require(timeStamp &gt; 0, \"Round not complete\");\n        return price;\n    }\n}\n</code></pre> Javascript Web3</p> <pre><code>const Web3 = require(\"web3\");\n\nconst web3 = new Web3(\"https://testnet-rpc.scolcoin.com\");\nconst aggregatorV3InterfaceABI = [{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint80\",\"name\":\"_roundId\",\"type\":\"uint80\"}],\"name\":\"getRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\nconst addr = \"0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\";\nconst priceFeed = new web3.eth.Contract(aggregatorV3InterfaceABI, addr);\n\n// Valid roundId must be known. They are NOT incremental.\nlet validId = BigInt(\"18446744073709554130\");\n\npriceFeed.methods.getRoundData(validId).call()\n.then((historicalRoundData) =&gt; {\n// Do something with price\nconsole.log(\"Historical round data\", historicalRoundData);\n})\n</code></pre> <p>Python Web3</p> <pre><code>from web3 import Web3\n\nweb3 = Web3(Web3.HTTPProvider('https://testnet-rpc.scolcoin.com'))\nabi = '[{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint80\",\"name\":\"_roundId\",\"type\":\"uint80\"}],\"name\":\"getRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"roundId\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"answer\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"startedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"answeredInRound\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]'\naddr = '0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE'\ncontract = web3.eth.contract(address=addr, abi=abi)\n\n#  Valid roundId must be known. They are NOT incremental.\nvalidRoundId = 18446744073709554130\n\nhistoricalData = contract.functions.getRoundData(validRoundId).call()\nprint(historicalData)\n</code></pre>"},{"location":"smart-chain/developer/oracle/link.html#api-reference","title":"API Reference","text":"<p>API reference for <code>AggregatorV3Interface</code>.</p>"},{"location":"smart-chain/developer/oracle/link.html#functions","title":"Functions","text":"Name Description decimals The number of decimals in the response. description The description of the aggregator that the proxy points to. getRoundData Get data from a specific round. latestRoundData Get data from the latest round. version The version representing the type of aggregator the proxy points to."},{"location":"smart-chain/developer/oracle/link.html#decimals","title":"decimals","text":"<p>Get the number of decimals present in the response value.</p> <p>```javascript Solidity function decimals() external view returns (uint8) <pre><code>* `RETURN`: The number of decimals.\n\n#### description\n\nGet the description of the underlying aggregator that the proxy points to.\n\n```javascript Solidity\nfunction description() external view returns (string memory)\n</code></pre></p> <ul> <li><code>RETURN</code>: The description of the underlying aggregator.</li> </ul>"},{"location":"smart-chain/developer/oracle/link.html#getrounddata","title":"getRoundData","text":"<p>Get data about a specific round, using the <code>roundId</code>.</p> <p>```javascript Solidity function getRoundData(uint80 _roundId) external view     returns (         uint80 roundId,         int256 answer,         uint256 startedAt,         uint256 updatedAt,         uint80 answeredInRound     ) <pre><code>**Parameters**\n\n* `roundId`: The round ID\n\n**Return Values**\n\n* `roundId`: The round ID.\n* `answer`: The price.\n* `startedAt`: Timestamp of when the round started.\n* `updatedAt`: Timestamp of when the round was updated.\n* `answeredInRound`: The round ID of the round in which the answer\n   * was computed.\n\n#### latestRoundData\n\nGet the price from the latest round.\n\n```javascript Solidity\nfunction latestRoundData() external view\n    returns (\n        uint80 roundId,\n        int256 answer,\n        uint256 startedAt,\n        uint256 updatedAt,\n        uint80 answeredInRound\n    )\n</code></pre></p> <p>Return Values</p> <ul> <li><code>roundId</code>: The round ID.</li> <li><code>answer</code>: The price.</li> <li><code>startedAt</code>: Timestamp of when the round started.</li> <li><code>updatedAt</code>: Timestamp of when the round was updated.</li> <li><code>answeredInRound</code>: The round ID of the round in which the answer</li> <li>was computed.</li> </ul>"},{"location":"smart-chain/developer/oracle/link.html#version","title":"version","text":"<p>The version representing the type of aggregator the proxy points to.</p> <p><code>javascript Solidity function version() external view returns (uint256)</code></p> <ul> <li><code>RETURN</code>: The version number.</li> </ul>"},{"location":"smart-chain/developer/oracle/link.html#contract-addresses","title":"Contract Addresses","text":"<p>Chainlink price feed contracts are updated on a regular basis by multiple Chainlink nodes. This section lists the contract addresses for Price Feeds on the ScolCoin Chain.</p>"},{"location":"smart-chain/developer/oracle/link.html#mainnet","title":"Mainnet","text":"Pair Proxy SCOL / USD <code>0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE</code> BTC / USD <code>0x264990fbd0A4796A3E3d8E37C4d5F87a3aCa5Ebf</code> ETH / USD <code>0x9ef1B8c0E4F7dc8bF5719Ea496883DC6401d5b2e</code> <p>Original source is from Chainlink website</p>"},{"location":"smart-chain/developer/upgrade/proxy.html","title":"Upgradeable SRC20 Contracts on TC","text":""},{"location":"smart-chain/developer/upgrade/proxy.html#what-are-upgradeable-contracts","title":"What are Upgradeable Contracts?","text":"<p>Smart contracts in EVM are designed to be immutable. Once you create them there is no way to modify them, effectively acting as an unbreakable contract among participants.What do I do if I want to expand the functionality of my contracts? What if there is a bug in the contract that leads to a loss of funds? What if a vulnerability in the Solidity compiler is discovered? Here\u2019s what you\u2019d need to do to fix a bug in a contract you cannot upgrade:</p> <ul> <li>Deploy a new version of the contract</li> <li>Manually migrate all state from the old one contract to the new one (which can be very expensive in terms of gas fees!)</li> <li>Update all contracts that interacted with the old contract to use the address of the new one</li> <li>Reach out to all your users and convince them to start using the new deployment (and handle both contracts being used simultaneously, as users are slow to migrate)</li> </ul> <p>There are several approaches that allow us to make some changes to smart contracts.</p> <p>Separate logic and data</p> <p>By using this approach, data will be read from a designated data contract directly. This is a rather common approach that is also used outside of Solidity. One of the main disadvantages of this approach is that you cannot change the interface of contracts external to the entire system, and you cannot add or remove functions.</p> <p>Delegatecall Proxy</p> <p><code>delegatecall</code> opcode was implemented in EIP-7. It is possible to delegate execution to other contract, but execution context stays the same. As with delegatecall, the msg.sender will remain that of the caller of the proxy contract. One of the main disadvantages of this approach is that contract code of the proxy will not reflect the state that it stores.</p>"},{"location":"smart-chain/developer/upgrade/proxy.html#writing-upgradeable-src20-contracts","title":"Writing Upgradeable SRC20 Contracts","text":"<p>It\u2019s worth mentioning that these restrictions have their roots in how the Ethereum VM works, and apply to all projects that work with upgradeable contracts, not just OpenZeppelin Upgrades.</p>"},{"location":"smart-chain/developer/upgrade/proxy.html#initializers","title":"Initializers","text":"<p>You can use your Solidity contracts in the OpenZeppelin Upgrades without any modifications, except for their constructors. Due to a requirement of the proxy-based upgradeability system, no constructors can be used in upgradeable contracts. To learn about the reasons behind this restriction, head to Proxies.</p> <p>This means that, when using a contract with the OpenZeppelin Upgrades, you need to change its constructor into a regular function, typically named initialize, where you run all the setup logic:</p> <p><pre><code>pragma solidity ^0.6.0;\nimport \"@openzeppelin/contracts/proxy/TransparentUpgradeableProxy.sol\";\ncontract SRC20UpgradeableProxy is TransparentUpgradeableProxy {\nconstructor(address logic, address admin, bytes memory data) TransparentUpgradeableProxy(logic, admin, data) public {\n}}\n</code></pre> OpenZeppelin Upgrades provides an Initializable base contract that has an initializer modifier to prevent a contract from being initialized multiple times: https://github.com/githubusername/githubrepo/canonical-upgradeable-src20/blob/47ed7a710e6e86bdc85f2118bf63fc892e3b7716/contracts/SRC20TokenImplementation.sol#L37</p> <p><pre><code> /**\n     * @dev sets initials supply and the owner\n     */\nfunction initialize(string memory name, string memory symbol, uint8 decimals, uint256 amount, bool mintable, address owner) public initializer {\n_owner = owner;\n_name = name;\n_symbol = symbol;\n_decimals = decimals;\n_mintable = mintable;\n_mint(owner, amount);\n}\n</code></pre> SRC20 contract initializes the token\u2019s name, symbol, and decimals in its constructor. You should not use these contracts in your SRC20 Upgrades contract. , make sure to use the <code>upgradableSRC20implementation</code> that has been modified to use initializers instead of constructors. https://github.com/githubusername/githubrepo-genesis-contract/blob/42922472b43397fbca9d0c84c7f72fbfaf39efc3/contracts/src20_template/SRC20Token.template#L351</p> <pre><code>constructor() public {\n_name = {{TOKEN_NAME}};\n_symbol = {{TOKEN_SYMBOL}};\n_decimals = {{DECIMALS}};\n_totalSupply = {{TOTAL_SUPPLY}};\n_balances[msg.sender] = _totalSupply;\n\n}\n</code></pre>"},{"location":"smart-chain/developer/upgrade/proxy.html#using-truffle","title":"Using  Truffle","text":""},{"location":"smart-chain/developer/upgrade/proxy.html#setting-up-the-environment","title":"Setting up the Environment","text":"<p>We will begin by creating a new npm project: <pre><code>mkdir mycontract &amp;&amp; cd mycontract\n</code></pre> Then, <pre><code>npm init -y\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#installation","title":"Installation","text":"<p>We will install Truffle.</p> <pre><code>npm install --save-dev truffle\nnpm install --save-dev @openzeppelin/contracts\nnpm install --save-dev zeppelin-solidity\n</code></pre> <p>When running Truffle select the option to \u201cCreate a truffle-config.js\u201d <pre><code>npx truffle init\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#create-upgradeable-contract","title":"Create upgradeable contract","text":"<p>This example token has a fixed supply that is minted to the deployer of the contract.</p> <p>https://github.com/githubusername/githubrepo/canonical-upgradeable-src20/blob/master/contracts/SRC20TokenImplementation.sol</p> <pre><code>const SRC20TokenImplementation = artifacts.require(\"SRC20TokenImplementation\");const SRC20TokenFactory = artifacts.require(\"SRC20TokenFactory\");\nconst Web3 = require('web3');const web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\nconst fs = require('fs');\nmodule.exports = function(deployer, network, accounts) { deployer.then(async () =&gt; {  await deployer.deploy(SRC20TokenImplementation);  await deployer.deploy(SRC20TokenFactory, SRC20TokenImplementation.address); });};\n</code></pre>"},{"location":"smart-chain/developer/upgrade/proxy.html#test-the-contract-locally","title":"Test the contract locally","text":"<p>To test upgradeable contracts we should create unit tests for the implementation contract, along with creating higher level tests for testing interaction via the proxy. <pre><code>contract('Upgradeable SRC20 token', (accounts) =&gt; {  it('Create Token', async () =&gt; {    const SRC20TokenFactoryInstance = await SRC20TokenFactory.deployed();    src20FactoryOwner = accounts[0];    src20Owner = accounts[1];    proxyAdmin = accounts[0];\nconst tx = await SRC20TokenFactoryInstance.createSRC20Token(\"ABC Token\", \"ABC\", 18, web3.utils.toBN(1e18), true, src20Owner, proxyAdmin, {from: src20FactoryOwner});    truffleAssert.eventEmitted(tx, \"TokenCreated\",(ev) =&gt; {      src20TokenAddress = ev.token;      return true;    });\n});\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#transfer-control","title":"Transfer Control","text":"<p>You can change the proxy owner to another address. <pre><code>let event = await src20proxy.methods.changeAdmin(newAdmin).send({from: proxyAdmin});\nsrc20proxy.getPastEvents(\"AdminChanged\", {fromBlock: 0, toBlock: \"latest\"}).then(console.log)\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#transfer-owner","title":"Transfer Owner","text":"<p>You can change the SRC20 token owner to another address. <pre><code>    await src20.methods.transferOwnership(accounts[5]).send({from: accounts[1]});\nconst owner = await src20.methods.getOwner().call({from: accounts[5]});\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#deploy-on-testnet","title":"Deploy on Testnet","text":"<p>Create the following <code>2_src20.js</code> script in the migrations directory. <pre><code>module.exports = function(deployer, network, accounts) { deployer.then(async () =&gt; {  await deployer.deploy(SRC20TokenImplementation);  await deployer.deploy(SRC20TokenFactory, SRC20TokenImplementation.address); });};\n</code></pre> You can first deploy our contract to a local test (such as ganache-cli) and manually interact with it, then deploy your contract to a public test network. <pre><code>$ npx truffle console --network ganache\n</code></pre> We can interact with our contract using the Truffle console. <pre><code>truffle(ganache)&gt; SRC20TokenFactoryInstance = await SRC20TokenFactory.deployed();undefinedtruffle(ganache)&gt; await SRC20TokenFactoryInstance.createSRC20Token(\"ABC Token\", \"ABC\", 18, web3.utils.toBN(1e18), true, {address1}, {address2});\n</code></pre></p> <p>Note: any secrets such as mnemonics or scolcoin.com keys should not be committed to version control.</p> <p>Run <code>truffle migrate</code> with the SCOL testnet to deploy.  We can see our implementation contract 'SRC20TokenImplementation' and the 'SRC20TokenFactory' being deployed. <pre><code>Deploying 'SRC20TokenImplementation'\n   ------------------------------------\n   &gt; transaction hash:    0xdcd37a388bf9b2f822eff5b816bd4c9db80bc4f6046e3f922cedca12162d46d9\n   &gt; Blocks: 3            Seconds: 8\n   &gt; contract address:    0xB3fbaf029580145885e915B3CAeEd259Edb9DfE1\n   &gt; block number:        5174292\n   &gt; block timestamp:     1609990661\n   &gt; account:             0x133D144F52705cEb3f5801B63b9EBcCF4102f5Ed\n   &gt; balance:             10.648947766\n   &gt; gas used:            1147250 (0x118172)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.022945 ETH\n\n   Pausing for 5 confirmations...\n   ------------------------------\n   &gt; confirmation number: 2 (block: 5174294)\n   &gt; confirmation number: 3 (block: 5174295)\n   &gt; confirmation number: 5 (block: 5174297)\n\n   Deploying 'SRC20TokenFactory'\n   -----------------------------\n   &gt; transaction hash:    0x821c8355aaecc36a9f7fe50d2b3722c840047883a6bf500343393554d8ce3696\n   &gt; Blocks: 3            Seconds: 8\n   &gt; contract address:    0xDC1015512AbBC71e57a607A121a4aC9CF05D89BC\n   &gt; block number:        5174300\n   &gt; block timestamp:     1609990685\n   &gt; account:             0x133D144F52705cEb3f5801B63b9EBcCF4102f5Ed\n   &gt; balance:             10.629661146\n   &gt; gas used:            964331 (0xeb6eb)\n   &gt; gas price:           20 gwei\n   &gt; value sent:          0 ETH\n   &gt; total cost:          0.01928662 ETH\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#create-a-new-version-of-our-implementation","title":"Create a new version of our implementation","text":"<p>After a period of time, we decide that we want to add functionality to our contract. In this guide we will add an <code>whitelist</code> function.</p> <p>Create the new implementation, <code>SRC20_V2.sol</code> in your contracts directory with the following Solidity code. <pre><code>/**   * @dev sets multiple whitelist address   */\nfunction multiWhitelistAdd(address[] memory addresses) external onlyOwner {\nfor (uint256 i = 0; i &lt; addresses.length; i++) {\nwhitelist[addresses[i]] = true;\n}\n}\n/**\n     * @dev remove whitelisted address\n     */\nfunction multiWhitelistRemove(address[] memory addresses) external onlyOwner {\nfor (uint256 i = 0; i &lt; addresses.length; i++) {\nwhitelist[addresses[i]] = false;\n}\n}\n/**\n     * @dev check if is a whitelist address\n     */\nfunction isInWhitelist(address a) internal view returns (bool) {\nreturn whitelist[a];\n}\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/proxy.html#test-the-upgrade-locally","title":"Test the upgrade locally","text":"<p>To test our upgrade we should create unit tests for the new implementation contract, along with creating higher level tests for testing interaction via the proxy, checking that state is maintained across upgrades.</p> <p>We will create unit tests for the new implementation contract. We can add to the unit tests we already created to ensure high coverage.</p> <p>Create uograde.test.js in your test directory with the following JavaScript. <pre><code>let tx = await src20proxy.methods.upgradeTo(newInstance.address).send({from: proxyAdmin});\nsrc20proxy.getPastEvents(\"Upgraded\", {fromBlock: 0, toBlock: \"latest\"}).then(console.log)\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html","title":"How to Verify Proxy Contract","text":"<p>Please learn how to deploy an upgradable SRC20 contract here</p>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#flatten-your-contract","title":"Flatten your contract","text":""},{"location":"smart-chain/developer/upgrade/verify-proxy.html#install-flattener","title":"Install flattener","text":"<p><pre><code>npm install truffle-flattener -g\n</code></pre> Run the following command: <pre><code>$ truffle-flattener SRC20TokenImplementation.sol &gt; SRC20TokenImplementationFlattened.sol\n$ truffle-flattener SRC20UpgradeableProxy.sol &gt; SRC20UpgradeableProxyFlattened.sol\"\n</code></pre></p>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#compile-and-deploy-your-contract-with-remix","title":"Compile and deploy your contract with Remix","text":""},{"location":"smart-chain/developer/upgrade/verify-proxy.html#compile-implementation-contract","title":"Compile Implementation contract","text":"<ul> <li>Open Remix IDE: https://remix.ethereum.org</li> <li>Select solidity language</li> <li>Create new contract <code>SRC20Token.sol</code> and copy contract code from flattened <code>SRC20TokenImplementationFlattened.sol</code></li> <li>Compile the implementation contract</li> <li>Click on this button to switch to the compile page</li> <li>Select \u201cSRC20TokenImplementation\u201d contract</li> <li>Enable \u201cAuto compile\u201d and \u201coptimization\u201d</li> <li>Click \u201cABI\u201d to copy the contract abi and save it.</li> </ul>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#deploy-the-implementation-contract","title":"Deploy the implementation contract","text":"<ul> <li>Select \u201cInjected Web3\u201d</li> <li>Select \u201cSRC20TokenImplementation\u201d contract</li> <li>Click the \u201cDeploy\u201d button and Metamask will pop up</li> <li>Click the \u201cconfirm\u201d button to sign and broadcast the transaction to TC.</li> <li>Then, you need to initialize the token: fill in all the parameters and click on \u201ctransact\u201d</li> </ul> <p>Note: <code>Owner</code> should be the address who send the deploy transaction before.</p> <ul> <li>Click on the \u201cCopy\u201d icon to save the initializatioin data: Like the following: ```</li> </ul> <pre><code>0xef3ebcb800000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000f42400000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fc41d5571120442d1bb82cea0884966e543cb78b000000000000000000000000000000000000000000000000000000000000000548656c6c6f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000548454c4c4f000000000000000000000000000000000000000000000000000000\n</code></pre> <ul> <li>Confirm your transaction in MetaMask</li> </ul> <p></p>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#compile-proxy-contract","title":"Compile Proxy Contract","text":"<ul> <li>Create new contract proxy.sol and copy contract code from flattened <code>SRC20UpgradeableProxyFlattened.sol</code>.  Here is and example</li> <li>Compile the proxy contractClick on this button to switch to the compile page</li> <li>Select \u201cSRC20UpgradeableProxy\u201d contract</li> <li>Enable \u201cAuto compile\u201d and \u201coptimization\u201dClick \u201cABI\u201d to copy the contract abi and save it.</li> </ul>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#deploy-the-proxy-contract","title":"Deploy the proxy contract","text":"<ul> <li>Select \u201cInjected Web3\u201dSelect \u201cSRC20UpgradeableProxy.sol\u201d contract</li> <li>Fill in the parameters</li> </ul> <p>Logic: The address of <code>SRC20Implementation</code> contract Admin: admin cannot be SRC20 token owner Data: use the initialization data you saved before</p> <ul> <li>Click the \u201cDeploy\u201d button and Metamask will pop up</li> <li>Click the \u201cconfirm\u201d button to sign and broadcast transaction to TC.</li> </ul>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#verify-proxy-contract-on-bscscan","title":"Verify Proxy Contract on BscScan","text":"<p>Note: The way to verify the SRC20TokenImplementation contract is the same as before.</p> <ul> <li>Go to your contact page and click on \u201cVerify and Publish\u201d</li> </ul> <p></p> <ul> <li>Select Single file</li> </ul> <p></p> <ul> <li>Copy your contract code below and check \u201cOptimization\u201d if it\u2019s enabled</li> <li>Contractor Data: Please use this site for getting the correct constructor data: https://abi.hashex.org/#</li> </ul> <p>First, you need to copy ABI json of \u201cSRC20UpgradeableProxy.sol\u201d contractThen, click on \u201cParse\u201d</p> <p></p> <p>Add all those 3 parameters as indicated. Then copy/paste the result.</p> <p>That\u2019s it! You have verified your proxy contract.</p> <p></p>"},{"location":"smart-chain/developer/upgrade/verify-proxy.html#link-these-two-contracts","title":"Link these two contracts","text":"<ul> <li>Click on \u201cMore Options\u201d and choose \u201cis this a proxy\u201d.</li> </ul> <ul> <li>Verify your proxy address</li> </ul> <ul> <li>Confirm the implementation address.</li> </ul> <p>If you go back to the contract page and you can see two more buttons \u201cRead as Proxy\u201d and \u201cWrite as Proxy\u201d</p> <p></p>"},{"location":"smart-chain/guides/bnb-gas.html","title":"Buy SCOL as Gas","text":"<p>Tip<p>This feature is available in v2</p> </p>"},{"location":"smart-chain/guides/bnb-gas.html#why-do-we-need-this-feature","title":"Why do we need this feature?","text":"<p>When users swap their tokens to the SRC20 equivalents on ScolCoin Chain, they also need to get some SCOL to pay for gas.</p>"},{"location":"smart-chain/guides/bnb-gas.html#requirements","title":"Requirements","text":"<ul> <li>The destination network has to be ScolCoin Chain</li> <li>The token is a popular BToken, such as BTC, ETH, USDT, BUSD</li> <li>The total of your swap order has to be greater than 2SCOL</li> </ul>"},{"location":"smart-chain/guides/bnb-gas.html#how-many-scol-you-can-get","title":"How many SCOL you can get?","text":"<p>There are 3 options: 0.5 SCOL, 1SCOL and 2 SCOL</p>"},{"location":"smart-chain/guides/bnb-gas.html#user-guide","title":"User Guide","text":""},{"location":"smart-chain/guides/bnb-gas.html#1-input-your-order-information","title":"1. Input your order information","text":""},{"location":"smart-chain/guides/bnb-gas.html#2-check-the-box-i-want-to-swap-some-scol-gas-in-this-order","title":"2. Check the box \"I want to swap some SCOL gas in this order\"","text":""},{"location":"smart-chain/guides/bnb-gas.html#3-choose-scol-amount","title":"3. Choose SCOL amount","text":""},{"location":"smart-chain/guides/bnb-gas.html#4-confirm-the-order-information","title":"4. Confirm the order information","text":"<p>The network fee should be the sum of the fee for swapping assets and the fee for purchasing SCOL on your behalf.</p> <p>Tip<p>The network fees are floating, you might get a different rate than you expected when your order is completed.</p> </p> <p>The actual amount of network fee you have to pay is network fee*(1-discount) When the discount is 100%, the network fee is free.</p>"},{"location":"smart-chain/guides/bnb-gas.html#5-complete-the-deposit-transaction-by-sending-the-exact-amount-of-token-to-the-address-shown","title":"5. Complete the deposit transaction by sending the exact amount of token to the address shown","text":""},{"location":"smart-chain/guides/bnb-gas.html#6-you-can-also-verify-the-order-process-from-the-history-board","title":"6. You can also verify the order process from the \u201cHistory\u201d board.","text":"<p>Tip<p>The actual amount of token you receive can be different from the confirmation page</p> </p> <p>Calculation formula:</p> <p>Received token  = Input amount  - network fee - cost to buy SCOL</p>"},{"location":"smart-chain/guides/bridge-v2.html","title":"Bridge v2","text":""},{"location":"smart-chain/guides/bridge-v2.html#introduction","title":"Introduction","text":"<p>Introducing SCOL Bridge V2, a brand new bridge service providing access to inter-blockchain liquidity for all popular blockchain networks, brings valuable assets such as BUSD, USDT, and ETH to ScolCoin Chain ecosystems. </p> <p>In the first version, the procedure of swapping tokens has two categories: Peg-In and Peg-Out. Peg-In allows users to exchange the native tokens to the equivalent of pegged tokens on ScolCoin Chain or ScolCoin Chain. Meanwhile, the Peg-Out procedure enables users to swap the equivalent of pegged tokens on ScolCoin Chain or ScolCoin Chain to the native tokens. </p> <p>Many more networks are coming soon ~</p>"},{"location":"smart-chain/guides/bridge-v2.html#user-guide","title":"User Guide","text":""},{"location":"smart-chain/guides/bridge-v2.html#swap-tokens-to-scolcoin-chain-from-a-different-network","title":"Swap Tokens to ScolCoin Chain from a different Network","text":"<ul> <li>Install your extension wallet; it can be SCOL Extension Wallet or MetaMask</li> <li>Go to SCOL Bridge page, and you will use V2 by default.</li> </ul> <ul> <li>Click on \u201cConnect Wallet\u201d</li> </ul> <p>Once you finished unlocking your wallet, you can see your address at the \u201cdestination\u201d box</p> <p></p> <ul> <li>Choose Assets</li> </ul> <p></p> <p>SCOL Bridge supports 35 popular cryptocurrencies. You can move your USDT, BUSD, or ETH across different blockchains quickly. You can see the whole list from this API: https://api.scolcoin.com/bridge/api/v2/tokens </p> <ul> <li>Choose \u201cFrom\u201d and \u201cTo\u201d network types</li> </ul> <p></p> <p>To swap Tokens to ScolCoin Chain from a different network, the destination network must be ScolCoin Chain or ScolCoin Chain. You can click on the arrow button to switch between these two networks. </p> <ul> <li>Enter Swap Amount then confirm</li> </ul> <p></p> <p>Please note that the fixed amount of network fee will be charged for now</p> <ul> <li>To transfer from another network to the connected wallet network, please deposit your tokens before closing. </li> </ul> <p>You should initiate a single transfer; the system will only monitor the first transfer transaction.</p> <p></p> <p>Transaction Result </p> <p></p> <p>You can also verify the swap process from the \u201cHistory\u201d board.  </p>"},{"location":"smart-chain/guides/bridge-v2.html#swap-tokens-from-scolcoin-chain-to-a-different-network","title":"Swap Tokens from ScolCoin Chain to a different Network","text":"<ul> <li>Install your extension wallet; it can be SCOL Extension Wallet or MetaMask</li> <li>Go to SCOL Bridge page, and you will use V2 by default.</li> </ul> <ul> <li>Click on \u201cConnect Wallet\u201d</li> </ul> <p>Once you finished unlocking your wallet, you can see your address at the \u201cdestination\u201d box</p> <p></p> <p>Choose Assets</p> <p></p> <p>SCOL Bridge supports 35 popular cryptocurrencies. You can move your USDT, BUSD, or ETH across different blockchains quickly. You can see the whole list from this API: https://api.scolcoin.com/bridge/api/v2/tokens </p> <ul> <li>Choose \u201cFrom\u201d and \u201cTo\u201d network types</li> </ul> <p></p> <p>To swap Tokens from ScolCoin Chain to a different Network, the source network must be ScolCoin Chain, ScolCoin Chain or Ethereum (with metamask)</p> <ul> <li>Enter Swap Amount then confirm</li> </ul> <p></p> <p>Please note that the fixed amount of network fee will be charged for now</p> <ul> <li>Submit your transaction with Extension walletYou should initiate a single transfer; the system will only monitor the first transfer transaction.</li> </ul> <p></p> <ul> <li>Transaction Result    </li> </ul> <p>You can also verify the swap process from the \u201cHistory\u201d board.  </p>"},{"location":"smart-chain/guides/bridge-v2.html#conclusion","title":"Conclusion","text":"<p>SCOL Bridge is the safest, fastest, and most secure way to bring cross-chain assets to ScolCoin Chain and ScolCoin Chain. If you have any issues, please contact customer support of SCOL.com.</p>"},{"location":"smart-chain/guides/bridge-v2.html#faq","title":"FAQ","text":"<ol> <li>How much can I swap every day?</li> </ol> <p>You can monitor your daily limit at the top of bridge page. </p> <p></p> <ol> <li>What is pegged Bitcoin on ScolCoin Chain and ScolCoin Chain?</li> </ol> <p>SCOL.com announced  Project Token Canal, which is a new initiative, similar to many existing \u2018wrapped coins\u2019 in the crypto community. As the largest crypto token vault and exchange, SCOL.com will issue and bind more token assets on ScolCoin Chain and ScolCoin Chain, and guarantee the conversion from and to the original tokens with credibility and infrastructure. Announcement Project Token Canal is a great option for users of SCOL.com, while SCOL Bridge is the powerful alternative for non-SCOL.com users and more. These two channels will work together to provide more liquidity to ScolCoin Chain ecosystem. View Proof of Assets </p>"},{"location":"smart-chain/guides/cross-chain.html","title":"Cross chain","text":"<ul> <li>List of Cross-chain Apps Supporting ScolCoin Chain</li> </ul> Type Name Website Tutorial Fungible Token SCOL Bridge https://www.scolcoin.com/en/bridge Link Fungible Token anyswap https://bsc.anyswap.exchange/bridge Link Fungible Token multichain.xyz https://multichain.xyz/ Fungible Token xDai https://nc-to-xdai-omnibridge.web.app/ link Fungible Token Poly.network https://bridge.poly.network/ link NFT pNetwork https://dapp.ptokens.io/ link NFT curvegrid https://www.curvegrid.com/ link"},{"location":"smart-chain/guides/general.html","title":"Overview","text":""},{"location":"smart-chain/guides/general.html#comparision-between-bc-and-tc","title":"Comparision Between BC and TC","text":"ScolCoin Chain ScolCoin Chain Consensus DPoS PoSA No. of Validators 11 up to 21 Mean Block Time &lt;1s ~5s Programmability BEPs Support EVM-compatible smart contracts Cross Chain BEP3 introduces Hash Timer Locked Contract functions and further mechanism to handle inter-blockchain tokens peg. SCOL comes with efficient native dual chain communication; Optimized for scaling high-performance dApps that require fast and smooth user experience."},{"location":"smart-chain/guides/nc-intro.html","title":"Introduction of ScolCoin Chain","text":"<p>ScolCoin Chain relies on a system of PoA consensus that can support short block time and lower fees. The most bonded validator candidates of staking will become validators and produce blocks. The double-sign detection and other slashing logic guarantee security, stability, and chain finality.</p> <p>The ScolCoin Chain also supports EVM-compatible smart contracts and protocols. Cross-chain transfer and other communication are possible due to native support of interoperability. SCOL Exchange remains a liquid venue of the exchange of assets on both chains. This dual-chain architecture will be ideal for users to take advantage of the fast trading on one side and build their decentralized apps on the other side. The ScolCoin Chain will be:</p> <ul> <li>EVM-compatible: Supports all the existing Ethereum tooling along with faster finality and cheaper transaction fees.</li> <li>Interoperable: Comes with efficient native dual chain communication; Optimized for scaling high-performance dApps that require fast and smooth user experience.</li> <li>Distributed with on-chain governance: Proof of Staked Authority brings in decentralization and community participants. As the native token, SCOL will serve as both the gas of smart contract execution and tokens for staking.</li> </ul>"},{"location":"smart-chain/guides/panama.html","title":"Panama","text":""},{"location":"smart-chain/guides/panama.html#introduction","title":"Introduction","text":"<p> Introducing SCOL Bridge, a bridge service providing access to inter-blockchain liquidity for ScolCoin Chain, ScolCoin Chain decentralized applications, and bring valuable assets to ScolCoin Chain ecosystems.</p>"},{"location":"smart-chain/guides/panama.html#peg-in-procedure","title":"Peg-In Procedure","text":"<p>Peg-in procedure allows users to swap the native tokens to the equivalent of pegged tokens on ScolCoin Chain or ScolCoin Chain. The following steps are taken:</p> <ol> <li>The user creates a Swap Request to SCOL Bridge Service Provider</li> <li>SCOL Bridge Service Provider allocates a deposit address</li> <li>The user has to deposit the agreed amount of native tokens to this address. If the equivalent is not sent before the deadline, the native tokens are refundable.</li> <li>SCOL Bridge Service Provider will take notice of the upcoming transfer and send the equivalent pegged tokens to the receiver\u2019s address</li> <li>The user can see the change of his balance of these pegged tokens.</li> <li>SCOL Bridge Service Provider will lock the original tokens.  </li> </ol>"},{"location":"smart-chain/guides/panama.html#peg-out-procedure","title":"Peg-Out Procedure","text":"<p>Peg-out procedure allows users to swap the equivalent of pegged tokens on ScolCoin Chain or ScolCoin Chain to the native tokens. The following steps are taken:</p> <ol> <li> <p>The user creates a Swap Request to SCOL Bridge Service Provider</p> </li> <li> <p>SCOL Bridge Service Provider allocates a deposit address</p> </li> <li> <p>The user has to deposit the agreed amount of pegged tokens to this address. If the equivalent is not sent before the deadline, the pegged tokens are refundable.</p> </li> <li> <p>SCOL Bridge Service Provider will take notice of the upcoming transfer and send the equivalent native tokens to the receiver\u2019s address</p> </li> <li> <p>The user can see the change in his balance of these native tokens.</p> </li> <li> <p>SCOL Bridge Service Provider will lock the pegged tokens.  </p> </li> </ol>"},{"location":"smart-chain/guides/panama.html#supported-assets","title":"Supported Assets","text":"<p>Current list:</p> <ul> <li>BUSD Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>USDT Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged BTC Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ETH Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged LINK Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged BCH Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ONT Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged LTC Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ATOM Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged DOT Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ADA Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged DAI Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged EOS Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged BAND Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged XRP Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged XTZ Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged BAT Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged SNX Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged FYI Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged UNI Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged FIL Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged NEAR Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ZEC Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged COMP Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged MKR Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged TCT Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged IOTX Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged BEL Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged ELF Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged PAX Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged USDC Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>Pegged INJ Token URL:<ul> <li>ScolCoin Chain</li> <li>ScolCoin Chain</li> </ul> </li> <li>SXP Token URL:<ul> <li>BEP2</li> <li>SRC20</li> </ul> </li> </ul> <p>Many more assets are coming soon ~</p>"},{"location":"smart-chain/guides/panama.html#peg-in-user-guide","title":"Peg-in User Guide","text":"<ul> <li> <p>Install SCOL Extension Wallet or MetaMask</p> </li> <li> <p>Go to SCOL Bridge page, Click on \u201cConnect Wallet\u201d</p> </li> </ul> <p></p> <ul> <li>Unlock your SCOL Extension wallet or MetaMask to choose your destination address</li> </ul> <p></p> <ul> <li>Enter Swap Info</li> </ul> <p></p> <ul> <li>Wait for the deposit to finish</li> </ul> <p></p> <ul> <li>Transaction Result</li> </ul> <p>Successful</p> <p></p> <p>Failed</p> <p></p>"},{"location":"smart-chain/guides/panama.html#peg-out-user-guide","title":"Peg-out User Guide","text":"<ul> <li>Install SCOL Extension Wallet or MetaMask</li> <li>Go to swap page, click on the \u201cPeg-out\u201d tabClick on \u201cConnect Wallet\u201d</li> </ul> <ul> <li>Unlock your SCOL Extension wallet or MetaMask to choose your source address. Please note that you can only exchange your assets on ScolCoin Chain to their equivalents. Make sure that you have switched to ScolCoin Chain network.</li> </ul> <ul> <li>Enter Swap Info</li> </ul> <p>Please make sure that:</p> <ul> <li>The address is the one you control in the destinatioin blockchain.</li> <li>The amount is above the minimium requirement</li> </ul> <p>.</p> <ul> <li>Confirm the swap amount.</li> </ul> <p>Please note that the fixed amount of network fee will be charged for now. The actual amount you will receive is shown in the box.</p> <p></p> <ul> <li>You will have to transfer the exact amount of SRC20 tokens to an allocated address.</li> </ul> <p>Please complete your deposit before the close time in a single transfer transaction.</p> <p></p> <ul> <li>ScolCoin Chain Extension wallet will pop up a window for your approval.</li> </ul> <p>Please double-confirm the destination address and amount.</p> <p>To pay for the deposit transfer, you have to have enough SCOL to pay for the network fee.</p> <p></p> <ul> <li>Wait for the network to confirm the transaction</li> </ul> <p>As ScolCoin Chain's average block time is about 3s, you should see the confirmation very soon.</p> <p></p> <ul> <li>Mark your transaction hash in confirmation info, you can query the transaction in ScolCoin Chain explorer with the transaction hash.</li> </ul> <p></p> <ul> <li>Wait for Binnance Bridge Service to transfer native tokens to your address</li> </ul> <p>Please note that this process can take some time according to different blockchains.</p> <p></p> <ul> <li>Double-check the balance of your destination address after the transaction is confirmed on the blockchain</li> </ul> <p></p>"},{"location":"smart-chain/guides/panama.html#in-conclusion","title":"In Conclusion","text":"<p>Recently, SCOL.com announced Project Token Canal, which is a new initiative, similar to many existing \u2018wrapped coins\u2019 in the crypto community. As the largest crypto token vault and exchange, SCOL.com will issue and bind more token assets on ScolCoin Chain and ScolCoin Chain, and guarantee the conversion from and to the original tokens with credibility and infrastructure.</p> <p>Project Token Canal is a great option for users of SCOL.com, while SCOL Bridge is the powerful alternative for non-SCOL.com users and more. These two channels will work together to provide more liquidity to ScolCoin Chain ecosystem. Peg-out feature will be available soon.</p>"},{"location":"smart-chain/guides/panama.html#reminder","title":"Reminder","text":"<p>Warning</p> <p>Please try a small amount before swap a large amount.</p> <ul> <li>If your deposit transaction is sent shortly before the closing deadline, there is a great chance that the transaction will not be confirmed before closing time.</li> <li>The deposit address will be allocated for every swap, please don\u2019t reuse it in the future.</li> <li>If your deposit was already closed, please don\u2019t transfer any tokens.</li> <li>If your deposit transaction value is not enough, you cannot complete your deposit with multiple transactions.  Please wait for this swap to expire, and start a new one</li> </ul>"},{"location":"smart-chain/guides/panama.html#faq","title":"FAQ","text":"<ul> <li>Missing withdraws?</li> </ul> <p>You can always track the status of their swaps at this page</p> <p>For pending once, please wait a bit longer to wait for this swap to complete.</p> <p>For failed ones, please contact the customer support team for further info.</p> <p></p> <ul> <li>How do I check the transaction status on the blockchain?</li> </ul> <p></p> <p>The related transaction ID will be displayed at the detail page. You can click the link and see the transaction on the blockchain.</p> <ul> <li>Withdrawal to a Wrong Address when Peg-in?</li> </ul> <p>Please pay attention to network type.</p> <p>The address of ScolCoin Chain and ScolCoin Chain has different formats. In case of any kind of failure, please contact the customer support.</p> <ul> <li>What\u2019s the fee structure for SCOL Bridge Swap?</li> </ul> <p></p> <p>A fixed network fee will be charged according to different networks. The amount differs within different blockchains.</p> <ul> <li>Can I reuse the deposit address?</li> </ul> <p>The deposit address will be allocated for every swap, please don\u2019t reuse it in the future.</p> <ul> <li>Can I complete my deposit with multiple transfers?</li> </ul> <p>You cannot complete your deposit with multiple transactions. Only your first deposit transaction is counted. Please wait for this swap to expire, and start a new one</p>"},{"location":"smart-chain/guides/concepts/BEP86.html","title":"BEP86","text":"<p>Note: this feature is only available in Testnet after Lagrange Upgrade.</p>"},{"location":"smart-chain/guides/concepts/BEP86.html#motivations","title":"Motivations","text":"<p>This BEP is designed to increase the rewards for relayer operators.</p>"},{"location":"smart-chain/guides/concepts/BEP86.html#extra-rewards-from-systemreward","title":"Extra Rewards From SystemReward","text":"<p>This new BEP will introduce a new agovernable parameter <code>dynamicExtraIncentiveAmount</code> to the RelayerIncentivize Contract. These extra  amount of SCOL which will be transferred from the <code>SystemReward</code> to the bsc relayer reward pool.</p>"},{"location":"smart-chain/guides/concepts/BEP86.html#claim-extra-rewards","title":"Claim Extra Rewards","text":"<ol> <li>Claim <code>dynamicExtraIncentiveAmount</code> from the SystemReward contract.</li> <li>Add the new claimed reward to the existing reward.</li> <li>Add the total reward to the relayer reward pool.</li> </ol> <p>You can see the implementation in this PR</p>"},{"location":"smart-chain/guides/concepts/BEP89.html","title":"BEP89","text":"<p>Note: this feature is only available in Testnet after Lagrange Upgrade.</p>"},{"location":"smart-chain/guides/concepts/BEP89.html#motivations","title":"Motivations","text":"<p>ScolCoin Chain will have some hard forks inevitably in the long run. When different valdiator nodes use different version of SCOL Chains codebase either unintentionally or as a result of an attack, it may lead to a consensus fork or a chain split. By far the vast majority of changes to the ScolCoin Chain codebase have no impact on consensus rules. Note that this type of fork is very different than a codebase fork (usually done by cloning someone else\u2019s repository).</p> <p>When a change is proposed that affects compatibility with other nodes, a BEP (SCOL Evolution Proposal) is typically required. A brief description of the BEP process along with a list of existing BEPs can be found here.</p> <p>BEP89 is introduced to enable the chain to display the whole view of validators that on different upcoming forks. Any nodes/validators can decide to upgrade/fork or not accordingly. ScolCoin Chain full nodes are able to display the whole view of validators that on different upcoming forks.</p>"},{"location":"smart-chain/guides/concepts/BEP89.html#implementatiion","title":"Implementatiion","text":"<p>The proposal <code>FORK_HASH</code> takes an \"IEEE CRC32 checksum ([4]byte) of the genesis hash + fork blocks numbers that already passed. Validator nodes will fill in <code>Header.Extra</code> with <code>NEXT_FORK_HASH</code> during preparing block header.</p> <p>The fullnodes will log a warning message if the majority <code>NEXT_FORK_HASH</code> is different from local.</p> <p>Example log of warning:</p> <p><pre><code>t=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\nt=2021-01-20T21:40:09+0800 lvl=warn msg=\"there is a possible fork, and your client is not the majority. Please check...\" nextForkHash=cd0d163d\n</code></pre> You can see the implementation in this PR</p>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html","title":"SCOL Relayer","text":"<p>Relayers are responsible to submit Cross-Chain Communication Packages between the two blockchains. Due to the heterogeneous parallel chain structure, two different types of Relayers are created.</p> <p>Relayers for BC-to-NCcommunication referred to as NCRelayers are a standalone process that can be run by anyone, and anywhere, except that Relayers must register themselves onto SCOL and deposit a certain amount of SCOL. Only relaying requests from the registered Relayers will be accepted by TC.</p> <p>GitHub Implementation link: https://github.com/githubusername/githubrepo-relayer</p> <p>Config Files: https://github.com/githubusername/githubrepo-relayer-config</p>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#monitor-and-parse-cross-chain-event","title":"Monitor and Parse Cross Chain Event","text":"<p>As a SCOL relayer, it must have proper configurations on the following three items:</p> Name Type Description srcCrossChainID uint16 CrossChainID of BC, the value is 1 for testnet destCrossChainID uint16 CrossChainID of TC, the value is 96 for testnet <p>A SCOL relayer is required to parse all block results and pick out all events with event type \u201cIBCPackage\u201d from endBlock event table. This is an cross chain package event example:</p> <pre><code>{\n\"type\": \"IBCPackage\",\n\"attributes\":\n[\n{\n\"key\": \"IBCPackageInfo\",\n\"value\": \"96::8::19\"\n}\n]\n}\n</code></pre> <p>NCrelayer should iterate all the attributes and parse the attribute value:</p> <ol> <li>Split the value with \u201c::\u201d and get a 4-length string array</li> <li>Follow the following table to parse the 4 elements:</li> </ol> Index Description Type Example Value 0 CrossChainID of destination chain int16 96 1 channel id int8 8 2 sequence int64 19 <ol> <li>Filter out attributes with mismatched destination chain CrossChainID.</li> </ol>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#build-tendermint-header-and-query-cross-chain-package","title":"Build Tendermint Header and Query Cross Chain Package","text":""},{"location":"smart-chain/guides/concepts/bsc-relayer.html#build-tendermint-header","title":"Build Tendermint Header","text":"<pre><code>import tmtypes \"github.com/tendermint/tendermint/types\"\ntype Header struct {\ntmtypes.SignedHeader\nValidatorSet     *tmtypes.ValidatorSet `json:\"validator_set\"`\nNextValidatorSet *tmtypes.ValidatorSet `json:\"next_validator_set\"`\n}\n</code></pre> <p>If a cross chain package event is found at height H, wait for block H+1 and call the following rpc methods to build the above Header object:</p> Name Method tmtypes.SignedHeader {rpcEndpoint}/commit?height=H+1 ValidatorSet {rpcEndpoint}/validators?height=H+1 NextValidatorSet {rpcEndpoint}/validators?height=H+2 <p>Header Encoding in golang:</p> <ol> <li>Add dependency on go-amino v0.14.1</li> <li>Add dependency on tendermint v0.32.3:</li> <li>Example golang code to encode Header: <pre><code>import (\namino \"github.com/tendermint/go-amino\"\ntmtypes \"github.com/tendermint/tendermint/types\"\n)\n\nvar cdc = amino.NewCodec()\n\nfunc init() {\ntmtypes.RegisterBlockAmino(cdc)\n}\n\nfunc EncodeHeader(h *Header) ([]byte, error) {\nbz, err := cdc.MarshalBinaryLengthPrefixed(h)\nif err != nil {\nreturn nil, err\n}\nreturn bz, nil\n}\n</code></pre></li> </ol>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#query-cross-chain-package-with-merkle-proof","title":"Query Cross Chain Package With Merkle Proof","text":"<ol> <li>Query height: H</li> <li>Query path: /store/ibc/key</li> <li>Follow the table to build a 14-length byte array as query key:</li> </ol> Name Length Value prefix 1 bytes 0x00 source chain CrossChainID 2 bytes srcCrossChainID in bsc relayer configuration destination chain CrossChainID 2 bytes destCrossChainID in bsc relayer configuration channelID 1 bytes channelID from event attribute sequence 8 bytes sequence from event attribute <ol> <li>Assemble the above parameters to the following rpc call. <pre><code>{rpcEndpoint}/abci_query?path={queryPath}&amp;data={queryKey}&amp;height={queryHeight}&amp;prove=true\n</code></pre></li> </ol>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#call-build-in-system-contract","title":"Call Build-In System Contract","text":""},{"location":"smart-chain/guides/concepts/bsc-relayer.html#sync-bc-header","title":"Sync BC Header","text":"<ul> <li> <p>function syncTendermintHeader(bytes calldata header, uint64 height)</p> <p>Call syncTendermintHeader of TendermintLightClient contract to sync BC header. The contract address is 0x0000000000000000000000000000000000001003. The \u201cheader\u201d is the encoding result of Header and the height should be H+1</p> </li> </ul>"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#deliver-cross-chain-package","title":"Deliver Cross Chain Package","text":"<p>Call handlePackage of crosschain contract(0x0000000000000000000000000000000000002000) to deliver the cross chain packages:</p> Parameter Name Type Value msgBytes []byte package bytes proof []byte merkle proof bytes height uint64 H+1 packageSequence uint64 sequence from attribution value channelId uint64 channle id"},{"location":"smart-chain/guides/concepts/bsc-relayer.html#incentives-mechanism","title":"Incentives Mechanism","text":"<p>NCRelayer Incentive Mechanism</p>"},{"location":"smart-chain/guides/concepts/consensus.html","title":"Consensus Engine of ScolCoin Chain","text":""},{"location":"smart-chain/guides/concepts/consensus.html#abstract","title":"Abstract","text":"<p>We target to design the consensus engine of SCOL (ScolCoin Chain) to achieve the following goals:</p> <ol> <li>Wait a few blocks to confirm (should be less than Ethereum 1.0), better no fork in most cases.</li> <li>Blocking time should be shorter than Ethereum 1.0, i.e. 5 seconds or less.</li> <li>No inflation, the block reward is transaction gas fees.</li> <li>As much as compatible as Ethereum.</li> <li>With staking and governance as powerful as cosmos.</li> </ol> <p>Geth implements two kinds of consensus engine: ethash (based on PoW) and clique (base on PoA). Ethash is not a fit option for SCOL because SCOL gives up PoW. Clique has smaller blocking time and is invulnerable to 51% attack while doing as little to the core data structure as possible to preserve existing Ethereum client compatibility. The shortcoming of PoA is centralization, and the lack of meaningful staking and governance capability on-chain.  On the other hand, the ScolCoin Chain is built on Cosmos which does have a deployed staking and governance mechanism. Thus here we try to propose a consensus engine that:</p> <ul> <li>ScolCoin Chain does the staking and governance parts for TC.</li> <li>Consensus engine of SCOL keeps as simple as clique.</li> </ul> <p>We investigated some popular implementations of PoA consensus and find out that Bor follows a similar design as above. We will borrow a few parts from Bor and propose a new consensus engine to achieve all these goals.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#infrastructure-components","title":"Infrastructure Components","text":"<p>ScolCoin Chain. It is responsible for holding the staking function to determine validators of SCOL through independent election, and the election workflow are performed via staking procedure.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#consensus-protocol","title":"Consensus Protocol","text":"<p>The implement of the consensus engine is named as clique. This doc will focus more on the difference and ignore the common details.</p> <p>Before introducing, we would like to clarify some terms:</p> <ol> <li>Epoch block. Consensus engine will update validatorSet from NCValidatorSet contract periodly.  For now the period is 200 blocks, a block is called epoch block if the height of it is times of 200.</li> <li>Snapshot.  Snapshot is an assistant object that help to store the validators and recent signers of blocks.</li> </ol>"},{"location":"smart-chain/guides/concepts/consensus.html#key-features","title":"Key features","text":""},{"location":"smart-chain/guides/concepts/consensus.html#light-client-security","title":"Light client security","text":"<p>Validators set changes take place at the (epoch+N/2) blocks. (N is the size of validatorset before epoch block). Considering the security of light client, we delay N/2 block to let validatorSet change take place.</p> <p>Every epoch block, validator will query the validatorset from contract and fill it in the extra_data field of block header. Full node will verify it against the validatorset in contract. A light client will use it as the validatorSet for next epoch blocks, however, it can not verify it against contract, it has to believe the signer of the epoch block. If the signer of the epoch block write a wrong extra_data, the light client may just go to a wrong chain. If we delay N/2 block to let validatorSet change take place, the wrong epoch block won\u2019t get another N/2 subsequent blocks that signed by other validators, so that the light client is free of such attack.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#system-transaction","title":"System transaction","text":"<p>The consensus engine may invoke system contracts, such transactions are called system transactions. System transactions is signed by the validator who is producing the block. For the witness node, will generate the system transactions (without signature) according to its intrinsic logic and compare them with the system transactions in the block before applying them.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#enforce-backoff","title":"Enforce backoff","text":"<p>In Clique consensus protocol, out-of-turn validators have to wait a randomized amount of time before sealing the block. It is implemented in the client-side node software and works with the assumption that validators would run the canonical version. However, given that validators would be economically incentivized to seal blocks as soon as possible, it would be possible that the validators would run a modified version of the node software to ignore such a delay. To prevent validator rushing to seal a block, every out-turn validator will get a specified time slot to seal the block. Any block with an earlier blocking time produced by an out-turn validator will be discarded by other witness node.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#how-to-produce-a-new-block","title":"How to Produce a new block","text":""},{"location":"smart-chain/guides/concepts/consensus.html#step-1-prepare","title":"Step 1: Prepare","text":"<p>A validator node prepares the block header of next block.</p> <ul> <li>Load snapshot from cache or database,</li> <li>Every epoch block, will store validators set message in <code>extraData</code> field of block header to facilitate the implement of light client.</li> <li>The coinbase is the address of the validator</li> </ul>"},{"location":"smart-chain/guides/concepts/consensus.html#step2-finalizeandassemble","title":"Step2: FinalizeAndAssemble","text":"<ul> <li>If the validator is not the in turn validator, will call liveness slash contract to slash the expected validator and generate a slashing transaction.</li> <li>If there is gas-fee in the block, will distribute 1/16 to system reward contract, the rest go to validator contract.</li> </ul>"},{"location":"smart-chain/guides/concepts/consensus.html#step3-seal","title":"Step3: Seal","text":"<p>The final step before a validator broadcast the new block.</p> <ul> <li>Sign all things in block header and append the signature to extraData.</li> <li>If it is out of turn for validators to sign blocks, an honest validator it will wait for a random reasonable time.</li> </ul>"},{"location":"smart-chain/guides/concepts/consensus.html#how-to-validatereplay-a-block","title":"How to Validate/Replay a block","text":""},{"location":"smart-chain/guides/concepts/consensus.html#step1-verifyheader","title":"Step1: VerifyHeader","text":"<p>Verify the block header when receiving a new block.</p> <ul> <li>Verify the signature of the coinbase is in <code>extraData</code> of the <code>blockheader</code></li> <li>Compare the block time of the <code>blockHeader</code> and the expected block time that the signer suppose to use, will deny a <code>blockerHeader</code> that is smaller than expected. It helps to prevent a selfish validator from rushing to seal a block.</li> <li>The <code>coinbase</code> should be the signer and the difficulty should be expected value.</li> </ul>"},{"location":"smart-chain/guides/concepts/consensus.html#step2-finalize","title":"Step2: Finalize","text":"<ul> <li>If it is an epoch block, a validator node will fetch validatorSet from NCValidatorSet and compare it with extra_data.</li> <li>If the block is not generated by inturn validatorvalidaror, will call slash contract. if there is gas-fee in the block, will distribute 1/16 to system reward contract, the rest go to validator contract.</li> <li>The transaction generated by the consensus engine must be the same as the tx in block.</li> </ul>"},{"location":"smart-chain/guides/concepts/consensus.html#signature","title":"Signature","text":"<p>The signature of the coinbase is in extraData of the blockheader, the structure of extraData is: epoch block. 32 bytes of extraVanity + N*{20 bytes of validator address} + 65 bytes of signature. none epoch block. 32 bytes of extraVanity + 65 bytes of signature. The signed content is the <code>Keccak256</code> of RLP encoded of the block header.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#security-and-finality","title":"Security and Finality","text":"<p>Given there are more than 1/2*N+1 validators are honest, PoA based networks usually work securely and properly. However, there are still cases where certain amount Byzantine validators may still manage to attack the network, e.g. through the \u201cClone Attack\u201d. To secure as much as BC, SCOL users are encouraged to wait until receiving blocks sealed by more than 2/3*N+1 different validators. In that way, the SCOL can be trusted at a similar security level to BC and can tolerate less than 1/3*N Byzantine validators.</p> <p>With 21 validators, if the block time is 5 seconds, the 2/3*N+1 different validator seals will need a time period of (2/3*21+1)*5 = 75 seconds. Any critical applications for SCOL may have to wait for 2/3*N+1 to ensure a relatively secure finality. However, besides such an arrangement, SCOL does introduce Slashing logic to penalize Byzantine validators for double signing or instability. This Slashing logic will expose the malicious validators in a very short time and make the Clone Attack very hard or extremely non-economic to execute. With this enhancement, 1/2*N+1 or even fewer blocks are enough as confirmation for most transactions.</p>"},{"location":"smart-chain/guides/concepts/consensus.html#potential-issue","title":"Potential Issue","text":""},{"location":"smart-chain/guides/concepts/consensus.html#extending-the-ruling-of-the-current-validator-set-via-temporary-censorship","title":"Extending the ruling of the current validator set via temporary censorship","text":"<p>If the transaction that updates the validator is sent to the SCOL right on the epoch period, then it is possible for the in-turn validator to censor the transaction and not change the set of validators for that epoch. While a transaction cannot be forever censored without the help of other n/2 validators, by this it can extend the time of the current validator set and gain some rewards. In general, the probability of this scheme can increase by colluding with other validators. It is relatively benign issue that a block may be approximately 5 secs and one epoch being 240 blocks, i.e. 20 mins so the validators could only be extended for another 20 mins.</p>"},{"location":"smart-chain/guides/concepts/cross-chain-package.html","title":"Cross Chain Package","text":""},{"location":"smart-chain/guides/concepts/cross-chain-package.html#package-structure","title":"Package Structure","text":"Name Length Description Package Type 1 byte 0: sync package, 1: ack package, 2: fail ack package Relay Fee 32 bytes bytes of big.Int, reward for relayer, token denom is SCOL Payload All rest bytes RLP encoding of application data"},{"location":"smart-chain/guides/concepts/cross-chain-package.html#handle-mechanism","title":"Handle Mechanism","text":""},{"location":"smart-chain/guides/concepts/cross-chain-package.html#sync-package","title":"Sync Package","text":"<p>When users actively trigger cross chain applications, such as bind token or cross chain transfer, sync packages will be generated and the transaction senders will pay the relay fee. For some system applications, such as on-chain governance and staking, the relay fee in the sync packages will be paid by system reward. </p> <p>After the application layer processing the sync package, in most case, there is no ack package. However, in order to elegantly handle some application layer errors, some ack packages or fail ack packages will be generated, and relayed back to the opposite chain, the relay fee will be paid by system reward too. Taking cross chain transfer for example, if a cross chain transfer is failed for some known reasons, the asset should be refund to the sender, then an ack package will be generated. If the cross chain transfer is failed for some unknown reasons, such as wrong encoding format or application panic error, then a fail ack package will be generated. In the fail ack package, the payload is identical to the payload in sync package.</p>"},{"location":"smart-chain/guides/concepts/cross-chain.html","title":"Cross Chain Communication","text":""},{"location":"smart-chain/guides/concepts/cross-chain.html#architecture","title":"Architecture","text":"<p>A native cross chain communication protocol is developed between BC (ScolCoin Chain) and SCOL (SCOL Side Chain). It has the following key parts:</p> <ul> <li>Build-in System Contract</li> <li>Oracle on ScolCoin Chain</li> <li>NCRelayer</li> <li>NCRelayer Incentive Mechanism</li> <li>Oracle Relayer</li> </ul> <p></p>"},{"location":"smart-chain/guides/concepts/genesis.html","title":"Genesis File","text":"<p>This document explains how the genesis file of the ScolCoin Chain is structured.</p>"},{"location":"smart-chain/guides/concepts/genesis.html#what-is-a-genesis-file","title":"What is a Genesis File","text":"<p>A genesis file is a JSON file which defines the initial state of your blockchain. It can be seen as height <code>0</code> of your blockchain. The first block, at height <code>1</code>, will reference the genesis file as its parent.</p> <p>The state defined in the genesis file contains all the necessary information, like initial token allocation, genesis time, default parameters, and more. Let us break down these information.</p> <p>Genesis Link for mainnet:  https://github.com/githubusername/githubrepo</p>"},{"location":"smart-chain/guides/concepts/genesis.html#explaination","title":"Explaination","text":"<ul> <li>chainId</li> </ul> <p>5177 for main-net and 49120 for test-net.  To compatible with third part service that already supports Ethereum, we\u2019d better not use network id that Ethereum ecology that already used.  The network id of test-net should be distinct from main-net.</p> <ul> <li>period</li> </ul> <p>Minimum difference between two consecutive block\u2019s timestamps. Suggested 3s for the testnet .</p> <ul> <li>epoch</li> </ul> <p>Number of blocks after which to checkpoint and reset the pending votes. Suggested 100 for testnet</p> <ul> <li>nonce</li> </ul> <p>The nonce is the cryptographically secure mining proof-of-work that proves beyond reasonable doubt that a particular amount of computation has been expended in the determination of this token value.</p> <p>In ScolCoin Chain, this value is always set to 0x0.</p> <ul> <li>timestamp</li> </ul> <p>Must be at least the parent timestamp + BLOCK_PERIOD.</p> <ul> <li> <p>extraData</p> <ul> <li>EXTRA_VANITY: Fixed number of extra-data prefix bytes reserved for signer vanity. Suggested 32 bytes</li> <li>Signer Info: validator address</li> <li>EXTRA_SEAL bytes (fixed) is the signer\u2019s signature sealing the header.</li> </ul> </li> <li> <p>gasLimit</p> </li> </ul> <p>A scalar value equal to the current chain-wide limit of Gas expenditure per block. High in our case to avoid being limited by this threshold during tests. Note: this does not indicate that we should not pay attention to the Gas consumption of our Contracts.</p> <p>GasCeil is 40000000 for testnet</p> <ul> <li>difficulty</li> </ul> <p>A scalar value corresponding to the difficulty level applied during the nonce discovering of this block. Suggested 0x1 for testnet</p> <ul> <li>mixHash</li> </ul> <p>Reserved for fork protection logic, similar to the extra-data during the DAO. Must be filled with zeroes during normal operation.</p> <ul> <li>coinbase</li> </ul> <p>System controled address for collecting block rewards</p> <ul> <li>number</li> </ul> <p>Block height in the chain, where the height of the genesis is block 0.</p> <ul> <li>parentHash</li> </ul> <p>The Keccak 256-bit hash of the entire parent block\u2019s header (including its nonce and mixhash). Pointer to the parent block, thus effectively building the chain of blocks. In the case of the Genesis block, and only in this case, it's 0.</p>"},{"location":"smart-chain/guides/concepts/genesis.html#account-and-address","title":"Account and Address","text":"<p>This default wallet would use a similar way to generate keys as Ethereum, i.e. use 256 bits entropy to generate a 24-word mnemonic based on BIP39, and then use the mnemonic and an empty passphrase to generate a seed; finally use the seed to generate a master key, and derive the private key using BIP32/BIP44 with HD prefix as \"44'/60'/\", which is the same as Ethereum's derivation path.</p>"},{"location":"smart-chain/guides/concepts/incentives.html","title":"Incentive Mechanism","text":"<p>The SCOL relayers play an important role in relaying interchain packages from BC to TC. All SCOL relayers build their stable infrastructure, watch any event happened on the ScolCoin Chain, and act timely to get paid accordingly. The following discussion is about how to distribute the rewards to let the relayers are willing to make a long-term contribution.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#principle","title":"Principle","text":"<p>Considering the following points:</p> <ol> <li>Fairness, competitiveness, and redundancy: Everyone has a chance to run a relayer even on cheap hardware. It should be hard for someone to get all the rewards.</li> <li>Simplicity.</li> <li>Robustness: The relayer may have a strategy to make its largest profit accordingly, under any condition, the interchain communication should not be blocked.</li> <li>Low Risk: The relayer should take a little risk to play in this game. For the top N relayers, they should gain enough rewards to cover the cost.</li> </ol> <p>It is tough hard to achieve all these goals; we make some trade-off on robustness and low risk in the following design.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#rewards-source-and-allocation","title":"Rewards Source and Allocation","text":"<p>We have three reward source:</p> <ol> <li>Users paid reward: Users who send <code>bind</code> or <code>cross chain transfer</code> transactions need to pay extra fee as nc-relayer rewards.</li> <li>System reward: Rewards comes from <code>SystemReward</code> contract.</li> </ol> <p>The role of relayers and their rewards comes from:</p> Relayer Behavior Rewards come from User packages(bind, unbind, transfer) from BC to SCOL Users pay for the reward System packages(staking, slash, governance) from BC to SCOL System reward Relayer for sync tendermint header to light client contract System reward"},{"location":"smart-chain/guides/concepts/incentives.html#rewards-distribution-formula","title":"Rewards Distribution Formula","text":"<p>To prevent the relayer who has the best network always winning the game, we gather the reward into two reward pools (header relayer reward pool and package relayer reward pool) and reallocate to the relayers to achieve redundancy:</p> <ol> <li>S is a constant number of transactions that in around. Each round, there are S transactions, and the last transaction of the round will trigger reward distribution.</li> <li>N is the maximum weight that a relayer can gain in a round. R is the total reward in this round. Ki is the number of successful transactions from Relayer i. Wi is the reward weight of Relayer i. Ri is the rewards of Relayer i.</li> <li>R is the total reward in this round.</li> <li>Ki is the number of successful transactions from Relayer i.</li> <li>Wi is the reward weight of Relayer i.</li> <li>Ri is the rewards of Relayer i.</li> </ol>"},{"location":"smart-chain/guides/concepts/incentives.html#weight-formula-for-package-relayers","title":"Weight formula for package relayers:","text":"<p><code>Rp</code> represents the total balance of package reward pool.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#weight-formula-for-header-relayers","title":"Weight formula for header relayers:","text":"<p><code>Rh</code> represents the total balance of header reward pool.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#we-consider-setting-these-parameters-a-reasonable-value","title":"We consider setting these parameters a reasonable value:","text":"<ol> <li>S to be 100. Some rewards come from gas fee, we can not guarantee enough rewards during a small round, a large round may dismiss deviation and let relayer give up relaying when it has made its max profit.</li> <li>N to be 40. We think the redundancy of relayer around 3-5 is best. If N is too large, the redundancy will decrease, if too small there are no enough relayers. Set N as 40 may be a reasonable value, at least 3 relayers can compete.</li> <li>The relayFee of a single package and the ratio of reward for header relayer can be modified by governance on ScolCoin Chain.</li> </ol>"},{"location":"smart-chain/guides/concepts/incentives.html#distribution-and-claim-reward","title":"Distribution And Claim Reward","text":"<p>In each round, the last package delivery transaction will trigger the reward distribution. Both the header reward pool and package reward pool will be distributed. However, the reward won't be paid directly to relayer accounts. The distribution algorithm just calculates rewards for all relayers and write down the amounts. Relayers are required to actively send transactions to claim their own accumulated rewards.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#other-consideration","title":"Other Consideration","text":""},{"location":"smart-chain/guides/concepts/incentives.html#system-reward-pool","title":"System Reward Pool","text":"<p>The system reward pool can hold at most 100 SCOL for example, to prevent the pool get unnecessary income.</p> <p>The client needs to query the balance of the contract to decide whether to distribute 1/16 of the transaction fee to the contract or not. It seems not that fair that some validators pay more to the reward pool than others, but this is random and will eventually become fair in the long run.</p> <p>If there are not enough rewards in the pool, all the tokens in the pool will be distributed.</p> <p>Block header sync transaction with <code>validatorSet</code> change will claim reward to relayers from system reward pool directly.</p>"},{"location":"smart-chain/guides/concepts/incentives.html#foul-play","title":"Foul Play","text":"<p>For example, a relayer may deliver packages using a different address in round robin, we can\u2019t recognize this. We try to introduce registration and SCOL deposit for relayer to raise the cost of cheat.  How it works:</p> <ul> <li>A SCOL account needs call <code>register</code> of RelayerHub contract to deposit 100 SCOL(more or less than 100 SCOL will be rejected) to become a SCOL relayer.</li> <li>Only a valid relayer can sync ScolCoin Chain Headers and deliver cross-chain packages.</li> <li>Relayer can withdraw its deposit, but we will charge 0.1 SCOL as the transaction fee so that it will receive 99.9 SCOL back.</li> <li>The charged fee will directly go to system reward pool.</li> </ul>"},{"location":"smart-chain/guides/concepts/nc-gov.html","title":"Governance of TC","text":""},{"location":"smart-chain/guides/concepts/nc-gov.html#motivation","title":"Motivation","text":"<p>There are many system parameters to control the behavior of the TC:</p> <ul> <li>All these parameters of SCOL system contracts should be flexible: slashing threshold, cross-chain transfer fees, relayer reward amount and so on.</li> </ul> <p>All these parameters will be determined by SCOL Validator Set together through a proposal-vote process based on their staking. Such the process will be carried on BC, and the new parameter values will be picked up by corresponding system contracts via cross-chain communication if needed.</p>"},{"location":"smart-chain/guides/concepts/nc-gov.html#design-principles","title":"Design Principles","text":"<ul> <li> <p>Uniform interface. The contracts who are interested in these parameters only need to implement the same interface.</p> </li> <li> <p>Extensible. When adding a new system contract, there is no need to modify any other contracts.</p> </li> <li> <p>Failure toleration. Validators could vote to skip false proposals and go on.</p> </li> <li> <p>Multiplexing. Now we have only parameters gov, but in the future, there will be more governance functions.</p> </li> </ul>"},{"location":"smart-chain/guides/concepts/nc-gov.html#workflow","title":"Workflow","text":""},{"location":"smart-chain/guides/concepts/nc-gov.html#contract-interface","title":"Contract Interface","text":"<p>Every contract that wants to subscribe param change event, should implement the following interface: function updateParam(string key, bytes calldata value) external</p> <p>Some following check must be done inside the interface:</p> <ul> <li>The msg sender must be the gov contract.</li> <li>Basic check of value. (length, value range)</li> </ul> <p>An example implementation:</p> <pre><code>modifier onlyGov() {\n    require(msg.sender == GOV_CONTRACT_ADDR, \"the msg sender must be the gov contract\");\n    _;\n}\n\nfunction updateParam(string key, bytes calldata value) external onlyGov{\n    if (key == \"relayerReward\"){\n        require(value.length == 32, \"the length of value is not 32 when update relayer_reward param\");\n        uint256 memory paramValue = TypesToBytes.ToUint256(0, value);\n        require(paramValue &gt;= MIN_RELAYER_REWARD, \"the relayerReward is smaller than the minimum value\");\n        require(paramValue &lt;= MAX_RELAYER_REWARD, \"the relayerReward is bigger than the maximal value\");\n        relayerReward = paramValue\uff1b\n    }else{\n        require(false, \"receive unknown param\");\n    }\n}\n</code></pre>"},{"location":"smart-chain/guides/concepts/nc-gov.html#gov-contract","title":"Gov Contract","text":"<p>Implement the cross chain contract interface: handlePackage(bytes calldata msgBytes, bytes calldata proof, uint64 height, uint64 packageSequence)</p> <p>And do following step: - Basic check. Sequence check, Relayer sender check, block header sync check, merkel proof check. - Check the msg type according to the first byte of msgBytes, only param change msg type supported for now. Check and parse the msg bytes. - Use a fixed gas to invoke the  updateParam interface of target contract. Catch any exception and emit fail event if necessary, but let the process go on. - Claim reward for the relayer and increase sequence.</p>"},{"location":"smart-chain/guides/concepts/nc-gov.html#workflow_1","title":"Workflow","text":"<p>Please read this doc to learn how to send transactions on ScolCoin Chain</p>"},{"location":"smart-chain/guides/concepts/oracle-module.html","title":"Oracle on ScolCoin Chain","text":"<p>The oracle module is a common module like gov which is used to handle prophecy and claim. Prophecy means the validators want to reach a consensus on something, like cross chain transfer. Claim is raised by a validator and the content of claim is the the cross chain transfer. When most of the validators (like 70%) claim the same thing on the prophecy, the winning claim will be executed.For oracle module is a common module, other module which depends on oracle module will register claim type and related hooks checking and handling claim. Each claim type has a sequence, oracle module should process prophecy and claim by sequence. When one prophecy was executed successfully, the sequence of the claim type will be increased by one.</p>"},{"location":"smart-chain/guides/concepts/oracle-module.html#oracle-process","title":"Oracle Process","text":"<ol> <li>Oracle module receives a claim message from validator, if the sequence is not current sequence, the claim message will be rejected.</li> <li>If sequence is valid, the hooks of the claim type will check the claim message, if the claim message is invalid, then return</li> <li>If claim message is valid and it\u2019s the first claim, the related prophecy will be created. If claim message is not the first claim, then it will be added to the existed prophecy.</li> <li>If the power of validators which claim the same content reaches a threshold like 70%, the prophecy will be marked success and the hooks will executed the winning claim. and the sequence of claim type will be increased.</li> <li>If there is no chance that the validators will reach a consensus, the prophecy will be marked failed and the prophecy will be deleted and the validators should start over again.</li> </ol>"},{"location":"smart-chain/guides/concepts/oracle-module.html#bridge-module","title":"Bridge Module","text":"<p>Bridge module will process cross chain transactions. It contains two parts: transactions from bc to bsc and transactions from bsc to bc. For transactions from bsc to bc, it will depend on the oracle module. When the validators reach a consensus on a certain claim, the bridge module will process the transaction according to the claim, like transfer from bsc to bc. For transactions from bc to bsc, it will process the bc part of the transaction and write the related cross chain package for bsc.</p>"},{"location":"smart-chain/guides/concepts/oracle-relayer.html","title":"Oracle Relayer","text":"<p>The relayer is a service which monitors events on TC, builds and broadcasts transactions to BC. Each validator operator should maintain its own relayer service. The relayer service requires to have access to validator operator private key. All relayer service independently witness the peggy contract events, then build transactions to claim events to BC oracle module.</p> <p>The relay process:</p> <ul> <li>Continually listen for cross chain event</li> <li>Parse the cross chain tranfer parameters from event data</li> <li>Use this information to build an unsigned BC oracle transaction</li> <li>Sign and broadcast transaction.</li> </ul> <p>GitHub Implementation link: https://github.com/githubusername/githubrepo/oracle-relayer</p>"},{"location":"smart-chain/guides/concepts/system-contract.html","title":"Build-in System Contract","text":""},{"location":"smart-chain/guides/concepts/system-contract.html#disclaimer","title":"Disclaimer","text":"<p>The software and related documentation are under active development, all subject to potential future change without notification and not ready for production use. The code and security audit have not been fully completed and not ready for any bug bounty. We advise you to be careful and experiment on the network at your own risk. Stay safe out there.</p>"},{"location":"smart-chain/guides/concepts/system-contract.html#on-chain-light-client","title":"On-Chain Light Client","text":"<p>The purpose of cross-chain interoperability is to enable one blockchain to function as a light-client of another. Since ScolCoin Chain is using a classical Byzantine Fault Tolerant consensus algorithm, light-client verification is cheap and easy: all we have to do is check validator signatures on the latest block, and verify a Merkle proof of the state.</p> <p>In Tendermint, validators agree on a block before processing it. This means that the signatures and state root for that block aren't included until the next block. Thus, each block contains a field called LastCommit, which contains the votes responsible for committing the previous block, and a field in the block header called AppHash, which refers to the Merkle root hash of the application after processing the transactions from the previous block. So, if we want to verify the AppHash from height H, we need the signatures from LastCommit at height H+1. (And remember that this AppHash only contains the results from all transactions up to and including block H-1)</p> <p>Unlike Proof-of-Work, the light-client protocol does not need to download and check all the headers in the blockchain - the client can always jump straight to the latest header available, so long as the validator set has not changed much. If the validator set is changing, the client needs to track these changes, which requires downloading headers for each block in which there is a significant change. Here, we will assume the validator set is constant, and postpone handling validator set changes for another time.</p> <p>Ethereum platform supports stateless precompiled contract implemented with golang and normal contract implemented with solidity. Comparing with normal contract, precompiled contracts are more efficient and costs less gas, but they are stateless. However, on-chain light client must be stateful. So here we will try to a mixed approach: precompiled implemented contract(stateless calculation, such as signature verification) and normal contract (store validator set and trusted appHash).</p> <p></p>"},{"location":"smart-chain/guides/concepts/system-contract.html#precompile-contract","title":"Precompile Contract","text":""},{"location":"smart-chain/guides/concepts/system-contract.html#validate-tendermint-header","title":"Validate Tendermint Header","text":"<p>This contract implements tendermint header verification algorithm. The input parameters contain the trusted consensus state and a new tendermint header. The validation algorithm will verify the new tendermint header against the trusted consensus state. If the new header is valid, a new consensus state will be created and returned to caller. Otherwise, an error will be returned.</p>"},{"location":"smart-chain/guides/concepts/system-contract.html#validate-merkle-proof","title":"Validate Merkle Proof","text":"<p>This contract implements a Tendermint merkle proof verification algorithm.</p>"},{"location":"smart-chain/guides/concepts/system-contract.html#solidity-contract","title":"Solidity Contract","text":""},{"location":"smart-chain/guides/concepts/system-contract.html#tendermint-light-client-contract","title":"Tendermint Light Client Contract","text":"<ol> <li>ConsensusState: The first consensus state will be written in the constructor. Once a new tendermint header is verified, a new consensus state will be created.     <pre><code>type ConsensusState struct {\nchainID              string\nheight               int64\nappHash              []byte\ncurValidatorSetHash  []byte\nnextValidatorSet     *tmtypes.ValidatorSet\n}\n</code></pre></li> <li> <p>Tendermint Header: A relayer who want to sync new tendermint headers need to query BC to build this object. Then encode it to byte array and call syncTendermintHeader.     <pre><code>type Header struct {\nHeader blockHeader\nValidator[] CurValidatorSet\nValidator[] NextValidatorSet\n}\n</code></pre> This contract implements the following four methods:</p> </li> <li> <p>function syncTendermintHeader(byte[] header, uint64 height)</p> <p>syncTendermintHeader gets nearest consensus state by height and call validateTendermintHeader in precompiled contract to verify the tendermint header. If the success, a new consensus state will be saved.</p> </li> <li> <p>function getAppHash(uint64 height) returns(bytes32)</p> <p>getAppHash provides a method to get the verified appHash at the specified height. Besides, If the header the specified height have not be verified, then zero value will be returned.</p> </li> <li> <p>function isHeaderSynced(uint64 height) returns (bool)</p> <p>isHeaderSynced provides a lower cost method to judge if the specified height has been synced.</p> </li> <li> <p>function getSubmitter(uint64 height) returns (address)</p> <p>getSubmitter provides a method to get the submitter address of the specified header.</p> </li> </ol>"},{"location":"smart-chain/guides/concepts/system-contract.html#merkle-proof-verification-library","title":"Merkle Proof Verification Library","text":"<p>This library provides an util to to verify merkle proof from BC. Contracts which need to verify Merkle proof just need to import this library.</p> <p>function verifyMerkleProof(int64 height, byte[] key, byte[] value, byte[] proof) bool</p> <p>verifyMerkleProof reassembles user parameters and call the the above precompiled contract to validate the proof.</p>"},{"location":"smart-chain/guides/concepts/system-contract.html#other-build-in-system-contract","title":"Other Build-in System Contract","text":"<ul> <li> <p>TokenHub Contract</p> <p>This contract focuses on cross chain token transfer.</p> </li> <li> <p>TokenManager Contract</p> <p>This contract focuses on binding and unbinding tokens on two chains.</p> </li> <li> <p>NCValidatorSet Contract</p> <p>It is a watcher of validators change of SCOL on ScolCoin Chain. It will interact with light client contracts to verify the interchain transaction, and apply the validator set change for TC. It also stores rewarded gas fee of blocking for validators, and distribute it to validators when receiving cross chain package of validatorSet change.</p> </li> <li> <p>System Reward Contract</p> <p>The incentive mechanism for relayers to maintain system contracts. They will get rewards from system reward contract.</p> </li> <li> <p>Liveness Slash Contract</p> <p>The liveness of SCOL relies on validator set can produce blocks timely when it is their turn. Validators can miss their turns due to any reason. This instability of the operation will hurt the performance of the network and introduce more non-deterministic into the system. This contract responsible for recording the missed blocking metrics of each validator. Once the metrics are above the predefined threshold, the blocking reward for validator will not be relayed to BC for distribution but shared with other better validators.</p> </li> <li> <p>BscValidatorSet Contract</p> <p>This contract focuses on handling staking change package from BC. It also provides the validatorset data query for SCOL consensus engine.</p> </li> <li> <p>RelayerHub Contract</p> <p>This contract manages the authority of nc-relayer. Someone who wants to run a nc-relayer must call the contract to deposit some SCOL to get the authorization.</p> </li> <li> <p>Governance Contract</p> <p>This contract handles governance package from BC. A governance package contains target contract address, parameter name and new parameter value. Once the package is verified, this contract will call the parameter update method of the target contract to update the parameter to new value.</p> </li> <li> <p>Cross Chain Contract</p> <p>This contract focuses on cross chain packages pretreatment and sending cross chain packages to BC by emit event. The packages pretreatment includes sequence validation and the merkle proof verification. Once they are passed, the package will be routed to application build-in system contract, such as tokenhub or bscvalidator. Besides, if tokenhub or bscvalidator want to send packages to BC, they need to encode their packages with rlp and call this contract to send them.</p> </li> </ul>"},{"location":"smart-chain/validator/Parameters.html","title":"SCOL ChainStaking Parameters","text":""},{"location":"smart-chain/validator/Parameters.html#staking-token","title":"Staking Token","text":"<p>SCOL</p>"},{"location":"smart-chain/validator/Parameters.html#validator-candidate","title":"Validator Candidate","text":""},{"location":"smart-chain/validator/Parameters.html#mainnet","title":"Mainnet","text":"<ul> <li>Minimiun Self-delegate Amount: 10000SCOL on Mainnet .</li> <li>Claim reward frequency: everyday at 0:00 UTC</li> <li>Unbonding Period: 7 days</li> </ul>"},{"location":"smart-chain/validator/Parameters.html#testnet","title":"Testnet","text":"<ul> <li>Minimiun Self-delegate Amount: 100 SCOL on testnet.</li> <li>Claim reward frequency: every 2 hours</li> <li>Unbonding Period: 4 hours</li> </ul>"},{"location":"smart-chain/validator/best-practice.html","title":"Best Practice","text":""},{"location":"smart-chain/validator/best-practice.html#keep-track-of-syncing-speed","title":"Keep Track of Syncing Speed","text":"<pre><code>t=2021-05-13T17:17:17+0800 lvl=info msg=\"Imported new chain segment\"             blocks=11  txs=3701  mgas=482.461  elapsed=8.075s    mgasps=59.744  number=7,355,800 hash=0x84e085b1cd5b1ad4f9a954e2f660704c8375a80f04326395536eedf83363942f age=12h38m32s dirty=\"583.73 MiB\"\nt=2021-05-13T17:17:20+0800 lvl=info msg=\"Deep froze chain segment\"               blocks=117 elapsed=263.497ms number=7,265,806 hash=0x7602f6b960b4092d39ff49781c64404a047e2c78bc166f071ee8714020c39b2e\nt=2021-05-13T17:17:25+0800 lvl=info msg=\"Imported new chain segment\"             blocks=17  txs=5025  mgas=740.885  elapsed=8.125s    mgasps=91.177  number=7,355,817 hash=0xde7a2a76ff7b38414acf3b360bb427d2d0b7dd1f8fe2afe2ffd59d64b237a81b age=12h37m49s dirty=\"594.65 MiB\"\nt=2021-05-13T17:17:33+0800 lvl=info msg=\"Imported new chain segment\"             blocks=18  txs=5108  mgas=748.016  elapsed=8.354s    mgasps=89.535  number=7,355,835 hash=0x757c476f9fe30fc6ef001fb4a03fa991843cf3ed271f21cfc01a9bba5e5eff98 age=12h37m3s  dirty=\"604.39 MiB\"\nt=2021-05-13T17:17:42+0800 lvl=info msg=\"Imported new chain segment\"             blocks=18  txs=5612  mgas=799.778  elapsed=8.260s    mgasps=96.815  number=7,355,853 hash=0x73e87742ef4405ffefec987fc4b8b19e69c54b8f914c27ea69a502fae4d735e0 age=12h36m18s dirty=\"613.03 MiB\"\n</code></pre> <p>Your syncing speed is <code>mgasps</code>. The value should be around 100. If you are syncing slowly, please check the speed of your disk.</p>"},{"location":"smart-chain/validator/best-practice.html#use-chaindata-snapshot","title":"Use Chaindata Snapshot","text":"<p>Please download the chain data snapshot and extract to your home folder to speed up</p>"},{"location":"smart-chain/validator/best-practice.html#store-your-scol-with-a-hardware-wallet","title":"Store your SCOL with a hardware wallet","text":"<p>The most valuable assets of a validator are two keys: one for signing transactions and another for signing blocks</p>"},{"location":"smart-chain/validator/best-practice.html#securing-your-fullnode-rpc-from-hackers","title":"Securing your fullnode RPC from hackers","text":"<p>Please do not expose your RPC endpoints to public network.</p>"},{"location":"smart-chain/validator/best-practice.html#account-private-keys","title":"Account Private keys","text":"<p>To protect your SCOL, do not share your 24 words with anyone. The only person who should ever need to know them is you. In short, HSMs are affordable, performant and portable pieces of hardware that help to securely generate, store and manage your private keys. Malware attacks and remote extraction of private keys are much more difficult when an HSM is configured properly.</p>"},{"location":"smart-chain/validator/best-practice.html#software-vulnerabilities","title":"Software Vulnerabilities","text":"<p>To protect your SCOL, you should only download software directly from official sources, and make sure that you're always using the latest, most secure version</p>"},{"location":"smart-chain/validator/best-practice.html#running-server-as-a-daemon","title":"Running Server as a Daemon","text":"<p>It is important to keep <code>geth</code> running at all times. There are several ways to achieve this, and the simplest solution we recommend is to register <code>geth</code>  as a systemd service so that it will automatically get started upon system reboots and other events.</p>"},{"location":"smart-chain/validator/best-practice.html#set-up-a-backup-node","title":"Set up a backup node","text":"<ul> <li>Run validator node in archive mode</li> <li>Shut down nodes gracefully</li> <li>Active monitoring with tools</li> </ul>"},{"location":"smart-chain/validator/best-practice.html#steps-to-run-a-backup-node","title":"Steps to run a backup node","text":"<ol> <li>Install the latest version of geth</li> <li>Sync to the latest height using fast sync mode. You can either download the latest snapshot or start fast sync once your node is fully synced</li> <li>Shut down your node gracefully kill -HUP $(pgrep geth)</li> <li>Restart your node with <code>--gcmode archive</code></li> </ol>"},{"location":"smart-chain/validator/best-practice.html#why-node-will-be-offline-for-a-while-after-restart-or-what-will-happen-if-client-been-force-killed","title":"Why node will be offline for a while after restart? or What will happen if client been force killed","text":"<p>After running (synchronized) for a long period of time and being abruptly terminated, only archived nodes are expected to quickly re-synchronize upon restart.</p> <p>Steps to reproduce:</p> <ul> <li>Run the node synchronized for a period of time.</li> <li>Abruptly kill the node (kill -9 or system crash).</li> <li>Restart the node, observe where it resynchronizes from block height 1 hour ago.</li> </ul> <p>Reasons</p> <p>If Geth crashes (or is not shut down gracefully), the recent state held in memory is lost and needs to be regenerated. It takes Geth a long time to restore the states.</p> <p>The root reason is that <code>geth</code> does flush the state trie periodically. The period is defined as <code>trieTimeout</code> in <code>config.toml</code>.</p>"},{"location":"smart-chain/validator/best-practice.html#how-to-upgrade-a-backup-node-to-become-a-validator-node","title":"How to upgrade a backup node to become a validator node?","text":"<p>You can stop mining new blocks by sending commands in <code>geth console</code></p> <p>Connect to your validator node with <code>geth attach ipc:path/to/geth.ipc</code></p> <pre><code>miner.stop()\n</code></pre> <p>Then, let backup node resume validating , <pre><code>miner.start()\n</code></pre></p>"},{"location":"smart-chain/validator/guideline.html","title":"How to join ScolCoin Chain as Validator?","text":""},{"location":"smart-chain/validator/guideline.html#before-you-start","title":"Before You Start","text":""},{"location":"smart-chain/validator/guideline.html#choose-your-validator-hardware","title":"Choose Your Validator hardware","text":"<ul> <li>VPS running recent versions of Mac OS X or Linux.</li> <li>IMPORTANT 2T GB of free disk space, solid-state drive(SSD), gp3, 8k IOPS, 250MB/S throughput, read latency &lt;1ms</li> <li>12 cores of CPU and 48 gigabytes of memory (RAM)</li> <li>Suggest m5zn.3xlarge instance type on AWS, or c2-standard-8 on Google cloud.</li> <li>A broadband Internet connection with upload/download speeds of 10 megabyte per second</li> </ul>"},{"location":"smart-chain/validator/guideline.html#setup-a-validator-node-at-testnet","title":"Setup a Validator Node at Testnet","text":"<p>Note</p> <p>If you are running a node in Testnet, 2CPU/8GB of RAM is sufficient.</p> <p>Install SCOL Fullnode</p> <p>you can download the pre-build binaries from release page or follow the instructions here to set up a full node.</p> <p>Download the config files</p> <p>Download <code>genesis.json</code> and <code>config.toml</code> by: <pre><code>## testnet\nwget --no-check-certificate  $(curl -shttps://github.com/githubusername/githubrepo/releases/latest |grep browser_ |grep testnet |cut -d\\\" -f4)\nunzip testnet.zip\n</code></pre></p> <p>Launch your node and wait for it to get synced.</p>"},{"location":"smart-chain/validator/guideline.html#create-consensus-key","title":"Create Consensus Key","text":"<p>You need to create an account that represents a validator's consensus key. Use the following command to create a new account and set a password for that account:</p> <pre><code>geth account new --datadir ./node\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#start-validator-node","title":"Start Validator Node","text":"<p>Warning</p> <p>Please do not expose your RPC endpoints to public network.</p> <pre><code>echo {your-password} &gt; password.txt\ngeth --config ./config.toml --datadir ./node --syncmode snap -unlock {your-validator-address} --password password.txt  --mine  --allow-insecure-unlock --cache 18000\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#get-testnet-token-from-faucet","title":"Get Testnet Token from Faucet","text":"<p>You can get testnet SCOL from https://testnet-explorer.scolcoin.com/faucet-smart, but the SCOL is on ScolCoin Chain.</p> <p>Download <code>eth-cli</code>from GitHub. Use <code>eth-cli</code> to create an account or recover an account.</p> <p>You can follow the guide to transfer SCOL from SCOL testnet to BC testnet.</p>"},{"location":"smart-chain/validator/guideline.html#declare-your-candidacy","title":"Declare Your Candidacy","text":"<p>Use <code>eth-cli</code> to create an account or recover an account, make sure the account get more than 10000 SCOL.</p> <p>Before sending <code>create-validator</code> transaction, make sure your bsc validator have already catched up.</p> <p>Example on testnet</p> <pre><code>eth-cli staking nc-create-validator \\\n--side-cons-addr {validator address} \\\n--side-fee-addr {wallet address on TC} \\\n--address-delegator {wallet address on BC} \\\n--side-chain-id chapel \\\n--amount 10000000000:SCOL \\\n--commission-rate {10000000 represent 10%} \\\n--commission-max-rate {20000000 represent 20%} \\\n--commission-max-change-rate {10000000 represent 1%} \\\n--moniker {validator name} \\\n--details {validator detailed description} \\\n--identity {keybase identity} \\\n--website {website for validator} \\\n--from {key name} \\\n--chain-id SCOL-Chain-Ganges \\\n--node=http://data-seed-pre-1-s3.scolcoin.com:80\n</code></pre> <p>Go to explorer to verify your transactions.</p> <p>Check your validator's status at this page</p>"},{"location":"smart-chain/validator/guideline.html#setup-a-mainnet-validator","title":"Setup a Mainnet Validator","text":""},{"location":"smart-chain/validator/guideline.html#1-install-scol-fullnode","title":"1. Install SCOL Fullnode","text":"<p>you can download the pre-build binaries from release page or follow the instructions here to set up a full node.</p> <p>Download the config files</p> <p>Download <code>genesis.json</code> and <code>config.toml</code> by:</p> <pre><code>## mainet\nwget --no-check-certificate  $(curl -s https://api.github.com/repos/shree-chain/bsc/releases/latest |grep browser_ |grep mainnet |cut -d\\\" -f4)\nunzip mainnet.zip\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#2-write-genesis-state-locally","title":"2. Write genesis state locally","text":"<pre><code>geth --datadir node init genesis.json\n</code></pre> <p>You could see the following output:</p> <pre><code>INFO [05-19|14:53:17.468] Allocated cache and file handles         database=/Users/huangsuyu/Downloads/bsc/node/geth/chaindata cache=16.00MiB handles=16\nINFO [05-19|14:53:17.498] Writing custom genesis block\nINFO [05-19|14:53:17.501] Persisted trie from memory database      nodes=21 size=56.84KiB time=357.915\u00b5s gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=-574.00B\nINFO [05-19|14:53:17.502] Successfully wrote genesis state         database=chaindata hash=7d79cc\u2026fb0d1e\nINFO [05-19|14:53:17.503] Allocated cache and file handles         database=/Users/huangsuyu/Downloads/bsc/node/geth/lightchaindata cache=16.00MiB handles=16\nINFO [05-19|14:53:17.524] Writing custom genesis block\nINFO [05-19|14:53:17.525] Persisted trie from memory database      nodes=21 size=56.84KiB time=638.396\u00b5s gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=-574.00B\nINFO [05-19|14:53:17.528] Successfully wrote genesis state         database=lightchaindata hash=7d79cc\u2026fb0d1e\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#3-create-consensus-key","title":"3. Create Consensus Key","text":"<p>You need to create an account that represents a validator's consensus key. Use the following command to create a new account and set a password for that account:</p> <p>Warning</p> <p>Please do not share access to keystore to others.</p> <pre><code>geth account new --datadir ./node\n</code></pre> <p>This command will return the public address and the path to your private key. BACKUP of keyfile is necessory!</p> <p>If you already have an account, use the seed phrase to recover it:</p> <pre><code>geth account import --datadir ./node\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#start-validator-node_1","title":"Start Validator Node","text":"<p>Warning</p> <p>Please do not expose your RPC endpoints to public network.</p> <pre><code>## generate the consensus key and input the password\ngeth account new --datadir ./node\necho {your-password} &gt; password.txt\ngeth --config ./config.toml --datadir ./node --syncmode snap -unlock {your-validator-address} --password password.txt  --mine  --allow-insecure-unlock --cache 18000\n</code></pre>"},{"location":"smart-chain/validator/guideline.html#wait-for-node-to-sync","title":"Wait for node to sync","text":"<p>Your node should now be catching up with the network by replaying all the transactions from genesis and recreating the blockchain state locally. This will take a long time, so make sure you've set it up on a stable connection so you can leave while it syncs.</p> <p>View the status of the network with https://scolcoin.com/.</p> <p>You can monitor the status from log: <code>$HOME/node/bsc.log</code> by default.</p> <p>Congratulations! You've now successfully joined a network as a full node operator.</p>"},{"location":"smart-chain/validator/guideline.html#setup-a-data-backup-recommended-for-the-mainnet","title":"Setup a data backup (recommended for the mainnet)","text":"<p>If you are connecting to an existing network for which you have a data backup (from a provider you trust), you can optionally load the backup into your node storage rather than syncing from scratch. Learn more here</p>"},{"location":"smart-chain/validator/guideline.html#5-declare-candidacy","title":"5. Declare Candidacy","text":"<p>You can use <code>eth-cli</code> binary to sen <code>create-validator</code> transaction, thus you can declare your candidacy.</p> <ul> <li>Download <code>eth-cli</code> from GitHub</li> </ul> <p>Use <code>eth-cli</code> to create an account or recover an account, make sure the account get more than 10000 SCOL.</p> <p>Make sure your bsc validator have already catched up.</p> <p>Command for create validator on mainnet:</p> <pre><code>eth-cli staking nc-create-validator \\\n-side-cons-addr {validator address} \\\n--side-fee-addr {wallet address on TC} \\\n--address-delegator {wallet address on BC} \\\n--side-chain-id bsc \\\n--amount 10000000000:SCOL \\\n--commission-rate {10000000 represent 10%} \\\n--commission-max-rate {20000000 represent 20%} \\\n--commission-max-change-rate {500000000 represent 5%} \\\n--moniker {validator name} \\\n--details {validator detailed description} \\\n--identity {keybase identity} \\\n--website {website for validator} \\\n--from {key name} \\\n--chain-id SCOL-Chain-Tigris \\\n--node https://dataseed5.defibit.io:443\n</code></pre> <p>Make sure that the <code>side-cons-addr</code> is the address you unlock when start the validator node.</p> <p>Read the detailed manual here to understand other parameters.</p> <p>Go to explorer to verify your transactions.</p>"},{"location":"smart-chain/validator/guideline.html#after-declare-your-candidacy","title":"After Declare Your Candidacy","text":""},{"location":"smart-chain/validator/guideline.html#1monitor-node-status","title":"1.Monitor node status","text":"<p>To get started quickly, run GethExporter in a Docker container.</p> <pre><code>docker run -it -d -p 9090:9090 \\\n  -e \"GETH=http://mygethserverhere.com:8545\" \\\n  hunterlong/gethexporter\n</code></pre> <p></p>"},{"location":"smart-chain/validator/guideline.html#2-update-validator-prodile","title":"2. Update validator prodile","text":"<p>You can submit a PullRequest to this repository to update your information: https://github.com/githubusername/githubrepo/validator-directory Reference: https://grafana.com/grafana/dashboards/6976</p>"},{"location":"smart-chain/validator/guideline.html#3-publish-validator-information","title":"3. Publish Validator Information","text":"<p>Please submit a Pull Request to this repo https://github.com/githubusername/githubrepo/validator-directory</p> <p>This repository is a place for validator candidates to give potential delegators a brief introduction about your team and infrastructure, and present your ecosystem contributions.</p>"},{"location":"smart-chain/validator/guideline.html#4-stop-validating","title":"4. Stop Validating","text":"<p>You can stop mining new blocks by sending commands in <code>geth console</code></p> <p>Connect to your validator node with <code>geth attach ipc:path/to/geth.ipc</code></p> <pre><code>miner.stop()\n</code></pre> <p>To resume validating, <pre><code>miner.start()\n</code></pre></p>"},{"location":"smart-chain/validator/overview.html","title":"ScolCoin Chain Validator Overview","text":""},{"location":"smart-chain/validator/overview.html#what-is-scolcoin-chain","title":"What is ScolCoin Chain?","text":"<p>ScolCoin Chain is an innovative solution to bring programmability and interoperability to ScolCoin Chain. ScolCoin Chain relies on a system of 21 validators with Proof of Staked Authority (PoSA) consensus that can support short block time and lower fees. The most bonded validator candidates of staking will become validators and produce blocks. The double-sign detection and other slashing logic guarantee security, stability, and chain finality.</p>"},{"location":"smart-chain/validator/overview.html#what-is-validator","title":"What is Validator?","text":"<p>ScolCoin Chain relies on a set of validators who are responsible for committing new blocks in the blockchain. These validators participate in the consensus protocol by signing blocks that contain cryptographic signatures signed by each validator's private key.  The validator set is determined by a staking module built on ScolCoin Chain for ScolCoin Chain, and propagated every day UTC 00:00 from BC to SCOL via Cross-Chain communication.</p>"},{"location":"smart-chain/validator/overview.html#economics","title":"Economics","text":"<p>Validator's rewards come from transaction fees and commission fees from delegators.</p> <p>Let us also assume that the reward for a block is 100 SCOL and that a certain validator has 20% of self-bonded SCOL and sets its commission rate to 20%. These tokens do not go directly to the proposer. Instead, they are shared among validators and delegators.  These 100 SCOL will be distributed according to each participant's stake:</p> <p>Commission: 80*20%= 16 SCOL Validator gets: 100*20% + Commission = 36 SCOL All delegators get: 100*80% - Commission = 64 SCOL</p> <p>If validators double sign, are frequently offline, their staked SCOL ( not including SCOL of users that delegated to them) can be slashed. The penalty depends on the severity of the violation.</p> <p>You can learn to see the revenue history from BitQuery's chart or a table of BscScan</p>"},{"location":"smart-chain/validator/overview.html#risks-for-validators","title":"Risks for Validators","text":"<p>If you try to cheat the system, or act contrary to the specification, you will be liable to incur a penalty, known as slashing.</p>"},{"location":"smart-chain/validator/overview.html#potential-loss","title":"Potential Loss","text":""},{"location":"smart-chain/validator/overview.html#loss-for-double-sign-slash","title":"Loss for Double-Sign Slash","text":"<p>Running your validator keys simultaneously on two or more machines will result in Double-Sign slashing.</p> <p>Penalty for Double-Sign Slash:</p> <ol> <li>10000 staked SCOL will be slashed for the validator.</li> <li>The Double-Sign Jail time is 2^63-1 seconds, which means the candidate cannot become a validator anymore.</li> </ol> <p>Note: Rewards for submitting double-sign evidence: 1000SCOL Anyone can submit a slashing request on BC with the evidence of Double Sign of TC, which should contain the 2 block headers with the same height and parent block, sealed by the offending validator.</p>"},{"location":"smart-chain/validator/overview.html#loss-for-offline-slash","title":"Loss for Offline Slash:","text":"<p>If a validator missed more than 50 blocks every 24h, the blocking reward for validator will not be relayed to BC for distribution but shared with other better validators. If it missed more than 150 blocks every 24h, then this will be propagated back to BC where another Slashing will happen</p> <p>Penalty for Offline Slash:</p> <ol> <li>50 staked SCOL will be slashed for the validator.</li> <li>The Downtime Jail time is 2 days, which means the candidate can send a <code>unjail</code> transaction to become a candidate again.</li> </ol>"},{"location":"smart-chain/validator/overview.html#loss-for-too-low-self-delegation","title":"Loss for Too Low self-delegation","text":"<p>Validator candidates must stake 10000SCOL as self-delegation. If the self-delegation amount is lower, the Jail time is 1 day.</p>"},{"location":"smart-chain/validator/security.html","title":"Security","text":"<p>Each validator candidate is encouraged to run its operations independently, as diverse setups increase the resilience of the network.</p>"},{"location":"smart-chain/validator/security.html#sentry-nodes-ddos-protection","title":"Sentry Nodes (DDOS Protection)","text":"<p>Validators are responsible for ensuring that the network can sustain denial of service attacks. One recommended way to mitigate these risks is for validators to carefully structure their network topology in a so-called sentry node architecture. Sentry nodes can be quickly spun up or change their IP addresses. Because the links to the sentry nodes are in private IP space, an internet based attacked cannot disturb them directly. This will ensure validator block proposals and votes always make it to the rest of the network.</p> <p>To setup your sentry node architecture you can follow the instructions below:</p> <ol> <li>Build a private network and setup trusted private connections between validator node and it sentry</li> </ol> <p>Please do not expose your validator fullnode RPC endpoints to public network.</p> <p>Install your fullnode</p> <ol> <li>Set sentry as peers  for validator node</li> </ol> <p>In the console of the sentry node, run <code>admin.nodeInfo.enode</code> You should get something similar to this.</p> <pre><code>enode://f2da64f49c30a0038bba3391f40805d531510c473ec2bcc7c201631ba003c6f16fa09e03308e48f87d21c0fed1e4e0bc53428047f6dcf34da344d3f5bb69373b@[::]:30306?discport=0\n</code></pre> <p>!!! Note:     [::] will be parsed as localhost (127.0.0.1). If your nodes are on a local network check each individual host machine and find your IP with ifconfig     If your peers are not on the local network, you need to know your external IP address (use a service) to construct the enode URL.     Copy this value and in the console of the first node run,</p> <p>Update <code>config.toml</code> file of validator node</p> <p><pre><code># make node invisible\nNoDiscovery = true\n# connect only to sentry\nStaticNodes = [\"enode://f2da64f49c30a0038bba3391f40805d531510c473ec2bcc7c201631ba003c6f16fa09e03308e48f87d21c0fed1e4e0bc53428047f6dcf34da344d3f5bb69373b@[10.1.1.1]:30306\"]\n</code></pre> This will return true if successful, but that doesn\u2019t mean the node was added successfully.</p> <p>To confirm run <code>admin.peers</code> and you should see the details of the node you just added.</p> <p>That way your validator node will try to peer with your provided sentry nodes only.</p> <ol> <li>Confirm the connection</li> </ol> <p>To confirm run <code>admin.peers</code> and you should see the details of the node you just added.</p> <p></p>"},{"location":"smart-chain/validator/security.html#firewall-configuration","title":"Firewall Configuration","text":"<p><code>geth</code> uses several TCP ports for different purposes.</p> <p><code>geth</code> use a listener (TCP) port and a discovery (UDP) port, both on 30303 by default.</p> <p>If you need to run JSON-RPC, you'll also need TCP port 8545. Note that JSON-RPC port should not be opened to the outside world, because from there you can do admin operations.</p>"},{"location":"smart-chain/validator/testnet.html","title":"How to become a Validator Candidate","text":""},{"location":"smart-chain/validator/testnet.html#install-fullnode","title":"Install Fullnode","text":"<p>Please follow this guide to install bsc fullnode locally.</p>"},{"location":"smart-chain/validator/testnet.html#create-an-account","title":"Create an account","text":"<p>You need to create an account that represents a key pair first. Use the following command to create a new account and set a password for that account: <pre><code>geth account new --datadir ./node\n</code></pre></p> <p>This command will return the public address and the path to your private key. BACKUP of keyfile is necessory!</p> <p>If you already have an account, use the seed phrase to recover it:</p> <pre><code>geth account import --datadir ./node\n</code></pre>"},{"location":"smart-chain/validator/testnet.html#get-some-testnet-fund-from-faucet","title":"Get some testnet fund from faucet","text":"<p>Go to this faucet page: https://testnet-explorer.scolcoin.com/faucet-smart</p>"},{"location":"smart-chain/validator/testnet.html#transfer-scol-from-scol-to-bc","title":"Transfer SCOL from SCOL to BC","text":"<p>Please refer to this guide to transfer SCOL with ScolCoin Chain extension wallet.</p>"},{"location":"smart-chain/validator/testnet.html#become-a-validator-candidate","title":"Become a validator candidate","text":"<p>You can use <code>eth-cli</code> to declare your candidacy some of SCOL to a validator</p> <p>Go to testnet explorer to verify your transactions.</p>"},{"location":"smart-chain/validator/testnet.html#get-genesis-file-and-config-file","title":"Get Genesis file and Config file","text":"<pre><code>wget --no-check-certificate  $(curl -s https://api.github.com/repos/shree-chain/bsc/releases/latest |grep browser_ |grep testnet |cut -d\\\" -f4)\nunzip testnet.zip\n</code></pre>"},{"location":"smart-chain/validator/testnet.html#start-fullnode-on-scol-testnet","title":"Start Fullnode on SCOL Testnet","text":"<p>Please run this command to run a fullnode as validator candidate</p> <pre><code>geth --datadir node init genesis.json\ngeth --config ./config.toml --datadir ./node --syncmode snap -unlock {validator-address} --mine --allow-insecure-unlock </code></pre>"},{"location":"smart-chain/validator/testnet.html#become-a-validator-candidate-of-testnet","title":"Become a validator candidate of testnet","text":"<p>You can use <code>eth-cli</code> to declare your candidacy some of SCOL to a validator</p> <p>Go to explorer to verify your transactions.</p>"},{"location":"smart-chain/wallet/AlphaWallet.html","title":"How to use AlphaWallet for ScolCoin Chain on your mobile","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#install","title":"Install","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#1-get-app-from-andriod-play-store-ios-app-store-andriod-apk-file-or-ios-testflight-httpsalphawalletcomdownload-alphawallet-app","title":"1. Get App from Andriod Play Store, iOS app Store, Andriod APK file or iOS TestFlight https://alphawallet.com/download-alphawallet-app/","text":"<p>Or you can make your own build from the open source code https://github.com/AlphaWallet</p>"},{"location":"smart-chain/wallet/AlphaWallet.html#2-open-alphawallet-on-your-mobile-backup-seed-phrase","title":"2. Open AlphaWallet on your mobile, backup Seed Phrase","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#setup-your-wallet-for-scolcoin-chain","title":"Setup Your Wallet for ScolCoin Chain","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#1-click-setting-tab-select-active-network","title":"1. Click Setting tab, Select Active Network","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#2-select-scol-if-you-want-to-enable-the-testnet-as-well-select-scoltest","title":"2. Select SCOL. If you want to enable the testnet as well, select SCOL(test).","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#setup-your-dapp-browser-for-scolcoin-chain","title":"Setup Your DApp browser for ScolCoin Chain","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#1-click-browser-tab-click-the-ethereum","title":"1. Click Browser tab, Click the Ethereum","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#2-in-the-browser-active-network-page-select-scol-or-scoltest","title":"2. In the browser active network page, select SCOL or SCOL(Test)","text":"<p>It\u2019s ready, and now you can get some testnet SCOL from the faucet.</p>"},{"location":"smart-chain/wallet/AlphaWallet.html#get-testnet-fund","title":"Get Testnet Fund","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#1-copy-your-address","title":"1. Copy your address.","text":""},{"location":"smart-chain/wallet/AlphaWallet.html#2-go-to-httpstestnet-explorerscolcoincomfaucet-smart","title":"2. Go to https://testnet-explorer.scolcoin.com/faucet-smart/","text":""},{"location":"smart-chain/wallet/arkane-developer.html","title":"Wallet provider for Dapps","text":"<p>A wallet provider is a service that allows DApps to provide wallets to their end-users without having to deal with the security concerns of key management. It is a great way to make your Dapp ready to onboard a more mainstream audience.</p> <p>Arkane allows you to easily integrate your app with the ScolCoin Chain, whether you already have an Dapp integrated with web3 or are building a new application from scratch. Arkane provides a smooth and delightful experience for you, your users on both web and mobile.</p> <p>Arkane will help you interact with the ScolCoin Chain, create blockchain wallets, create different asset types such as fungible (SRC20, ERC20), and non-fungible tokens - NFTs - (SRC721, and ERC1155) and interact with smart contracts. Next to a superior developer experience, you can give your users a user-friendly interface.</p> <p>Each application is unique and has different needs, therefore they provide different ways of interacting with Arkane. Applications that have support for Web3 are recommendated to integrate the Arkane Web3 provider, others are suggested to use the Arkane Widget.</p>"},{"location":"smart-chain/wallet/arkane-developer.html#key-features","title":"Key features","text":"<ul> <li>Support for Web and mobile applications</li> <li>Offers social logins</li> <li>Offers a fiat-on-ramp</li> <li>Only wallet that supports NFTs (SRC721 and ERC1155) on ScolCoin Chain</li> <li>Multichain, supports both SCOL and Ethereum</li> <li>Easy to integrate using web3 </li> <li>Build for a mainstream audience</li> <li>Offers in-app customer support</li> <li>Provide a complete test environment</li> <li>Wallet creation via APIs</li> </ul>"},{"location":"smart-chain/wallet/arkane-developer.html#getting-started","title":"Getting Started \ud83c\udf89","text":"<p>If you already support Web3-technology, you can improve the UX within your application by integrating the Arkane Web3 provider, a smart wrapper around the existing Web3 Ethereum JavaScript API.</p> <p>By making use of our Web3 provider you are able to leverage the full potential of Arkane with minimal effort and you will be able to onboard users that are less tech savvy without making them leave your application or download third party plugins. Integrating just takes 2 steps and 5 minutes</p> <p>Don't support Web3 yet?</p> <p>Don't worry we've got you covered with our \ud83d\udce6 Widget - Arkane Connect.</p>"},{"location":"smart-chain/wallet/arkane-developer.html#step-1-add-the-library-to-your-project","title":"Step 1: Add the library to your project","text":"<p>Install the library by downloading it to your project via NPM</p> <pre><code>npm i @arkane-network/web3-arkane-provider\n</code></pre> <p>followed by adding the script to the head of your page.</p> <pre><code>&lt;script src=\"/node_modules/@arkane-network/web3-arkane-provider/dist/web3-arkane-provider.js\"&gt;&lt;/script&gt;\n</code></pre> <p>After adding the javascript file to your page, a global Arkane object is added to your window. This object is the gateway for creating the web3 wrapper and fully integrates the widget - Arkane Connect.</p>"},{"location":"smart-chain/wallet/arkane-developer.html#step-2-initialize-the-web3-provider","title":"Step 2: Initialize the web3 provider","text":"<p>Add the following lines of code to your project, it will load the Arkane web3 provider.</p> <p><pre><code>Arkane.createArkaneProviderEngine({clientId: \u2018Arketype\u2019}).then(provider =&gt; {\n    web3 = new Web3(provider);\n});\n</code></pre> The web3 instance now works as if it was injected by parity or metamask. You can fetch wallets, sign transactions, and messages.</p>"},{"location":"smart-chain/wallet/arkane-developer.html#congratulations-your-dapp-now-supports-arkane","title":"Congratulations, your dapp now supports Arkane \ud83c\udf89","text":"<p>\ud83e\uddd9 To connect to Arkanes production environment and mainnet, you will need to register your app and request your Client ID.</p> <p>Want to know more about the wonderful world Arkane has to offer, check out their documentation</p>"},{"location":"smart-chain/wallet/arkane-developer.html#receive-scol-and-src20-tokens","title":"Receive SCOL and SRC20 tokens","text":"<p>Every SCOL wallet in Arkane is able to send and receive SCOL or SRC20 tokens. They will automatically  appear in your wallet.</p> <p></p>"},{"location":"smart-chain/wallet/arkane-developer.html#resources","title":"Resources:","text":"<ul> <li>ScolCoin Chain partners with Arkane</li> <li>Arkane Developer Introduction Video (25min)</li> </ul>"},{"location":"smart-chain/wallet/arkane.html","title":"How to create a SCOL wallet in Arkane","text":"<p>If you are looking for a user-friendly ScolCoin Chain wallet, consider creating an Arkane wallet. It allows you to enable recovery mechanism and comes with end-user support via their in-app chat, making sure you are never lost in the wonderful land of cryptocurrency.</p>"},{"location":"smart-chain/wallet/arkane.html#key-features","title":"Key features","text":"<ul> <li>Cloud wallet, offers support Web and mobile</li> <li>Register via social (Google, Facebook, Twitter)</li> <li>In app crypto purchases</li> <li>Support multiple blockchains</li> <li>Build for a mainstream audience</li> <li>In-app customer support </li> </ul>"},{"location":"smart-chain/wallet/arkane.html#step-1-sign-up-to-arkane","title":"Step 1. Sign up to Arkane","text":"<p>Navigate to https://arkane.network and click the 'YOUR WALLET'-button in the top right corner.</p> <p> </p> <p>Click 'Create Account' if you are new to Arkane. You can sign up to Arkane with your social credentials or with email and password.</p> <p></p> <p>After signing up with one of your social accounts (fastest) or with your email address and password. You will need to accept the terms and conditions.</p> <p></p> <p>To secure your wallet you need to configure a PIN. You PIN should be between 4 and 6 digits. Your PIN will be used to approve future transactions.</p> <p></p>"},{"location":"smart-chain/wallet/arkane.html#step-2-create-your-wallet","title":"Step 2. Create your wallet","text":"<p>Now that you've configured your PIN, you are ready to create a ScolCoin Chain wallet. Just select ScolCoin Chain from the list.</p> <p></p> <p>To create a new wallet press 'Create new wallet' </p> <p></p> <p>Once you've press the button, Arkane will ask you to confirm using your PIN (the one you configured a few steps before). After that your wallet will be created and you will be taken to your Dashboard.</p> <p></p>"},{"location":"smart-chain/wallet/arkane.html#congratulations","title":"\ud83e\udd73 Congratulations!","text":"<p>You have now created your ScolCoin Chain wallet to manage your digital assets on the ScolCoin Chain blockchain. </p>"},{"location":"smart-chain/wallet/arkane.html#receive-scol-and-src20-tokens","title":"Receive SCOL and SRC20 tokens","text":"<p>Every SCOL wallet in Arkane is able to send and receive SCOL or SRC20 tokens. They will automatically  appear in your wallet.</p> <p></p>"},{"location":"smart-chain/wallet/arkane.html#resources","title":"Resources:","text":"<ul> <li>ScolCoin Chain partners with Arkane</li> <li>Arkane Developer Introduction Video (25min)</li> <li>Use Arkane in your DApp</li> </ul>"},{"location":"smart-chain/wallet/binance-cn.html","title":"\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u6307\u5357","text":""},{"location":"smart-chain/wallet/binance-cn.html#_2","title":"\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u662f\u4ec0\u4e48?","text":"<p>\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u652f\u6301\u5e01\u5b89\u94fe\u548c\u5e01\u5b89\u667a\u80fd\u94fe\u3002\u7528\u6237\u4e5f\u53ef\u4ee5\u5b8c\u6210\u8de8\u94fe\u8f6c\u8d26\u3002</p> <p>\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u5c06\u5f88\u5feb\u652f\u6301\u4ee5\u592a\u574a\u3002\u540c\u65f6\uff0c\u4e5f\u4f1a\u5f88\u5feb\u652f\u6301\u4e0eDapps\u7684\u4ea4\u4e92\u3002</p> <p>\u706b\u72d0\u548cChrome\u6d4f\u89c8\u5668\u90fd\u4e0a\u67b6\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u3002</p> <p>Tip<p>\u706b\u72d0\u6d4f\u89c8\u5668\u66f4\u65b0\u66f4\u5feb\u3002</p> </p>"},{"location":"smart-chain/wallet/binance-cn.html#_3","title":"\u5b89\u88c5","text":"<p>\u4ee5\u706b\u72d0\u6d4f\u89c8\u5668\u4e3a\u4f8b</p> <ul> <li> <p>\u6253\u5f00\u706b\u72d0\u6d4f\u89c8\u5668\u5e02\u573a: https://addons.mozilla.org/en-US/firefox/addon/shree-chain/?src=search</p> </li> <li> <p>\u641c\u7d22\"ScolCoin Chain\"</p> </li> </ul> <p></p> <p>\u6ce8\u610f\u26a0\ufe0f: \u8bf7\u786e\u8ba4\u5f00\u53d1\u8005\u662fScolCoin Chain</p> <ul> <li>\u70b9\u51fb \u201cAdd to Firefox\u201d</li> </ul> <p></p> <p>\u5b8c\u6210! \u4f60\u5df2\u7ecf\u6210\u529f\u5728\u706b\u72d0\u6d4f\u89c8\u5668\u4e2d\u5b89\u88c5\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305!</p> <p>\u5176\u4ed6\u6d4f\u89c8\u5668\u7684\u6d41\u7a0b\u7c7b\u4f3c\u3002</p>"},{"location":"smart-chain/wallet/binance-cn.html#_4","title":"\u5728\u5e01\u5b89\u94fe\u63d2\u4ef6\u94b1\u5305\u4e2d\u521b\u5efa\u65b0\u8d26\u6237","text":"<ul> <li>\u70b9\u51fb \u201cI do not own a wallet\u201d</li> </ul> <ul> <li>\u8f93\u5165\u5bc6\u7801</li> </ul> <p>\u6ce8\u610f\u26a0\ufe0f\uff1a\u5fc5\u987b\u662f\u5f3a\u5bc6\u7801</p> <p></p> <ul> <li> <p>\u70b9\u51fb \u201cContinue\u201d</p> </li> <li> <p>\u5907\u4efd\u52a9\u8bb0\u8bcd</p> </li> </ul> <p></p> <p>\u4f60\u5df2\u7ecf\u5b8c\u6210\u8d26\u6237\u521b\u5efa!</p>"},{"location":"smart-chain/wallet/binance-cn.html#_5","title":"\u901a\u8fc7\u52a9\u8bb0\u8bcd\u5bfc\u5165\u5df2\u6709\u8d26\u6237","text":"<ul> <li>\u6309\u7167\u4e0a\u8ff0\u6b65\u9aa4\u5b8c\u6210\u5b89\u88c5</li> <li> <p>\u70b9\u51fb \u201cI own a wallet\u201d </p> </li> <li> <p>\u8f93\u5165\u4f60\u7684\u52a9\u8bb0\u8bcd\u548c\u5bc6\u7801 </p> </li> <li> <p>\u70b9\u51fb \u201cGet started\u201d</p> </li> </ul> <p>\u4f60\u5df2\u7ecf\u5b8c\u6210\u8d26\u6237\u6062\u590d!</p>"},{"location":"smart-chain/wallet/binance-cn.html#scol","title":"\u83b7\u5f97\u6d4b\u8bd5\u7f51SCOL","text":"<ul> <li>\u6253\u5f00\u4ee5\u4e0b\u9875\u9762 https://testnet-explorer.scolcoin.com/faucet-smart/</li> </ul> <ul> <li>\u6253\u5f00\u94b1\u5305\u540e\uff0c\u5207\u6362\u5230ScolCoin Chain Testnet</li> </ul> <ul> <li>\u590d\u5236\u5730\u5740</li> </ul> <ul> <li>\u7c98\u8d34\u5230\u8f93\u5165\u6846\u5e76\u70b9\u51fb \u201cGive me SCOL\u201d</li> <li>\u70b9\u51fb \u201c+\u201d and \u6dfb\u52a0\u201cSCOL\u201d \u4ee3\u5e01</li> </ul> <p>\u4ea4\u6613\u5b8c\u6210\u540e\uff0c\u4f60\u5f88\u5feb\u5c31\u80fd\u770b\u5230\u8d26\u6237\u4e0a\u7684SCOL</p> <p></p>"},{"location":"smart-chain/wallet/binance-cn.html#scolncbc","title":"SCOL\u4eceNC\u8f6c\u5230BC","text":"<p>\u4ee5\u6d4b\u8bd5\u7f51\u4e3a\u4f8b\uff1a</p> <ul> <li>\u6253\u5f00\u94b1\u5305\u540e\uff0c\u5207\u6362\u5230ScolCoin Chain Testnet\u3002\u590d\u5236\u5730\u5740\uff0c\u4ee5 <code>tscol1</code>\u5f00\u5934</li> </ul> <p></p> <ul> <li> <p>\u70b9\u51fb \u201c+\u201d and \u6dfb\u52a0\u201cSCOL\u201d \u4ee3\u5e01</p> </li> <li> <p>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u70b9\u51fb \u201cSend\u201d</p> </li> </ul> <p></p> <ul> <li>\u5728\u8f93\u5165\u5730\u5740\u548c\u548c\u91d1\u989d\u540e\uff0c\u70b9\u51fb\u201cSend\u201d</li> </ul> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u786e\u8ba4\u8f6c\u8d26\u5b8c\u6210</li> </ul> <p></p>"},{"location":"smart-chain/wallet/binance-cn.html#scolbcnc","title":"SCOL\u4eceBC\u8f6c\u5230NC","text":"<ul> <li>\u6253\u5f00\u94b1\u5305\u540e\uff0c\u5207\u6362\u5230ScolCoin Chain Testnet\u3002\u590d\u5236\u5730\u5740\uff0c\u4ee5 <code>0x</code>\u5f00\u5934</li> </ul> <ul> <li> <p>\u70b9\u51fb \u201c+\u201d and \u6dfb\u52a0\u201cSCOL\u201d \u4ee3\u5e01</p> </li> <li> <p>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u70b9\u51fb \u201cSend\u201d</p> </li> </ul> <p></p> <ul> <li>\u5728\u8f93\u5165\u5730\u5740\u548c\u548c\u91d1\u989d\u540e\uff0c\u70b9\u51fb\u201cSend\u201d</li> </ul> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u786e\u8ba4\u8f6c\u8d26\u5b8c\u6210</li> </ul>"},{"location":"smart-chain/wallet/binance-cn.html#bep2src20","title":"\u5728\u6d4b\u8bd5\u7f51\u4e0a\u5b8c\u5c06BEP2\u4ee3\u5e01\u8f6c\u6362\u4e3aSRC20\u683c\u5f0f","text":"<ul> <li>\u6839\u636e\u4ee5\u4e0a\u6307\u4ee4\u5b8c\u6210\u5b89\u88c5</li> <li>\u6839\u636e\u4ee5\u4e0a\u6307\u4ee4\u5b8c\u6210\u8d26\u6237\u7684\u521b\u5efa\u6216\u6062\u590d</li> <li>\u6253\u5f00\u94b1\u5305\u540e\uff0c\u5207\u6362\u5230ScolCoin  Chain Testnet\u3002\u70b9\u51fb\u201c+\u201d \u6dfb\u52a0\u4f60\u7684BEP2\u4ee3\u5e01</li> </ul> <p>\u786e\u8ba4SCOL\u4f59\u989d\u591f\u652f\u4ed8\u8de8\u94fe\u8f6c\u8d26\u8d39\u7528</p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\u3002\u590d\u5236\u5730\u5740\uff0c\u4ee5 <code>tscol1</code>\u5f00\u5934</li> </ul> <p></p> <p>\u82e5\u9700\u8981\uff0c\u70b9\u51fb\u201c+\u201d \u6dfb\u52a0\u4f60\u7684SRC20\u4ee3\u5e01</p> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u70b9\u51fb \u201cSend\u201d</li> </ul> <p></p> <ul> <li>\u5728\u8f93\u5165\u5730\u5740\u548c\u548c\u91d1\u989d\u540e\uff0c\u70b9\u51fb\u201cSend\u201d\u5e76\u786e\u8ba4</li> </ul> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u786e\u8ba4\u6536\u5230SRC20\u4ee3\u5e01</li> </ul> <p></p>"},{"location":"smart-chain/wallet/binance-cn.html#src20bep2","title":"\u5728\u6d4b\u8bd5\u7f51\u4e0a\u5b8c\u5c06SRC20\u4ee3\u5e01\u8f6c\u6362\u4e3aBEP2\u683c\u5f0f","text":"<ul> <li>\u6839\u636e\u4ee5\u4e0a\u6307\u4ee4\u5b8c\u6210\u5b89\u88c5</li> <li>\u6839\u636e\u4ee5\u4e0a\u6307\u4ee4\u5b8c\u6210\u8d26\u6237\u7684\u521b\u5efa\u6216\u6062\u590d</li> <li>\u6253\u5f00\u94b1\u5305\u540e\uff0c\u5207\u6362\u5230ScolCoin Chain Testnet\u3002\u70b9\u51fb\u201c+\u201d \u6dfb\u52a0\u4f60\u7684SRC20\u4ee3\u5e01</li> </ul> <p>\u786e\u8ba4SCOL\u4f59\u989d\u591f\u652f\u4ed8\u8de8\u94fe\u8f6c\u8d26\u8d39\u7528</p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\u3002\u590d\u5236\u5730\u5740\uff0c\u4ee5 <code>tscol1</code>\u5f00\u5934</li> </ul> <p>\u6ce8\u610f\u26a0\ufe0f\uff1a\u4e3b\u7f51\u5730\u5740\u4ee5 <code>scol1</code>\u5f00\u5934</p> <p></p> <ul> <li>\u82e5\u9700\u8981\uff0c\u70b9\u51fb\u201c+\u201d \u6dfb\u52a0\u4f60\u7684BEP2\u4ee3\u5e01</li> </ul> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u70b9\u51fb \u201cSend\u201d</li> </ul> <p></p> <ul> <li>\u5207\u6362\u5230ScolCoin Chain Testnet\uff0c\u786e\u8ba4\u6536\u5230BEP2\u4ee3\u5e01</li> </ul>"},{"location":"smart-chain/wallet/binance.html","title":"Use ScolCoin Chain Extension Wallet","text":""},{"location":"smart-chain/wallet/binance.html#what-is-it","title":"What is it?","text":"<p>ScolCoin Chain Extension Wallet is a Crypto Wallet for ScolCoin Chain, ScolCoin Chain. You can send and receive funds on ScolCoin Chain, ScolCoin Chain and cross-chain transfers between both of SCOL\u2019s blockchains.</p> <p>In the future, ScolCoin Chain Extension Wallet will add support for Ethereum blockchain and enable access for distributed applications, or \"Dapps\" in your browser!</p> <p>It\u2019s supported in Firefox and Chrome browsers.</p> <p>Tip<p>Firefox users are more likely to access the latest version timely</p> </p>"},{"location":"smart-chain/wallet/binance.html#download-link","title":"Download Link","text":"<p>Chrome App Store Link: https://chrome.google.com/webstore/detail/shree-chain-wallet/fhbohimaelbohpjbbldcngcnapndodjp</p> <p>Firefox App Store Link: https://addons.mozilla.org/en-US/firefox/addon/shree-chain/?src=search</p> <p>How to manually install the ScolCoin Chain Extension Wallet</p>"},{"location":"smart-chain/wallet/binance.html#install","title":"Install","text":"<p>Example: Install ScolCoin Chain Wallet in Firefox browser</p> <ul> <li> <p>Open Extension in Firefox: https://addons.mozilla.org/en-US/firefox/addon/shree-chain/?src=search</p> </li> <li> <p>Search for ScolCoin Chain</p> </li> </ul> <p></p> <p>Note: Make sure it\u2019s offered by ScolCoin Chain</p> <ul> <li>Click on \u201cAdd to Firefox\u201d</li> </ul> <p></p> <p>That\u2019s it! You have successfully installed the ScolCoin Chain Wallet extension in Firefox!</p> <p>The workflow is the same for all browsers</p>"},{"location":"smart-chain/wallet/binance.html#create-an-account-in-extension-wallet-for-scolcoin-chain","title":"Create an account in extension wallet for ScolCoin Chain","text":"<ul> <li>Click on \u201cI do not own a wallet\u201d</li> </ul> <ul> <li>Choose your own Password</li> </ul> <p>Note: it has to be a strong password</p> <p></p> <ul> <li> <p>Click on \u201cContinue\u201d</p> </li> <li> <p>Backup your recovery phrase</p> </li> </ul> <p></p> <p>Congratulations! you have created your account!</p>"},{"location":"smart-chain/wallet/binance.html#recover-your-account-with-mnemonic-phrase","title":"Recover your account with Mnemonic Phrase","text":"<ul> <li>Install ScolCoin Chain extension by following the previous steps</li> <li> <p>firstClick on \u201cI own a wallet\u201d </p> </li> <li> <p>Type your recovery phrase and choose a strong password</p> </li> </ul> <p></p> <ul> <li>Click on \u201cGet started\u201d</li> </ul> <p>Now you are all set!</p>"},{"location":"smart-chain/wallet/binance.html#get-testnet-scol-from-faucet","title":"Get Testnet SCOL from Faucet","text":"<ul> <li>Go to https://testnet-explorer.scolcoin.com/faucet-smart/</li> </ul> <ul> <li>Switch to ScolCoin Chain Testnet after unlock your extension wallet</li> </ul> <ul> <li>Copy your address</li> </ul> <ul> <li>Paste your address in the box and click on \u201cGive me SCOL\u201d</li> <li>Click on the \u201c+\u201d and add \u201cSCOL\u201d token</li> </ul> <p>After the transfer transaction is sent, you will see an increase in your balance</p> <p></p>"},{"location":"smart-chain/wallet/binance.html#transfer-testnet-scol-from-scol-to-bc","title":"Transfer Testnet SCOL from SCOL to BC","text":"<ul> <li>Switch to ScolCoin Chain testnet and copy your address after unlock your extension wallet, start with <code>tscol1</code></li> </ul> <ul> <li> <p>Click on the \u201c+\u201d and add \u201cSCOL\u201d token</p> </li> <li> <p>Switch to ScolCoin Chain testnet and click on \u201cSend\u201d</p> </li> </ul> <p></p> <ul> <li>Click on \u201cSend\u201d when you have filled in other information. You have to confirm it too</li> </ul> <p></p> <ul> <li>Switch back to ScolCoin Chain Testnet to confirm this cross-chain transfer</li> </ul> <p></p>"},{"location":"smart-chain/wallet/binance.html#transfer-testnet-scol-from-bc-to-tc","title":"Transfer Testnet SCOL from BC to TC","text":"<ul> <li>Switch to ScolCoin Chain testnet after unlock your extension wallet and copy your address, start with <code>0x</code></li> </ul> <ul> <li> <p>Click on the \u201c+\u201d and add \u201cSCOL\u201d token</p> </li> <li> <p>Switch to ScolCoin Chain testnet and click on \u201cSend\u201d</p> </li> </ul> <p></p> <ul> <li>Click on \u201cSend\u201d when you have filled in other information. You have to confirm it too</li> </ul> <p></p> <ul> <li>Switch back to ScolCoin Chain Testnet to confirm this cross-chain transfer</li> </ul>"},{"location":"smart-chain/wallet/binance.html#swap-testnet-bep2-token-to-its-src20-equivalent","title":"Swap Testnet BEP2 token to its SRC20 equivalent","text":"<ul> <li>Follow the instructions above to Install ScolCoin Chain extension wallet if not ready</li> <li>Follow the instructions above to create or Recover your account</li> <li>Switch to ScolCoin Chain testnet after unlock your extension wallet and Click at \u201c+\u201d to add your BEP2 token if necessary</li> </ul> <p>Verify your balance has enough SCOL to pay transfer fee</p> <ul> <li>Switch to ScolCoin Chain testnet and copy your address, start with <code>0x</code></li> </ul> <p></p> <p>Click at \u201c+\u201d to add your SRC20 token if necessary</p> <p></p> <ul> <li>Switch to ScolCoin Chain testnet and click on \u201cSend\u201d</li> </ul> <p></p> <ul> <li>Click on \u201cSend\u201d when you have filled in other information. You have to confirm it too</li> </ul> <p></p> <ul> <li>Switch to ScolCoin Chain testnet, you should see your SRC20 token balance change</li> </ul> <p></p>"},{"location":"smart-chain/wallet/binance.html#swap-testnet-src20-token-to-its-bep2-equivalent","title":"Swap Testnet SRC20 token to its BEP2 equivalent","text":"<ul> <li>Follow the instructions above to Install ScolCoin Chain extension wallet if not ready</li> <li>Follow the instructions above to create or Recover your account</li> <li>Switch to ScolCoin Chain testnet and Click at \u201c+\u201d to add your SRC20 token if necessary</li> </ul> <p>Verify your balance has enough SCOL to pay transfer fee</p> <ul> <li>Switch to ScolCoin Chain testnet and copy your address, start with <code>tscol1</code></li> </ul> <p>Note: for mainnet, the address starts with <code>scol1</code></p> <p></p> <ul> <li>Click at \u201c+\u201d to add your BEP2 token if necessary</li> </ul> <p></p> <ul> <li>Switch to ScolCoin Chain testnet and click on \u201cSend\u201d</li> </ul> <p></p> <ul> <li>Confirm your transaction and verify your balance change</li> </ul>"},{"location":"smart-chain/wallet/ezdefi.html","title":"How to use ezDeFi for ScolCoin Chain","text":""},{"location":"smart-chain/wallet/ezdefi.html#install-ezdefi","title":"Install ezDeFi","text":""},{"location":"smart-chain/wallet/ezdefi.html#go-to-httpezdeficom-to-install-the-most-recent-version-of-ezdefi","title":"Go to http://ezdefi.com to install the most recent version of ezDeFi.","text":"<p>Download ezDeFi Mobile App wallet on Apple Appstore or the Google PlayStore and ezDeFi Browser Extension on Chrome Webstore</p> <p> </p>"},{"location":"smart-chain/wallet/ezdefi.html#launch-the-mobile-app-or-browser-extension-in-order-to-start-a-new-wallet","title":"Launch the mobile app (or browser extension) in order to start a new wallet.","text":""},{"location":"smart-chain/wallet/ezdefi.html#get-ready-by-completing-the-initial-setup","title":"Get ready by completing the initial setup.","text":""},{"location":"smart-chain/wallet/ezdefi.html#getting-the-scolcoin-chain","title":"Getting the ScolCoin Chain","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-mobile-app-go-to-setting-advanced-setting-custom-rpc-network-to-see-default-scolcoin-chain-on-browser-extension-go-to-setting-network-to-see-default-scolcoin-chain","title":"On mobile app, go to \"Setting\" =&gt; \"Advanced Setting\" =&gt; \"Custom RPC Network\" to see default ScolCoin Chain . On browser extension, go to \"Setting\" =&gt; \"Network\" to see default ScolCoin Chain","text":""},{"location":"smart-chain/wallet/ezdefi.html#add-scol-token-in-your-wallet","title":"Add SCOL token in your wallet","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-mobile-app-tap-on-the-add-more-search-for-smart-chain-tap-on-the-button-and-create-new-address-of-scol-token","title":"On mobile app, tap on the \"Add more\", search for \"Smart Chain\", tap on the \"+\" button and create new address of SCOL token","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-browser-extension-click-on-more-assets-search-for-smart-chain-select-scol-token","title":"On browser extension, click on \"More Assets\", search for \"Smart Chain\", select SCOL token","text":""},{"location":"smart-chain/wallet/ezdefi.html#back-to-mains-creen-to-see-scol-token-already-added-on-mobile-app-or-browser-extension","title":"Back to mains creen to see SCOL token already added on mobile app (or browser extension)","text":""},{"location":"smart-chain/wallet/ezdefi.html#add-a-address-of-scol-token","title":"Add a address of SCOL token","text":""},{"location":"smart-chain/wallet/ezdefi.html#you-can-add-new-addrew-address-by-create-new-add-existed-address-or-import-of-the-other-wallet","title":"You can add new addrew address by create new, add Existed Address or import of the other wallet","text":""},{"location":"smart-chain/wallet/ezdefi.html#create-new-or-add-existed-address-of-the-other-token","title":"Create New, or add Existed address of the other token","text":""},{"location":"smart-chain/wallet/ezdefi.html#import-from-private-key-from-phrase-recovery-or-mnemonic-phrase-or-from-read-only-address-or-account","title":"Import from Private key, from Phrase recovery (or Mnemonic phrase), or from Read only address (or account)","text":""},{"location":"smart-chain/wallet/ezdefi.html#sending-scol-token","title":"Sending SCOL token","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-mobile-app","title":"On mobile app","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-browser-extension","title":"On browser extension","text":""},{"location":"smart-chain/wallet/ezdefi.html#access-scolcoin-chain-dapps","title":"Access ScolCoin Chain DApps","text":""},{"location":"smart-chain/wallet/ezdefi.html#ezdefi-wallet-is-fully-compatible-with-scolcoin-chain-dapps","title":"ezDeFi Wallet is fully compatible with ScolCoin Chain DApps.","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-mobile-app_1","title":"On mobile app","text":""},{"location":"smart-chain/wallet/ezdefi.html#on-browser-extension_1","title":"On browser extension","text":""},{"location":"smart-chain/wallet/ezdefi.html#ezdefi-at-a-glance","title":"ezDeFi at a glance","text":"<p>ezDeFi \u201cGlobal Payment Ecosystem Based On Blockchain\u201d has 4 key products: Public blockchain, Mobile app wallet, Browser Extension wallet, and Payment gateway. ezDeFi wallet has 2 versions: mobile application and browser extension with features of multi-chain, multi-address, cloud backup, and app-extension sync. ezDeFi Payment Gateway supports merchants with a wide range of blockchains and e-commerce platforms namely: WHMCS, woo-commerce, EDD, and more with a low transaction fee, no-chargeback, and multiple cryptocurrency integration. In 2019, ezDeFi has acquired 523 clients using Payment Gateway, 2000+ downloads for wallets of both mobile app and browesr extension</p>"},{"location":"smart-chain/wallet/faq.html","title":"SCOL Extension Wallet FAQ","text":""},{"location":"smart-chain/wallet/faq.html#tokens-not-visible-after-withdrawing-from-scol","title":"Tokens not visible after withdrawing from SCOL","text":"<p>Many users who interact with a centralized exchange like SCOL eventually want to withdraw to a wallet that they fully control, like MetaMask. So once you've used their withdraw form, what could be scarier than not seeing your tokens?</p> <p>First, you'll need to use the MetaMask add Custom Network feature to add the ScolCoin Chain or ScolCoin Chain's RPC URLs endpoints to your MetaMask.</p> <p>Once you've added the ScolCoin Chain or the ScolCoin Chain to your MetaMask, you will be able to select different networks to view the assets (you may need to add Custom Tokens too) held by your selected account on that network.</p>"},{"location":"smart-chain/wallet/faq.html#how-much-scol-you-need-to-send-tokens","title":"How Much SCOL You Need To Send Tokens","text":"<p>if you try to send tokens without having any SCOL in your account you will be told you have insufficient funds. This means you do not have enough SCOL in your account to cover the cost of gas. Each transaction (including token and contract transactions) require gas and that gas is paid in SCOL. You can think of this like a transaction fee.</p> <p>You can remedy this by sending 0.001 SCOL to that account in order to be able to make the transaction.</p> <p>A standard Ether transfer TX will be 21000 gas &amp; a gas price of 15 Gwei. With tokens, the amount of gas is typically  gas, so the total TX fee increases to 0.002 SCOL - 0.003 SCOL.</p>"},{"location":"smart-chain/wallet/faq.html#current-gas-price","title":"Current Gas Price","text":"<pre><code>curl --location --request POST 'https://nc-dataseed2.scolcoin.com' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"eth_gasPrice\", \"params\": []}'\n</code></pre>"},{"location":"smart-chain/wallet/infinitywallet.html","title":"Using Infinity Wallet on the ScolCoin Chain","text":""},{"location":"smart-chain/wallet/infinitywallet.html#what-is-it","title":"What is it?","text":"<p>Infinity Wallet is the ultimate easy to use, secure, multicurrency, practical and convenient self-custodial cryptocurrency wallet, that provides all a user will ever need in one platform. With a wide range of new and innovative features to access digital assets, empowering financial freedom. </p> <p>Advancing the world of decentralized finance with an all-in-one digital wallet experience and streamlining adoption of cryptocurrency. Infinity Wallet is packed with a wealth of features and designed for the best possible user experience. With a simple and modular interface allowing to interact, monitor, trade, transact, view news and much more in a secure environment, as the one-stop application that a user will ever need for decentralized finance.</p> <p>Connect to DeFi protocols and Dapps directly on desktop or mobile from within the Infinity Wallet, to securely use decentralized platforms without compromising your assets. Providing enhanced ease of use and security, as well as support for multiple chains.</p>"},{"location":"smart-chain/wallet/infinitywallet.html#download-link","title":"Download Link","text":"<ul> <li>Downloads: https://infinitywallet.io/download</li> <li>SCOL Page: https://infinitywallet.io/asset/shree</li> </ul>"},{"location":"smart-chain/wallet/infinitywallet.html#install-infinity-wallet","title":"Install Infinity Wallet","text":""},{"location":"smart-chain/wallet/infinitywallet.html#go-to-httpsinfinitywalletio-to-install-the-most-recent-version-of-the-infinity-wallet","title":"Go to https://infinitywallet.io to install the most recent version of the Infinity Wallet.","text":"<p>The Infinity Wallet is currently available to be downloaded for desktop devices on Windows, macOS and Linux. In the coming months there will be a mobile wallet released to accompany our revolutionary desktop wallet.</p> <p></p>"},{"location":"smart-chain/wallet/infinitywallet.html#launch-the-infinity-wallet-to-create-your-local-account-and-wallet","title":"Launch the Infinity Wallet to create your local account and wallet","text":"<ul> <li>Create a local account, you can name this anything as the account name is only used locally within your own device</li> </ul> <ul> <li>Create a password for your local account and confirm your password</li> </ul> <ul> <li>Select to either create a new wallet or recover an existing wallet (You can import your 12 or 24 word seed phrase from most other wallets into the Infinity Wallet as we follow the standard)</li> </ul> <ul> <li>Give your wallet a name so you can easily identify it within your local account</li> </ul> <ul> <li>If you would like to have additional security, you can create an individual pin for each of your wallets (This is optional)</li> </ul> <ul> <li>Select if you want to use a 12 or 24 word seed </li> </ul> <ul> <li>You will now need to confirm that you understand that you have to backup your 12 or 24 word seed to be able to recover your wallet. We recommend keeping your seed phrase offline and somewhere secure (Never share your seed with anyone, including the Infinity Wallet support team)</li> </ul> <ul> <li>Make a backup of the words on the screen, we recommend making a paper backup and not an online backup. If you ever lose access to your computer or forget your password, you will need your 12 or 24 word seed to recover your wallet (Keep these words secure and never share them with anyone, as these words grant full access to your wallet)</li> </ul> <ul> <li>Confirm a selection of the words in the correct order as requested, to generate your wallet</li> </ul> <ul> <li>Congratulations you have successfully created your Infinity Wallet and can now access the vast array of features it has to offer</li> </ul>"},{"location":"smart-chain/wallet/infinitywallet.html#using-scolcoin-chain","title":"Using ScolCoin Chain","text":"<ul> <li>Now that you have created your wallet you can monitor and manage a wide range of different cryptos within the Infinity Wallet, including SCOL and ScolCoin Chain Tokens</li> </ul>"},{"location":"smart-chain/wallet/infinitywallet.html#receive-scol-on-the-scolcoin-chain","title":"Receive SCOL on the ScolCoin Chain","text":"<ul> <li>To receive SCOL on the ScolCoin Chain you will have to enable it by going to My Wallet and clicking on + Add asset, then select to enable ScolCoin (TC). All TC tokens on the Infinity Wallet will use the same address as SCOL TC</li> </ul> <ul> <li>Now that ScolCoin (TC) is enabled go back to My Wallet and select ScolCoin (TC), to get your receive adddress click on the receive button</li> </ul> <ul> <li>Copy your receive address by clicking on it, or select one of the options to print, share or request an amount to generate a decentralized link to request funds</li> </ul>"},{"location":"smart-chain/wallet/infinitywallet.html#send-scol-on-the-scolcoin-chain","title":"Send SCOL on the ScolCoin Chain","text":"<ul> <li>To send go to My Wallet, select ScolCoin (TC) and then click on the send button</li> </ul> <ul> <li>Either enter an address to send to, select from your contact list, or scan a QR request by importing, scanning with a webcam, or using our drag and scan desktop technology</li> </ul> <ul> <li>If you select to use the drag and scan QR technology, then all you need to do is drag the window over a QR code you have been shared and it will automatically detect the address and fill it in for you as the send address</li> </ul> <ul> <li>Enter the amount of the coin you want to send</li> </ul> <ul> <li>Confirm the details of your send</li> </ul> <ul> <li>Congratulations you have successfully sent</li> </ul>"},{"location":"smart-chain/wallet/infinitywallet.html#connect-to-defi-platforms-and-dapps","title":"Connect to DeFi Platforms and Dapps","text":"<p>Infinity Wallet supports the ability for users to connect securely to decentralized application on the ScolCoin Chain, ScolCoin Chain and Ethereum.</p> <p>To connect your wallet make sure the platform you are connecting to supports Wallet Connect, then go to your Infinity Wallet and click WalletConnect in the bottom left corner.</p> <ul> <li>In the popup that will show you can select one of 3 options to connect, the recommended and easiest option will be to use the \"Desktop Scan\" which uses our drag and scan desktop technology</li> </ul> <p></p> <ul> <li>Drag and resize the desktop QR scanner over the QR you want to scan, in this case we will be connecting to Infinity Crypto (https://infinitycrypto.com/)</li> </ul> <p></p> <ul> <li>Approve the connection between the platform and your wallet. All transactions on the platform will be pushed to be confirmed and signed within the Infinity Wallet, ensuring your keys are never shared and providing maximum security while interacting with Dapps and DeFi</li> </ul> <p></p> <ul> <li>After sucessfully approving the connection between the Infinity Wallet and the Dapp or DeFi platform, you will see that the WalletConnect icon in the bottom left of the Infinity Wallet will be green, signifying that your wallet is now connected to the Dapp or DeFi platform</li> </ul> <p></p> <p></p> <ul> <li>Congratulations you can now start interacting with the Dapp or DeFi platform and confirming all transactions securely from the safety of your Infinity Wallet</li> </ul> <p></p> <ul> <li>On creating a transaction on the Dapp or DeFi platform you will receive a popup request within your Infinity Wallet to send, sign or approve a transaction. You can review the information of the transaction and either accept or decline it</li> </ul> <p></p> <ul> <li>After confirming an interaction, the Infinity Wallet will sign the transaction and push it over the network, without revealing your key to the platform you are interacting with. Within the Infinity Wallet and on the Platform you should see a success message that the transaction was signed and pushed</li> </ul> <p></p> <p>The Infinity Wallet is aiming to push crypto innovation to its limits and has a wide range of future features and UI enhancements on the roadmap, to further expedite global adoption of cryptocurrency. Along with its companion platform Infinity Crypto, which is revolutionizing the DeFi and exchange space on ScolCoin Chain and Ethereum.</p>"},{"location":"smart-chain/wallet/ledger.html","title":"Ledger","text":"<p>SCOL and coins on ScolCoin Chain are supported by the Ledger Nano S hardware wallet. The following describes how to use Ledger Nano S to connect to TC</p>"},{"location":"smart-chain/wallet/ledger.html#requirements","title":"Requirements","text":"<ul> <li>A Ledger Nano S hardware wallet with latest firmware.</li> <li>Latest version of Ethereum app installed</li> <li>An internet connection and an available USB port. Use an adapter for USB-C ports</li> <li>U2F compatible browsers: Google Chrome, Opera, FireFox, Brave</li> </ul>"},{"location":"smart-chain/wallet/ledger.html#app-installation-instructions","title":"App Installation Instructions","text":"<p>Tip<p>The existing Ethereum App is compatible with ScolCoin Chain</p> </p> <p>1) Plug in and unlock your Ledger device, open Ledger Live on your computer, then open the \"Manager\" panel.</p> <p></p> <p>2) Within the \"Manager\" pane, type in \"Ethereum\" in the search field. Locate \"Ethereum\", then click on \"Install\". (Note: Do not use the \"ScolCoin Chain\" App)</p> <p></p> <p></p> <p>3) The Ethereum app will now install on your Ledger device.</p> <p></p>"},{"location":"smart-chain/wallet/ledger.html#enabling-contract-data-for-src20","title":"Enabling contract data for SRC20","text":"<p>Tip<p>Please ensure your enabled contract data before transfering SRC20 tokens </p> </p> <p>If you want to send BEP-20 tokens, you need to activate contract data on your device. Otherwise, invalid status <code>6a80</code> is returned.</p> <p>Steps: </p> <ul> <li>Connect and unlock your Ledger device.</li> <li>Open the Ethereum application.</li> <li>Press the right button to navigate to Settings. Then press both buttons to validate.</li> <li>In the Contract data settings, press both buttons to allow contract data in transactions. </li> <li>The device displays Allowed. </li> </ul>"},{"location":"smart-chain/wallet/ledger.html#connect-with-metamask","title":"Connect with MetaMask","text":"<p>ScolCoin Chain is compatible with MetaMask. Users can use MetaMask as a bridge between Ledger Nano S and ScolCoin Chain to make transactions to the ScolCoin Chain testnet.</p> <p>1) Connect MetaMask to SCOL Testnet by following this guide to add a custom network</p> <ul> <li> <p>Testnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 0x61 (97 in decimal)</li> <li>Symbol: SCOL</li> <li>Block Explorer</li> </ul> </li> <li> <p>Mainnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 0x38 (56 in decimal)</li> <li>Symbol: SCOL</li> <li>Block Explorer</li> </ul> </li> </ul>"},{"location":"smart-chain/wallet/ledger.html#unlock-your-metamask","title":"Unlock your Metamask","text":""},{"location":"smart-chain/wallet/ledger.html#click-on-connect-hardware-wallet","title":"Click on \u201cConnect Hardware Wallet\u201d","text":""},{"location":"smart-chain/wallet/ledger.html#choose-ledger","title":"Choose \u201cLedger\u201d","text":""},{"location":"smart-chain/wallet/ledger.html#choose-your-address","title":"Choose your address","text":"<p>You should see a new account</p> <p></p>"},{"location":"smart-chain/wallet/ledger.html#please-read-this-doc-to-learn-about-how-to-interact-with-blockchain","title":"Please read this doc to learn about how to interact with blockchain.","text":"<p>With Ledger, you need to approve your transaction in your device.</p>"},{"location":"smart-chain/wallet/ledger.html#initiate-a-transfer-transaction-then-click-on-next","title":"Initiate a transfer transaction, then click on next","text":""},{"location":"smart-chain/wallet/ledger.html#review-the-transaction-details-then-confirm-the-same-info-on-ledger-device","title":"Review the transaction details, then confirm the same info on Ledger device","text":""},{"location":"smart-chain/wallet/ledger.html#you-can-view-the-transaction-info-and-confirm-it-on-ledger","title":"You can view the transaction info and confirm it on Ledger:","text":"<p>11) Once the transaction is ready to get signed, your Ledger device will display this screen. Click on both buttons for broadcasting this transaction.</p> <p></p> <p>12) Track the transaction stsatus in \u201cActivity\u201d tab</p> <p></p>"},{"location":"smart-chain/wallet/ledger.html#faq","title":"FAQ","text":"<ol> <li>Fail to tranfer SRC20 tokens</li> </ol> <p>Error message:</p> <p><pre><code> '{\"value\":{\"code\":-32603,\"message\":\"Error: TransportStatusError: Ledger device: Invalid data received (0x6a80)\"}}'\n</code></pre> You need to follow these steps to enable contract data. </p>"},{"location":"smart-chain/wallet/manual.html","title":"How to manually install the ScolCoin Chain Extension Wallet","text":""},{"location":"smart-chain/wallet/manual.html#download-the-zip-file","title":"Download the zip file","text":"<p>Visit https://scolcoin.com/en/</p> <p></p> <p>Click Chrome and you will download the file <code>ScolCoin ChainBrowserExtension-1.114.0.zip</code></p>"},{"location":"smart-chain/wallet/manual.html#install-in-chrome","title":"Install in Chrome","text":"<p>Visit chrome://extensions/</p> <p>Open the Developer mode</p> <p></p> <p>Drag and drop the mathwallet.zip file into the Extension window.</p> <p>Then the install is completed.</p>"},{"location":"smart-chain/wallet/manual.html#other-browsers","title":"Other browsers","text":"<p>The same method is working for the browsers such as Firefox, Brave etc.</p> <p>If you have any other questions, join https://t.me/yourtelegram/bcextensionwallet</p> <p>Note: manually installed version will not upgrade automatically, so you will need to manually install the new version.</p>"},{"location":"smart-chain/wallet/math-resource.html","title":"Math Wallet Tutorials","text":"<ol> <li>ScolCoin Chain \u65b0\u624b\u6307\u5357</li> </ol> <p>Link: http://blog.mathwallet.xyz/?p=3895</p> <ol> <li>\u5982\u4f55\u4f7f\u7528 \u5e01\u5b89\u94fe Staking \u5de5\u5177</li> </ol> <p>Link: http://blog.mathwallet.xyz/?p=3890</p> <ol> <li>\u5982\u4f55\u4f7f\u7528 \u5e01\u5b89\u94fe \u8de8\u94fe\u8f6c\u8d26\u5de5\u5177</li> </ol> <p>Link: http://blog.mathwallet.xyz/?p=3893</p> <ol> <li>SCOL DAPP Dev Tutorial\uff081\uff09- SCOL Smart Contract Develop Environment</li> </ol> <p>Link: http://blog.mathwallet.org/?p=2357</p>"},{"location":"smart-chain/wallet/math.html","title":"How to use Math Wallet for ScolCoin Chain","text":""},{"location":"smart-chain/wallet/math.html#install","title":"Install","text":""},{"location":"smart-chain/wallet/math.html#1-get-app-from-chrome-web-store","title":"1. Get App from Chrome web store","text":""},{"location":"smart-chain/wallet/math.html#2-add-to-your-browser-for-example-brave","title":"2. Add to your browser, for example, Brave","text":""},{"location":"smart-chain/wallet/math.html#setup-your-wallet","title":"Setup Your Wallet","text":""},{"location":"smart-chain/wallet/math.html#1-set-your-password","title":"1. Set your password","text":""},{"location":"smart-chain/wallet/math.html#2-choose-scol-network","title":"2. Choose SCOL network","text":""},{"location":"smart-chain/wallet/math.html#choose-scolcoin-chain-from-this-list","title":"Choose ScolCoin Chain from this list:","text":""},{"location":"smart-chain/wallet/math.html#3-create-your-wallet","title":"3. Create Your Wallet","text":""},{"location":"smart-chain/wallet/math.html#4-save-your-private-key","title":"4. Save your private key","text":"<p>It\u2019s ready, and now you can get some testnet SCOL from the faucet.</p>"},{"location":"smart-chain/wallet/math.html#get-testnet-fund","title":"Get Testnet Fund","text":""},{"location":"smart-chain/wallet/math.html#1-copy-your-address","title":"1. Copy your address.","text":""},{"location":"smart-chain/wallet/math.html#2-go-to-httpstestnet-explorerscolcoincomfaucet-smart","title":"2. Go to https://testnet-explorer.scolcoin.com/faucet-smart/","text":"<p>Go to explorer to verify SCOL is sent: https://scolcoin.com/</p>"},{"location":"smart-chain/wallet/math.html#transfer-scol-from-scol-to-bc-in-testnet","title":"Transfer SCOL from SCOL to BC in Testnet","text":""},{"location":"smart-chain/wallet/math.html#1-create-your-scolcoin-chain-ganges-testnet-address-with-eth-cli","title":"1. Create your ScolCoin Chain Ganges Testnet address with eth-cli","text":"<ul> <li>Download the binary here <p>If you already have a backup of your recovery phrase from ScolCoin Chain Ganges Testnet, it can be reused here. <pre><code>eth-cli keys add {wallet-alias}\n</code></pre></p> </li> </ul>"},{"location":"smart-chain/wallet/math.html#2-go-to-this-page-httpsdevelopermathwalletorgbsc02","title":"2. Go to this page: https://developer.mathwallet.org/bsc02/","text":"<p>Go to this page for mainnet: https://developer.mathwallet.org/bsc01/</p> <p>Paste your testnet address to <code>Recipient</code> and fill the transfer amount. </p> <p>Please note the fees are also deducted for paying gas and cross-chain transfer.</p>"},{"location":"smart-chain/wallet/math.html#3-approve-your-transaction","title":"3. Approve your transaction","text":""},{"location":"smart-chain/wallet/math.html#4-confirm-reception-in-explorer","title":"4. Confirm Reception in explorer","text":"<p>Link: https://explorer.scolcoin.com/testnet</p>"},{"location":"smart-chain/wallet/math.html#transfer-src20-from-scol-to-bc-in-testnet","title":"Transfer SRC20 from SCOL to BC in Testnet","text":"<p>One of the key innovations of a dual-chain architecture is that token issuer can manage its assets on both chains. They could bind BEP2 tokens and SRC20 tokens together. In ScolCoin Chain Ganges Testnet, there are several pegged tokens:</p> <ul> <li>Pegged BTC on ScolCoin Chain Testnet and  ScolCoin Chain Testnet</li> <li>Pegged ETH on  ScolCoin Chain Testnet and  ScolCoin Chain Testnet</li> <li>Pegged XRP on  ScolCoin Chain Testnet and  ScolCoin Chain Testnet</li> </ul> <p>You can get some of these pegged tokens from faucet and transfer them back to ScolCoin Chain testnet.</p>"},{"location":"smart-chain/wallet/math.html#1-approve-this-transaction","title":"1. Approve this transaction","text":""},{"location":"smart-chain/wallet/math.html#2-send-src20-to-bc","title":"2. Send SRC20 To BC","text":""},{"location":"smart-chain/wallet/metamask.html","title":"Use MetaMask For ScolCoin Chain","text":"<p>Tip</p> <p>You may encounter a network configuration issue in recent releases of MetaMask, Please go to \"Upgrade\" section for solution</p>"},{"location":"smart-chain/wallet/metamask.html#what-is-it","title":"What is it?","text":"<p>MetaMask was created out of the needs of creating more secure and usable Ethereum-based web sites. In particular, it handles account management and connecting the user to the blockchain. It\u2019s supported in Chrome, Brave, and Safari browsers.</p>"},{"location":"smart-chain/wallet/metamask.html#install","title":"Install","text":"<p>Example: Install MetaMask in Brave browser</p> <ul> <li>Open Extension Category in Brave: https://chrome.google.com/webstore/category/extensionsSearch for MetaMask</li> </ul> <p></p> <p>Warning</p> <p>Note: Make sure it\u2019s offered by metamask.io</p> <ul> <li>Click on \u201cAdd to Brave\u201d</li> </ul> <p>That\u2019s it! You have successfully installed MetaMask extension in Brave! </p> <p>Tip</p> <p>The workflow is the same for all browsers</p>"},{"location":"smart-chain/wallet/metamask.html#create-an-account-in-metamask-for-scolcoin-chain","title":"Create an account in MetaMask for ScolCoin Chain","text":"<ol> <li>Click on the \u201cCreate a wallet\u201d button</li> </ol> <p> 2. Create Password of at least 8 characters </p> <ol> <li>Click on \u201cCreate\u201d and then write down your backup phrase.</li> </ol> <p></p> <ol> <li>Select each phrase in order to make sure it is correct then click \u201cConfirm\u201d.</li> </ol> <p></p> <p>Congratulations! you have create your MetaMask account!</p>"},{"location":"smart-chain/wallet/metamask.html#connect-your-metamask-with-scolcoin-chain","title":"Connect Your MetaMask With ScolCoin Chain","text":"<ol> <li>Go to setting page</li> </ol> <ol> <li> <p>Add a new network</p> <ul> <li> <p>Testnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 65450 </li> <li>Symbol: SCOL</li> <li>Block Explorer: https://testnet-explorer.scolcoin.com</li> </ul> </li> <li> <p>Mainnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 6552 </li> <li>Symbol: SCOL</li> <li>Block Explorer: https://scolcoin.com</li> </ul> </li> </ul> </li> <li> <p>Claim some testnet token to your account Click on your address for copy </p> </li> <li> <p>Go to faucet page: https://testnet-explorer.scolcoin.com/faucet-smart, then paste your address in the box and click on \u201cGive me SCOL\u201d</p> </li> </ol> <p>Tip</p> <p>Please note that you can only claim once every minute</p> <p> After the transfer transaction is sent, you will see an increase of your balance</p>"},{"location":"smart-chain/wallet/metamask.html#transfer-scol-to-other-scolcoin-chain-address","title":"Transfer SCOL to other ScolCoin Chain address","text":"<ol> <li> <p>Log in to your MetaMask </p> </li> <li> <p>Click on Send button</p> </li> <li> <p>Copy the receiver\u2019s address in the box </p> </li> <li> <p>Input the amount</p> </li> <li> <p>Go to Advanced Options to modify default gas price when necessary  </p> </li> <li> <p>Confirm your transaction, then click Next</p> </li> <li> <p>Click Confirm to send your transaction </p> </li> <li>Wait for your transaction to be included in the new block </li> <li>Once your transaction is confirmed, check it on block explorer by clicking Details  </li> <li>Click on your account to see \"Details'' </li> </ol> <p>Verify your transaction in Explorer: </p>"},{"location":"smart-chain/wallet/metamask.html#add-src20-tokens","title":"Add SRC20 Tokens","text":"<ol> <li> <p>Deploy an ERC20 contract at https://remix.ethereum.org/ You can create a new file or import a sample contract: https://gist.github.com/HaoyangLiu/3c4dc081b7b5250877e40b82667c8508 </p> </li> <li> <p>Connect your ScolCoin Chain Account to Remix </p> </li> <li>Select \u201cABCToken\u201d contract and compile </li> <li>Deploy your compiled contract </li> <li> <p>Adjust Gas Fee for your contract, then confirm your deploy contract  You can see that there is a new ceate contract transaction in block explorer </p> </li> <li> <p>In MetaMask, Click on \u201cAdd Token\u201d </p> </li> <li> <p>Choose \u201cCustom Token\u201d and copy the contract address in the box </p> </li> <li> <p>Click on \u201cAdd Tokens\u201d  Then you can see change of your balance </p> </li> </ol>"},{"location":"smart-chain/wallet/metamask.html#create-multiple-accounts","title":"Create Multiple Accounts","text":"<ol> <li> <p>To create multiple accounts, you click on Profile icon on MetaMask and then click on Create Account </p> </li> <li> <p>You can then add an account name and click on Create. </p> </li> <li> <p>Then you can see a new account is created! </p> </li> </ol>"},{"location":"smart-chain/wallet/metamask.html#upgrade","title":"Upgrade","text":"<p>Since the release of v8.1.3, MetaMask sometimes displays the warning message \"Invalid Custom Network\".  </p> <p></p> <p>To solve this issue, click on \"'Settings\" and enter Chain ID of ScolCoin Chain network again. If 56 doesn\u2019t work, try 0x38. </p> <p></p> <p></p>"},{"location":"smart-chain/wallet/myetherwallet.html","title":"MyEtherWallet","text":""},{"location":"smart-chain/wallet/myetherwallet.html#connect-to-metamask-on-mew","title":"Connect to MetaMask on MEW","text":"<p>Unlock your MetaMask first Open new MEW page &gt; Click \u201caccess my wallet\u201d</p> <p></p> <p>Click MEX CX</p> <p></p> <p>Agree with connection</p> <p></p> <p>Now you are all set!</p>"},{"location":"smart-chain/wallet/staking.html","title":"Staking with extension wallet","text":""},{"location":"smart-chain/wallet/staking.html#how-to-delegate-your-scol-with-extension-wallet","title":"How to delegate your SCOL with extension wallet","text":"<ul> <li>Install ScolCoin Chain extension wallet</li> <li> <p>Go to the staking page:</p> <ul> <li>Mainnet: https://www.scolcoin.com/en/staking</li> <li>Testnet: https://testnet-staking.scolcoin.com/en/staking </li> </ul> </li> </ul> <p>Testnet example</p> <p></p> <ul> <li>Click on \u201cConnect Wallet\u201d</li> </ul> <p></p> <ul> <li>Unlock your wallet</li> </ul> <p></p> <ul> <li>Click on \u201cdelegate\u201d and input the amount</li> </ul> <p></p> <ul> <li>Confirm your transaction in extension wallet</li> </ul> <p></p> <p>Success</p> <p></p> <ul> <li>your delegation overview</li> </ul> <p></p> <p>You can see the staking history here</p> <p></p>"},{"location":"smart-chain/wallet/staking.html#how-to-redelegate-your-scol-with-extension-wallet","title":"How to redelegate your SCOL with extension wallet","text":"<p>By staking you SCOL, you participate in the selection process of ScolCoin Chain validators and earn rewards. Staking SCOL is critical for securing the network. Validators can self-bond, meaning they can delegate SCOL to themselves, and they can also receive delegations from any other SCOL holders.</p> <p>Redelegations between a unique delegator, source validator, and destination validator can only happen once every 7 days</p> <ul> <li>Click on redelegate</li> </ul> <p></p> <ul> <li>Select a new validator and redegelate amount</li> </ul> <p></p> <ul> <li>Confirm your transaction in extension wallet</li> </ul> <p></p> <p>Success</p> <p></p> <ul> <li>Refresh and see your delegation changes</li> </ul> <p></p>"},{"location":"smart-chain/wallet/staking.html#how-to-undelegate-your-scol-with-extension-wallet","title":"How to undelegate your SCOL with extension wallet","text":"<ul> <li>Click on undelegate</li> </ul> <ul> <li>input the amount</li> </ul> <ul> <li>Confirm your transaction in extension wallet</li> </ul> <p>Success</p> <p></p> <ul> <li>Refresh and see your delegation changes</li> </ul> <p></p>"},{"location":"smart-chain/wallet/trezor.html","title":"Trezor","text":"<p>SCOL and coins on ScolCoin Chain are supported by the Trezor hardware wallet. The following describes how to use Trezor to connect to TC.</p>"},{"location":"smart-chain/wallet/trezor.html#requirements","title":"Requirements","text":"<ul> <li>Visit https://wallet.trezor.io and initialize your Trezor</li> <li>Trezor Model T firmware version 2.3.0.</li> <li>Trezor Model One firmware version 1.9.3.</li> <li>An internet connection and an available USB port. Use an adapter for USB-C ports</li> <li>U2F compatible browsers: Google Chrome, Opera, FireFox, Brave</li> </ul>"},{"location":"smart-chain/wallet/trezor.html#connect-with-metamask","title":"Connect with MetaMask","text":"<p>ScolCoin Chain is compatible with MetaMask. Users can use MetaMask as a bridge between Trezor and ScolCoin Chain to make transactions to the ScolCoin Chain testnet.</p> <p>1) Connect MetaMask to SCOL Testnet by following this guide to add a custom network</p> <ul> <li> <p>Testnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 97</li> <li>Symbol: SCOL</li> <li>Block Explorer</li> </ul> </li> <li> <p>Mainnet</p> <ul> <li>RPC URLs</li> <li>ChainID: 56</li> <li>Symbol: SCOL</li> <li>Block Explorer](https://bscscan.com)</li> </ul> </li> </ul> <p></p>"},{"location":"smart-chain/wallet/trezor.html#unlock-your-metamask","title":"Unlock your Metamask","text":""},{"location":"smart-chain/wallet/trezor.html#click-on-connect-hardware-wallet","title":"Click on \u201cConnect Hardware Wallet\u201d","text":""},{"location":"smart-chain/wallet/trezor.html#choose-an-address-in-your-trezor","title":"Choose an address in your Trezor","text":"<p>You should see a new account</p> <p></p>"},{"location":"smart-chain/wallet/trezor.html#transfer-guide","title":"Transfer Guide","text":""},{"location":"smart-chain/wallet/trezor.html#initiate-a-transfer-transaction-then-click-on-next","title":"Initiate a transfer transaction, then click on next","text":""},{"location":"smart-chain/wallet/trezor.html#review-the-transaction-details-then-confirm-the-same-info-in-your-trezor-device","title":"Review the transaction details, then confirm the same info in your Trezor device","text":""},{"location":"smart-chain/wallet/trezor.html#confirm-the-same-info-in-your-trezor-device","title":"Confirm the same info in your Trezor device","text":""},{"location":"smart-chain/wallet/trezor.html#track-the-transaction-stsatus-in-activity-tab","title":"Track the transaction stsatus in \u201cActivity\u201d tab","text":""},{"location":"smart-chain/wallet/trustwallet.html","title":"Using Trust Wallet for ScolCoin Chain","text":""},{"location":"smart-chain/wallet/trustwallet.html#install-trust-wallet","title":"Install Trust Wallet","text":""},{"location":"smart-chain/wallet/trustwallet.html#go-to-httpstrustwalletcom-to-install-the-most-recent-version-of-trust-wallet","title":"Go to https://trustwallet.com to install the most recent version of Trust Wallet.","text":"<p>Trust Wallet can be downloded from the Apple Appstore or from the Google PlayStore.</p> <p></p>"},{"location":"smart-chain/wallet/trustwallet.html#launch-the-app-in-order-to-create-a-new-wallet-and-accept-the-terms-of-use","title":"Launch the app in order to create a new wallet and accept the terms of use.","text":""},{"location":"smart-chain/wallet/trustwallet.html#backup-the-recovery-phrase-and-keep-it-secure-at-all-times","title":"Backup the recovery phrase and keep it secure at all times.","text":""},{"location":"smart-chain/wallet/trustwallet.html#complete-the-initial-setup-and-youre-wallet-is-ready-for-use","title":"Complete the initial setup and you're wallet is ready for use.","text":""},{"location":"smart-chain/wallet/trustwallet.html#getting-the-smart-chain-address","title":"Getting the Smart Chain Address","text":""},{"location":"smart-chain/wallet/trustwallet.html#tap-on-the-toggle-at-the-upper-right-and-then-search-for-smart-chain","title":"Tap on the toggle at the upper right and then search for \"Smart Chain\".","text":""},{"location":"smart-chain/wallet/trustwallet.html#get-the-smart-chain-address-by-tapping-on-copy-or-receive-to-display-the-qr-code","title":"Get the Smart Chain address by tapping on Copy, or Receive to display the QR code.","text":""},{"location":"smart-chain/wallet/trustwallet.html#receive-scol-and-src20-tokens","title":"Receive SCOL and SRC20 tokens","text":""},{"location":"smart-chain/wallet/trustwallet.html#your-smart-chain-address-is-able-to-receive-scol-or-src20-tokens","title":"Your Smart Chain address is able to receive SCOL or SRC20 tokens.","text":""},{"location":"smart-chain/wallet/trustwallet.html#withdraw-scolcoin-scol-from-scol","title":"Withdraw ScolCoin (SCOL) from SCOL.","text":""},{"location":"smart-chain/wallet/trustwallet.html#src20-tokens-are-also-supported-by-trust-wallet","title":"SRC20 tokens are also supported by Trust Wallet.","text":""},{"location":"smart-chain/wallet/trustwallet.html#sending-scol-to-a-smart-chain-address","title":"Sending SCOL to a Smart Chain address","text":""},{"location":"smart-chain/wallet/trustwallet.html#tap-on-send-to-initiate-the-transfer-then-fill-in-recepient-address-and-amount","title":"Tap on Send to initiate the transfer, then fill in Recepient address and Amount.","text":""},{"location":"smart-chain/wallet/trustwallet.html#confirm-the-transaction-by-tapping-on-send-transaction-will-be-done-in-seconds","title":"Confirm the transaction by tapping on Send. Transaction will be done in seconds.","text":""},{"location":"smart-chain/wallet/trustwallet.html#access-scolcoin-chain-dapps","title":"Access ScolCoin Chain DApps","text":""},{"location":"smart-chain/wallet/trustwallet.html#switching-to-smart-chain-network-to-access-dapps","title":"Switching to Smart Chain Network to access DApps.","text":""},{"location":"smart-chain/wallet/trustwallet.html#type-the-url-on-the-built-in-browser-in-order-to-access-a-dapp","title":"Type the URL on the built in browser in order to access a DApp.","text":""},{"location":"smart-chain/wallet/trustwallet.html#tap-on-the-eth-logon-on-the-upper-right-corner-to-see-network-options-choose-smart-chain","title":"Tap on the ETH logon on the upper right corner to see Network options. Choose Smart Chain.","text":""},{"location":"smart-chain/wallet/trustwallet.html#trust-wallet-is-fully-compatible-with-scolcoin-chain-dapps","title":"Trust Wallet is fully compatible with ScolCoin Chain DApps.","text":""},{"location":"smart-chain/wallet/trustwallet.html#more-dapps-will-be-added-on-the-built-in-browser-for-convenience","title":"More DApps will be added on the built-in browser for convenience.","text":""},{"location":"smart-chain/wallet/trustwallet.html#resources","title":"Resources:","text":"<ul> <li>Trust Wallet Now Supports ScolCoin Chain (TC)</li> <li>Trust Wallet supports SRC20 Tokens</li> <li>Access ScolCoin Chain DApps with Trust Wallet</li> </ul>"},{"location":"smart-chain/wallet/wallet_api.html","title":"Wallet api","text":"<p>ScolCoin Chain Wallet injects a global API into websites visited by its users at <code>window.ScolCoin Chain</code>.</p> <p>This API specification borrows heavily from API MetaMask provided, considering the massive adoption. So Web3 site developers can easily connect their dApps with the ScolCoin Chain Wallet. The APIs allow websites to request users' ScolCoin Chain addresses, read data from the blockchain the user is connected to, and prompt the users to sign messages and transactions.</p> <p>The presence of the provider object <code>window.ScolCoin Chain</code> indicates a ScolCoin Chain/ScolCoin Chain user.</p> <p>The API this extension wallet provides includes API specified by EIP-1193 and API defined by MetaMask (including some massively relied legacy ones).</p>"},{"location":"smart-chain/wallet/wallet_api.html#development-progress","title":"Development Progress","text":"<p>Currently (version 1.112.8) as ScolCoin Chain Wallet natively supports ScolCoin Chain, we are planning to open a series of APIs for dApp developers to interact with ScolCoin Chain. At the end of the day, most APIs available in ScolCoin Chain javascript sdk would be available.</p> <p>Currently, only the following is supported: * <code>transfer</code> </p>"},{"location":"smart-chain/wallet/wallet_api.html#difference-with-metamask","title":"Difference with MetaMask","text":"<p>Warning</p> <p>Please read through this section if you are a web3 developer who has integrated with MetaMask and interested in integrating with ScolCoin Chain Wallet.</p>"},{"location":"smart-chain/wallet/wallet_api.html#inpage-injected-object","title":"Inpage injected object","text":"<p>The biggest difference between ScolCoin Chain Wallet and MetaMask is we inject <code>ScolCoin Chain</code> rather than <code>ethereum</code> (or <code>web3</code>) to the web page. So user could keep two extensions at the same time.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainrequestmethod-eth_sign-params-address-message","title":"ScolCoin Chain.request({method: \"eth_sign\", params: [\"address\", \"message\"])","text":"<p>We haven't supported the full complex signing data APIs MetaMask provided, while we only provide standard <code>eth_sign</code> JSON-RPC call. </p> <p>The <code>message</code> item in params for this request on MetaMask has to be hex-encoded keccak256 hash (otherwise the API would silent failure for dapp https://www.reddit.com/r/Metamask/comments/9wp7kj/eth_sign_not_working/). In contrast, web3 developers could pass any message in plaintext to this method, and our UI would render it as it is to the wallet users.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainrequestmethod-eth_accounts","title":"ScolCoin Chain.request({method: \"eth_accounts\"})","text":"<p>When this API is invoked without the user's approval, MetaMask would return an empty array.</p> <p>In contrast, we would ask the user to unlock his wallet and return the address user connected to.</p>"},{"location":"smart-chain/wallet/wallet_api.html#upcoming-breaking-changes","title":"Upcoming Breaking Changes","text":"<p>Warning</p> <p>Important Information</p> <p>On November 16, 2020, MetaMask is making changes to their provider API that will be breaking for some web3 sites. These changes are upcoming, but you can prepare for them today. Follow this GitHub issue for updates.</p> <p>In this implementation, some APIs will be supported as Legacy API (For example we will still implement the <code>chainIdChanged</code> on ScolCoin Chain object until MetaMask formally deprecates it).</p>"},{"location":"smart-chain/wallet/wallet_api.html#basic-usage","title":"Basic Usage","text":"<p>For any non-trivial ScolCoin Chain web application \u2014 a.k.a. web3 site \u2014 to work, you will have to:</p> <ol> <li>Detect the ScolCoin Chain provider (<code>window.ScolCoin Chain</code>)</li> <li>Detect which ScolCoin Chain network the user is connected to</li> <li>Get the user's ScolCoin Chain account(s)</li> </ol> <p>You can learn how to accomplish the <code>2</code> and <code>3</code> from above list by reviewing the snippet in the Using the Provider section.</p> <p>The provider API is all you need to create a full-featured web3 application.</p> <p>That said, many developers use a convenience library, such as ethers and web3.js, instead of using the provider directly. If you need higher-level abstractions than those provided by this API, we recommend that you use a convenience library.</p> <p>Today, many dApps are built on top of the higher-level API provided by web3-react or use-wallet (which builds on top of web3-react). </p> <ul> <li>web3-react</li> </ul> <p>We made a tiny lib nc-connector that implements the AbstractConnector interface of web3-react library. You can add this to your project in parallel with injected-connector by: <code>yarn add @shree-chain/nc-connector</code> or <code>npm i @shree-chain/nc-connector</code>.</p> <pre><code>import { BscConnector } from '@shree-chain/nc-connector'\n\nexport const bsc = new BscConnector({\n  supportedChainIds: [56, 97] // later on 1 ethereum mainnet and 3 ethereum ropsten will be supported\n})\n\n// invoke method on bsc e.g.\nawait bsc.activate();\nawait bsc.getAccount();\nawait bsc.getChainId();\n</code></pre> <ul> <li>use-wallet</li> </ul> <p>There is an example in use-wallet origin repo shows how to 'inject' a customized web3-react connector to <code>UseWalletProvider</code>:</p> <pre><code>function App() {\n  const { account, connect, reset, status } = useWallet()\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;ScolCoin Chain Connector&lt;/h1&gt;\n      {status === 'disconnected' ? (\n        &lt;button onClick={() =&gt; connect('bsc')}&gt;Connect&lt;/button&gt;\n      ) : (\n        &lt;button onClick={() =&gt; reset()}&gt;Disconnect&lt;/button&gt;\n      )}\n      {account &amp;&amp; &lt;p&gt;Connected as {account}&lt;/p&gt;}\n    &lt;/div&gt;\n  )\n}\n\nrender(\n  &lt;UseWalletProvider\n    connectors={{\n      bsc: {\n        web3ReactConnector() {\n          return new BscConnector({ supportedChainIds: [56, 97] })\n        },\n        handleActivationError(err) {\n          if (err instanceof UserRejectedRequestError) {\n            return new ConnectionRejectedError()\n          }\n        },\n      },\n    }}\n  &gt;\n  &lt;App /&gt;\n  &lt;/UseWalletProvider&gt;,\n  document.getElementById('root')\n)\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#chain-ids","title":"Chain IDs","text":"<p>Warning</p> <p>At the moment, the <code>ScolCoin Chain.chainId</code> property and the <code>chainChanged</code> event should be preferred over the <code>eth_chainId</code> RPC method.</p> <p>Their chain ID values are correctly formatted, per the table below.</p> <p><code>eth_chainId</code> returns an incorrectly formatted (0-padded) chain ID for the chains in the table below, e.g. <code>0x01</code> instead of <code>0x1</code>. See the Upcoming Breaking Changes section for details on when the <code>eth_chainId</code> RPC method will be fixed.</p> <p>Custom RPC endpoints are not affected; they always return the chain ID specified by the user.</p> <p>These are the IDs of the SCOL Chains that ScolCoin Chain Wallet supports by default.</p> Hex Decimal Network 0x38 56 ScolCoin Chain Main Network (nc-mainnet) 0x61 97 ScolCoin Chain Test Network (nc-testnet) <p>This API can also return chain ids of SCOL Chains if users switch to them. The possible return value would be: | Chain Id             | Network                                  | | -------------------- | ---------------------------------------- | | SCOL-Chain-Tigris | ScolCoin Chain Main Network (bbc-mainnet) | | SCOL-Chain-Ganges | ScolCoin Chain Test Network (bbc-testnet) |</p>"},{"location":"smart-chain/wallet/wallet_api.html#properties","title":"Properties","text":""},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainchainid","title":"ScolCoin Chain.chainId","text":"<p>Warning</p> <p>The value of this property can change at any time, and should not be exclusively relied upon. See the <code>chainChanged</code> event for details.</p> <p>NOTE: See the Chain IDs section for important information about the ScolCoin Chain Wallet provider's chain IDs.</p> <p>A hexadecimal string representing the current chain ID.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainautorefreshonnetworkchange","title":"ScolCoin Chain.autoRefreshOnNetworkChange","text":"<p>As the consumer of this API, it is your responsibility to handle chain changes using the <code>chainChanged</code> event. We recommend reloading the page on <code>chainChange</code> unless you have a good reason not to.</p> <p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <p>To disable this behavior, set this property to <code>false</code> immediately after detecting the provider:</p> <pre><code>ScolCoin Chain.autoRefreshOnNetworkChange = false;\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#methods","title":"Methods","text":""},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainisconnected","title":"ScolCoin Chain.isConnected()","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.isConnected(): boolean;\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainrequestargs","title":"ScolCoin Chain.request(args)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <p>We use this method to wrap an RPC API, Please see the Ethereum wiki.</p> <p>Important methods from this API include:</p> <ul> <li><code>eth_accounts</code></li> <li><code>eth_call</code></li> <li><code>eth_getBalance</code></li> <li><code>eth_sendTransaction</code></li> <li><code>eth_sign</code></li> </ul> <pre><code>interface RequestArguments {\nmethod: string;\nparams?: unknown[] | object;\n}\n\nScolCoin Chain.request(args: RequestArguments): Promise&lt;unknown&gt;;\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#example","title":"Example","text":"<p>The code snippet below is as same as MetaMask's example, the only difference is we injected a different object.</p> <pre><code>params: [\n{\nfrom: '0xb60e8dd61c5d32be8058bb8eb970870f07233155',\nto: '0xd46e8dd67c5d32be8058bb8eb970870f07244567',\ngas: '0x76c0', // 30400\ngasPrice: '0x9184e72a000', // 10000000000000\nvalue: '0x9184e72a', // 2441406250\ndata:\n'0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675',\n},\n];\n\nScolCoin Chain\n.request({\nmethod: 'eth_sendTransaction',\nparams,\n})\n.then((result) =&gt; {\n// The result varies by by RPC method.\n// For example, this method will return a transaction hash hexadecimal string on success.\n})\n.catch((error) =&gt; {\n// If the request fails, the Promise will reject with an error.\n});\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainscolsignaddress-string-message-string-promisepublickey-string-signature-string","title":"ScolCoin Chain.scolSign(address: string, message: string): Promise&lt;{publicKey: string, signature: string}&gt;","text":"<p>We prepared an example for this API, please check out:https://github.com/githubusername/githubrepo/js-eth-personal-sign-examples for more detail</p> <p>Like <code>eth_sign</code> enable dapp to verify a user has control over an ethereum address by signing an arbitrary message. We provide this method for dapp developers to request the signature of arbitrary messages for ScolCoin Chain (BC) and ScolCoin Chain (TC).</p> <p>If <code>address</code> parameter is a shree chain address (start with <code>scol</code> or <code>tscol</code>), we will simply calculate sha256 hash of the message and let user sign the hash with his shree chain address' private key. Note: ScolCoin Chain uses the same elliptic curve (<code>secp256k1</code>) as Ethereum.</p> <p>If <code>address</code> parameter is a ScolCoin Chain address (start with <code>0x</code>), the message would be hashed in the same way with <code>eth_sign</code>.</p> <p>The returned <code>publicKey</code> would be a compressed encoded format (a hex string encoded 33 bytes starting with \"0x02\", \"0x03\") for ScolCoin Chain. And uncompressed encoded format (a hex string encoded 65 bytes starting with \"0x04\").</p> <p>The returned <code>signature</code> would be bytes encoded in hex string starting with <code>0x</code>. For ScolCoin Chain, its r,s catenated 64 bytes in total. For ScolCoin Chain, like <code>eth_sign</code>, its r, s catenated 64 bytes and a recover byte in the end.</p> <p>Warning</p> <p>DApp developers should verify whether the returned public key can be converted into the address user claimed in addition to an ECDSA signature verification. Because any plugin can inject the same object <code>ScolCoin Chain</code> as ScolCoin Chain Wallet.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainswitchnetworknetworkid-string-promisenetworkid-string","title":"ScolCoin Chain.switchNetwork(networkId: string): Promise&lt;{networkId: string}&gt;","text":"<p>As ScolCoin Chain Wallet natively supports ScolCoin Chain and ScolCoin Chain which are heterogeneous blockchains run in parallel. APIs would be different in any situation. (We would open APIs for ScolCoin Chain very soon).</p> <p>Developers could judge which network is selected by user currently via <code>ScolCoin Chain.chainId</code> or listening to the <code>chainChanged</code> event via <code>ScolCoin Chain.on('chainChanged', callback)</code>.</p> <p>To request for network switching, developers could invoke this API with <code>bbc-mainnet</code> (ScolCoin Chain Main Network), <code>nc-mainnet</code> (ScolCoin Chain Main Network), <code>bbc-testnet</code> (ScolCoin Chain Test Network), <code>nc-testnet</code> (ScolCoin Chain Test Network) to prompt user to agree on network switching.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainrequestaccounts","title":"ScolCoin Chain.requestAccounts()","text":"<p>Request all accounts maintained by this extension.</p> <p>The <code>id</code> in response would be used as <code>accountId</code> for the APIs for ScolCoin Chain. </p> <p>This method would return an array of Account: <pre><code>{\n  addresses: [{address: string, type: string}],\n  icon: string,\n  id: string,\n  name: string\n}\n</code></pre></p> <p>For example: <pre><code>[\n    {\n        \"id\":\"fba0b0ce46c7f79cd7cd91cdd732b6c699440acf8c539d7e7d753d38c9deea544230e51899d5d9841b8698b74a3c77b79e70d686c76cb35dca9cac0e615628ed\",\n        \"name\":\"Account 1\",\n        \"icon\":\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9InNjLXBraElSIGhnRUNmUyI+PHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iOCIgZmlsbD0iI2ZjNmU3NSI+PC9yZWN0Pjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0iY2VudHJhbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFlMjAyNiIgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OkJpbmFuY2VQbGV4LCAtYXBwbGUtc3lzdGVscolAmI3gyNzsuU0ZOU1RleHQtUmVndWxhciYjeDI3OywgJiN4Mjc7U2FuIEZyYW5jaXNjbyYjeDI3OywKQmxpbmtNYWNTeXN0ZW1Gb250LCAmI3gyNzsuUGluZ0ZhbmctU0MtUmVndWxhciYjeDI3OywgJiN4Mjc7TWljcm9zb2Z0IFlhSGVpJiN4Mjc7LCAmI3gyNztTZWdvZSBVSSYjeDI3OywgJiN4Mjc7SGVsdmV0aWNhIE5ldWUmI3gyNzssCkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiPkE8L3RleHQ+PC9zdmc+\",\n        \"addresses\":[\n            {\n                \"type\":\"bbc-testnet\",\n                \"address\":\"tscol1akt8vgstdaz8pax5zgykzee5u9kamjdkkcf2dw\"\n            },\n            {\n                \"type\":\"bbc-mainnet\",\n                \"address\":\"scol1akt8vgstdaz8pax5zgykzee5u9kamjdkcdqwdl\"\n            },\n            {\n                \"type\":\"eth\",\n                \"address\":\"0x43364696e478E344E95831CE8427623202e5CBFb\"\n            }\n        ]\n    }\n]\n</code></pre></p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chaintransferfromaddressstring-toaddressstring-assetstring-amountnumber-memo-string-sequence-number-accountidstring-networkidstring","title":"ScolCoin Chain.transfer({fromAddress:string, toAddress:string, asset:string, amount:number, memo?: string, sequence?: number, accountId:string, networkId:string})&gt;","text":"<p>Transfer certain <code>amount</code> of <code>asset</code> (SCOL or BEP2) on ScolCoin Chain.</p> <p><code>accountId</code> could be retrieved from the <code>ScolCoin Chain.requestAccounts</code> API (<code>id</code> field of each account)</p> <p><code>networkId</code> could be <code>bbc-mainnet</code> or <code>bbc-testnet</code></p> <p>For example:</p> <ol> <li> <p>This will ask the user's approval for transferring 1 SCOL to himself. <code>ScolCoin Chain.transfer({fromAddress:\"tscol1sndxdzsg42jg8lc0hehx8dzzpyfxrvq937mt0w\", toAddress:\"tscol1sndxdzsg42jg8lc0hehx8dzzpyfxrvq937mt0w\", asset:\"SCOL\", amount:1, accountId:\"fba0b0ce46c7f79cd7cd91cdd732b6c699440acf8c539d7e7d753d38c9deea544230e51899d5d9841b8698b74a3c77b79e70d686c76cb35dca9cac0e615628ed\", networkId:\"bbc-testnet\"})</code></p> </li> <li> <p>This will ask the user's approval for transferring 1 BUSD to himself. <code>ScolCoin Chain.transfer({fromAddress:\"tscol1sndxdzsg42jg8lc0hehx8dzzpyfxrvq937mt0w\", toAddress:\"tscol1sndxdzsg42jg8lc0hehx8dzzpyfxrvq937mt0w\", asset:\"BUSD-BAF\", amount:1, accountId:\"fba0b0ce46c7f79cd7cd91cdd732b6c699440acf8c539d7e7d753d38c9deea544230e51899d5d9841b8698b74a3c77b79e70d686c76cb35dca9cac0e615628ed\", networkId:\"bbc-testnet\"})</code></p> </li> </ol>"},{"location":"smart-chain/wallet/wallet_api.html#events","title":"Events","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('accountsChanged', (accounts) =&gt; {\n// Handle the new accounts, or lack thereof.\n// \"accounts\" will always be an array, but it can be empty.\n});\n\nScolCoin Chain.on('chainChanged', (chainId) =&gt; {\n// Handle the new chain.\n// Correctly handling chain changes can be complicated.\n// We recommend reloading the page unless you have a very good reason not to.\nwindow.location.reload();\n});\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#connect","title":"connect","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>interface ConnectInfo {\nchainId: string;\n}\n\nScolCoin Chain.on('connect', handler: (connectInfo: ConnectInfo) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#disconnect","title":"disconnect","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('disconnect', handler: (error: ProviderRpcError) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#accountschanged","title":"accountsChanged","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('accountsChanged', handler: (accounts: Array&lt;string&gt;) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#chainchanged","title":"chainChanged","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('chainChanged', handler: (chainId: string) =&gt; void);\n</code></pre> <pre><code>ScolCoin Chain.on('chainChanged', (_chainId) =&gt; window.location.reload());\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#message","title":"message","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>interface ProviderMessage {\ntype: string;\ndata: unknown;\n}\n\nScolCoin Chain.on('message', handler: (message: ProviderMessage) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#errors","title":"Errors","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p>"},{"location":"smart-chain/wallet/wallet_api.html#using-the-provider","title":"Using the Provider","text":"<p>This snippet explains how to accomplish the three most common requirements for web3 sites:</p> <ul> <li>Detect which ScolCoin Chain network the user is connected to</li> <li>Get the user's ScolCoin Chain account(s)</li> </ul> <pre><code>/**********************************************************/\n/* Handle chain (network) and chainChanged (per EIP-1193) */\n/**********************************************************/\n\n// Normally, we would recommend the 'eth_chainId' RPC method, but it currently\n// returns incorrectly formatted chain ID values.\nlet currentChainId = ScolCoin Chain.chainId;\n\nScolCoin Chain.on('chainChanged', handleChainChanged);\n\nfunction handleChainChanged(_chainId) {\n  // We recommend reloading the page, unless you must do otherwise\n  window.location.reload();\n}\n\n/***********************************************************/\n/* Handle user accounts and accountsChanged (per EIP-1193) */\n/***********************************************************/\n\nlet currentAccount = null;\nScolCoin Chain\n  .request({ method: 'eth_accounts' })\n  .then(handleAccountsChanged)\n  .catch((err) =&gt; {\n    // Some unexpected error.\n    // For backwards compatibility reasons, if no accounts are available,\n    // eth_accounts will return an empty array.\n    console.error(err);\n  });\n\n// Note that this event is emitted on page load.\n// If the array of accounts is non-empty, you're already\n// connected.\nScolCoin Chain.on('accountsChanged', handleAccountsChanged);\n\n// For now, 'eth_accounts' will continue to always return an array\nfunction handleAccountsChanged(accounts) {\n  if (accounts.length === 0) {\n    // ScolCoin Chain Wallet is locked or the user has not connected any accounts\n    console.log('Please connect to ScolCoin Chain Wallet.');\n  } else if (accounts[0] !== currentAccount) {\n    currentAccount = accounts[0];\n    // Do any other work!\n  }\n}\n\n/*********************************************/\n/* Access the user's accounts (per EIP-1102) */\n/*********************************************/\n\n// You should only attempt to request the user's accounts in response to user\n// interaction, such as a button click.\n// Otherwise, you popup-spam the user like it's 1999.\n// If you fail to retrieve the user's account(s), you should encourage the user\n// to initiate the attempt.\ndocument.getElementById('connectButton', connect);\n\nfunction connect() {\n  ScolCoin Chain\n    .request({ method: 'eth_requestAccounts' })\n    .then(handleAccountsChanged)\n    .catch((err) =&gt; {\n      if (err.code === 4001) {\n        // EIP-1193 userRejectedRequest error\n        // If this happens, the user rejected the connection request.\n        console.log('Please connect to MetaMask.');\n      } else {\n        console.error(err);\n      }\n    });\n}\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#legacy-api","title":"Legacy API","text":"<p>Warning</p> <p>You should never rely on any of these methods, properties, or events in practice.</p> <p>This section documents MetaMask's legacy provider API.</p> <p>To be compatible with existing dApps that support MetaMask, ScolCoin Chain Wallet implements them as well, but please don't rely on them. We may deprecate them soon in the future.</p>"},{"location":"smart-chain/wallet/wallet_api.html#legacy-properties","title":"Legacy Properties","text":""},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainnetworkversion-deprecated","title":"ScolCoin Chain.networkVersion (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainselectedaddress-deprecated","title":"ScolCoin Chain.selectedAddress (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p>"},{"location":"smart-chain/wallet/wallet_api.html#legacy-methods","title":"Legacy Methods","text":""},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainenable-deprecated","title":"ScolCoin Chain.enable() (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainsendasync-deprecated","title":"ScolCoin Chain.sendAsync() (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>interface JsonRpcRequest {\nid: string | undefined;\njsonrpc: '2.0';\nmethod: string;\nparams?: Array&lt;any&gt;;\n}\n\ninterface JsonRpcResponse {\nid: string | undefined;\njsonrpc: '2.0';\nmethod: string;\nresult?: unknown;\nerror?: Error;\n}\n\ntype JsonRpcCallback = (error: Error, response: JsonRpcResponse) =&gt; unknown;\n\nScolCoin Chain.sendAsync(payload: JsonRpcRequest, callback: JsonRpcCallback): void;\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#scolcoin-chainsend-deprecated","title":"ScolCoin Chain.send() (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.send(\nmethodOrPayload: string | JsonRpcRequest,\nparamsOrCallback: Array&lt;unknown&gt; | JsonRpcCallback,\n): Promise&lt;JsonRpcResponse&gt; | void;\n</code></pre> <p>This method behaves unpredictably and should be avoided at all costs. It is essentially an overloaded version of <code>ScolCoin Chain.sendAsync()</code>.</p> <p><code>ScolCoin Chain.send()</code> can be called in three different ways:</p> <pre><code>// 1.\nScolCoin Chain.send(payload: JsonRpcRequest, callback: JsonRpcCallback): void;\n\n// 2.\nScolCoin Chain.send(method: string, params?: Array&lt;unknown&gt;): Promise&lt;JsonRpcResponse&gt;;\n\n// 3.\nScolCoin Chain.send(payload: JsonRpcRequest): unknown;\n</code></pre> <p>You can think of these signatures as follows:</p> <ol> <li> <p>This signature is exactly like <code>ScolCoin Chain.sendAsync()</code></p> </li> <li> <p>This signature is like an async <code>ScolCoin Chain.sendAsync()</code> with <code>method</code> and <code>params</code> as arguments, instead of a JSON-RPC payload and callback</p> </li> <li> <p>This signature enables you to call the following RPC methods synchronously:</p> </li> <li> <p><code>eth_accounts</code></p> </li> <li><code>eth_coinbase</code></li> <li><code>eth_uninstallFilter</code></li> <li><code>net_version</code></li> </ol>"},{"location":"smart-chain/wallet/wallet_api.html#legacy-events","title":"Legacy Events","text":""},{"location":"smart-chain/wallet/wallet_api.html#close-deprecated","title":"close (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('close', handler: (error: Error) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#chainidchanged-deprecated","title":"chainIdChanged (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('chainChanged', handler: (chainId: string) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#networkchanged-deprecated","title":"networkChanged (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('networkChanged', handler: (networkId: string) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/wallet_api.html#notification-deprecated","title":"notification (DEPRECATED)","text":"<p>Please refer to MetaMask Doc, the only difference is we injected a different object.</p> <pre><code>ScolCoin Chain.on('notification', handler: (payload: any) =&gt; void);\n</code></pre>"},{"location":"smart-chain/wallet/extension/add-account.html","title":"How does Add Account Work","text":""},{"location":"smart-chain/wallet/extension/add-account.html#bip39","title":"BIP39","text":"<p>Bitcoin Improvement Proposal (BIP) 39 defines a formula forthe generation of a mnemonic sentence (also referred to as mnemonic words, seed phrase, recovery phrase, etc.)the generation of a seed from that mnemonic sentence. That seed is used to produce your private and public keys, but those details will be covered in the next post in this series.</p>"},{"location":"smart-chain/wallet/extension/add-account.html#bip32","title":"BIP32","text":"<p>BIP 32 is a specification for creating Hierarchical Deterministic wallets. They are wallets that, from a root it can generate multiple \"child\" private keys in a deterministic way. You only need to remember the \"path\" of the child key.For example hardware wallets use them from a single root you can generate separate keys for Bitcoin (with path m/44'/0'/0'/0) and Ethereum (path m/44'/60'/0'/0).</p>"},{"location":"smart-chain/wallet/extension/add-account.html#add-account-in-extension-wallet","title":"Add Account in Extension Wallet","text":"<p>ScolCoin Chain extension wallet would use a similar way to generate keys as Ethereum, i.e. derive the private key using BIP32/BIP44 with HD prefix as \"44'/60'/\", which is the same as Ethereum's derivation path.</p> <p></p> <p>Whenever you click on \u201cAdd Account\u201d, your seed is extended at the end by a counter value which makes it possible to automatically derive an unlimited number of new addresses in your extension wallet.</p>"},{"location":"smart-chain/wallet/extension/add-asset.html","title":"How to Add a  Token","text":""},{"location":"smart-chain/wallet/extension/add-asset.html#how-to-add-pegged-token","title":"How to Add Pegged Token","text":"<p>By default, ScolCoin Chain Extension wallet will only show SCOL your balance.</p> <ul> <li>Open Extension wallet and click <code>Assets</code> to see the tokens in your wallet.</li> </ul> <p></p> <ul> <li>Scroll down to the bottom and click \u201c+\u201d.</li> </ul> <p></p> <p>You could search for your token with symbol. All pegged SRC20 tokens are already listed. </p> <ul> <li>then you should see your asset after checking box</li> </ul> <p></p>"},{"location":"smart-chain/wallet/extension/add-asset.html#how-to-add-a-custom-token","title":"How to Add a Custom Token","text":"<p>Here's how you add a custom token.</p> <ul> <li>Open Extension wallet and click <code>Assets</code> to see the tokens in your wallet.</li> <li>Scroll down to the bottom and click \u201c+\u201d.</li> <li>Click \u201c+\u201d on the right corner </li> <li>Paste the contract address </li> </ul> <p></p> <ul> <li>Click <code>Add Token</code> to confirm</li> <li>You're done. You'll now see it in your assets list so it's easier to track and use.</li> </ul>"},{"location":"smart-chain/wallet/extension/direct.html","title":"Wallet Direct User Guide","text":""},{"location":"smart-chain/wallet/extension/direct.html#key-features","title":"Key Features","text":"<ul> <li>Seamless Token Transfer Transfer tokens (which support BC/TC) between paired SCOL.com account and ScolCoin Chain Wallet. Without the trouble of copy/paste address and memo every time</li> <li>SCOL Holding The SCOL  positions of your SCOL.com account will not change.</li> </ul>"},{"location":"smart-chain/wallet/extension/direct.html#user-guide","title":"User Guide","text":""},{"location":"smart-chain/wallet/extension/direct.html#prerequisites","title":"Prerequisites","text":"<ul> <li>SCOL.com Account SetupEnable two-factor authentication for your SCOL.com account (The balance cannot be zero)</li> <li>Install ScolCoin Chain Extension WalletInstall the latest v1.126.11 :<ul> <li>Chrome App Store Link: https://chrome.google.com/webstore/detail/shree-chain-wallet/fhbohimaelbohpjbbldcngcnapndodjp</li> <li>Firefox App Store Link: https://addons.mozilla.org/en-US/firefox/addon/shree-chain/?src=search</li> </ul> </li> <li>Create an account. You cannot use the accounts imported from your Ledger hardware wallet.</li> </ul>"},{"location":"smart-chain/wallet/extension/direct.html#how-to-pair-your-wallets","title":"How to pair your wallets","text":"<ol> <li>Choose one of your accounts </li> </ol> <p>You cannot use the accounts imported from your Ledger hardware wallet.</p> <p>Click on \u201cConnect to SCOL.com account\u201d</p> <p></p> <ol> <li>Verify Address Ownership 2.1 Connect your browser extension wallet</li> </ol> <p></p> <p>2.2 Sign messageSign via browser extension wallet</p> <p></p> <p>2.3: Connected and wallet direct successfully</p> <p></p> <p>The connected address display on this page: https://www.scolcoin.com/en/wallet-direct </p> <p></p> <p>You can confirm the paired status from the Extension wallet</p> <p></p>"},{"location":"smart-chain/wallet/extension/direct.html#how-to-undo-your-paired-wallets","title":"How to undo your paired wallets?","text":"<ul> <li>Unpair from SCOL.com</li> </ul> <p>Go to this page: https://www.scolcoin.com/en/wallet-direct and click on \u201cDisconnect\u2018, then your address is not connected anymore.</p> <p></p> <ul> <li>Unpair from your SCOL Extension wallet </li> </ul> <p>Click on the \u201cManage\u201d button to view the details of your account</p> <p></p> <p>Click on \u201cDisconnect\u201d then confirm</p> <p></p> <p>You can confirm the paired status from the Extension wallet</p> <p></p>"},{"location":"smart-chain/wallet/extension/direct.html#how-to-withdraw-tokens-from-scolcom-to-a-paired-account-in-extension-wallet","title":"How to Withdraw Tokens from SCOL.com to a paired account in Extension wallet?","text":"<ol> <li>Unlock your pairs account of SCOL Extension wallet</li> </ol> <p>Click on the \u201cReceive\u201d button</p> <p></p> <ol> <li>Choose \u201cWallet Direct\u2018</li> </ol> <p></p> <ol> <li>Select one of your assets from the account balance of SCOL.com</li> </ol> <p></p> <p>Fill in the amount</p> <p></p> <p>Confirm your withdrawal transaction by following the verification process</p> <p></p> <p>Wait for your tokens to come</p> <p></p>"},{"location":"smart-chain/wallet/extension/direct.html#how-to-deposit-tokens-from-your-scol-extension-wallet-account-to-a-paired-scolcom-account","title":"How to Deposit Tokens from your SCOL Extension wallet account to a paired SCOL.com account?","text":"<ol> <li>Unlock your pairs account of SCOL Extension wallet Click on the \u201cSend\u201d button.</li> </ol> <ol> <li>Choose one of your assets and the paired account as the recipient</li> </ol> <ol> <li>Confirm your transfer</li> </ol> <ol> <li>Wait for your confirmation</li> </ol>"},{"location":"smart-chain/wallet/extension/direct.html#how-to-view-your-withdrawal-history-between-paired-accounts","title":"How to view your withdrawal history between paired accounts?","text":"<ul> <li>Click on the \u201cManage\u201d button to view the details of your account</li> </ul> <ul> <li>Click on \u201cTransaction History\u201d</li> </ul> <ul> <li>View the history of withdrawal transfers</li> </ul>"},{"location":"smart-chain/wallet/extension/ledger.html","title":"How to use Ledger with SCOL Extension Wallet","text":"<p>SCOL Extension Wallet v1.121.1 is released and verified on Firefox and Chrome with Ledger Nano S</p>"},{"location":"smart-chain/wallet/extension/ledger.html#connect-to-ledger-nano-s-hardware-wallet","title":"Connect to Ledger Nano S Hardware Wallet","text":"<p>What you need:</p> <ul> <li>Ledger Nano S or Ledger nano X</li> <li>Up to date Chrome or Firefox installed</li> <li>SCOL Extension wallet v1.21.1 installed</li> </ul> <p>Next:</p> <ol> <li>Your first step is to plug your Ledger into your computer. Ensure it powers on and then input the pin you chose when setting up your ledger.</li> <li>Select and open the Ethereum Application. If you haven't installed Ethereum Application, please read this guide</li> <li>Enabling contract data for SRC20. The first item in the settings menu is \u201cContract Data\u201d. Push down both buttons to select it. Once you have set your ledger up like this the first time, you won\u2019t have to do it again each time you want to use it with SCOL Extension wallet.</li> <li>Open ScolCoin Chain Extension Wallet and select \"ScolCoin Chain\" network</li> <li>Choose \"Hardware Wallet\" in Settings. Then, click on \"Connect\"</li> </ol> <p></p> <ol> <li>Choose HD Path. Use \"Legacy\" by default</li> </ol> <p></p> <ol> <li>Finally, you can see a new account with <code>LEDGER</code> tag</li> </ol> <p></p> <p>Warning</p> <p>Please note you cannot use Ledger account for ScolCoin Chain network. </p> <p>You are connected!</p>"},{"location":"smart-chain/wallet/extension/ledger.html#sign-transaction-with-ledger","title":"Sign Transaction with Ledger","text":"<ol> <li> <p>Connect Ledger and open the Ethereum Application</p> </li> <li> <p>Submit a transaction</p> </li> </ol> <p></p> <p>3.Review and sign this transaction on Ledger</p> <p></p>"},{"location":"smart-chain/wallet/extension/ledger.html#interact-with-dapp","title":"Interact with dApp","text":""},{"location":"smart-chain/wallet/extension/ledger.html#have-connection-issues","title":"Have Connection Issues?","text":"<p>Please read this FAQ: https://support.ledger.com/hc/en-us/articles/115005165269-Connection-issues-with-Windows-or-Linux</p>"},{"location":"smart-chain/wallet/extension/reset.html","title":"How to Reset My Password or Import an Account","text":"<p>When resetting your password for your SCOL Extension wallet, you will need your 12 or 24 word seed phrase. If you do not already have your seed phrase saved someplace safe, please make sure to read How to Reveal Your Seed Phrase.</p> <p>Before trying these steps, confirm that you have your seed phrase with you as you will not be able to reset your password otherwise and will risk becoming locked out of your wallet.</p> <ol> <li>If your wallet is currently unlocked, please lock your wallet first.</li> <li>Click Import Import seed phrase</li> </ol> <p></p> <ol> <li>Enter your seed phrase in the \"Seed  Phrase\" text box</li> <li>Enter your new password</li> <li>Retype your password to confirm it was written correctly</li> <li>Click Reset </li> </ol> <p></p>"},{"location":"smart-chain/wallet/extension/safe.html","title":"How to stay safe","text":"<p>Wallets are a bit of a shift in thinking. Financial freedom and the ability to access and use funds anywhere comes with a bit of responsibility \u2013 there\u2019s no customer support in crypto.</p>"},{"location":"smart-chain/wallet/extension/safe.html#take-responsibility-for-your-own-funds","title":"Take responsibility for your own funds","text":"<p>Centralized exchanges will link your wallet to a username and password that you can recover in a traditional way. Just remember you\u2019re trusting that exchange with custody over your funds. If that company is attacked or folds, your funds are at risk.</p>"},{"location":"smart-chain/wallet/extension/safe.html#write-down-your-seed-phrase","title":"Write down your seed phrase","text":"<p>Wallets will often give you a seed phrase that you must write down somewhere safe. This is the only way you\u2019ll be able to recover your wallet.</p> <p>Here's an example: <pre><code>there aeroplane curve vent formation doge possible product distinct under spirit lamp\n</code></pre> Don\u2019t store it on a computer. Write it down and keep it safe.</p>"},{"location":"smart-chain/wallet/extension/safe.html#do-your-own-research","title":"Do Your Own Research","text":"<p>If you use a web wallet, bookmark the site to protect yourself against phishing scams.</p> <p>Remember transactions can\u2019t be reversed and wallets can\u2019t be easily recovered so take care.</p>"},{"location":"smart-chain/wallet/extension/seed.html","title":"How to Reveal Your Seed Phrase","text":"<p>When dealing with cryptocurrencies or crypto assets like SCOL or BUSD, it is important to always be aware of and have your private keys, seed phrases and passwords backed up in case the unexpected occurs.</p>"},{"location":"smart-chain/wallet/extension/seed.html#backing-up-when-installing","title":"Backing Up When Installing","text":"<p>When you create a new SCOL Extension Wallet account, you are given your 12 word seed phrase is the most important bit of information for you to record and keep safe when managing your extension account.</p> <p>You can write your seed phrase down on a piece of paper, store it on a flash drive or we also make it optional to download a file containing this information.</p> <p></p>"},{"location":"smart-chain/wallet/extension/seed.html#backing-up-after-you-install-scol-extension-wallet","title":"Backing Up After You Install SCOL Extension Wallet","text":"<p>If for some reason you forgot to record your 12 word seed phrase or you lost the original copy, you can reveal your seed phrase so you can back it up again.</p> <p>Select Dropdown Menu (on top-right corner) --&gt; Manage Accounts</p> <p></p> <p>click on Download button</p> <p></p> <p>Enter your password to reveal your seed words.</p> <p></p>"}]}